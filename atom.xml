<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å¯ä¹åŠ å†°</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-10-25T06:29:01.682Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>HJY</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ¢ç©¶Safariå¯¹äºcanvasçš„é™åˆ¶</title>
    <link href="http://example.com/2022/10/25/%E6%8E%A2%E7%A9%B6Safari%E5%AF%B9%E4%BA%8Ecanvas%E7%9A%84%E9%99%90%E5%88%B6/"/>
    <id>http://example.com/2022/10/25/%E6%8E%A2%E7%A9%B6Safari%E5%AF%B9%E4%BA%8Ecanvas%E7%9A%84%E9%99%90%E5%88%B6/</id>
    <published>2022-10-25T03:32:52.000Z</published>
    <updated>2022-10-25T06:29:01.682Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="æ¢ç©¶èµ·å› "><a href="#æ¢ç©¶èµ·å› " class="headerlink" title="æ¢ç©¶èµ·å› "></a>æ¢ç©¶èµ·å› </h2><p>ä¹‹å‰ä½¿ç”¨<code>canvas</code>åšäº†ä¸€ä¸ªç»˜åˆ¶æ°´å°çš„åŠŸèƒ½ï¼Œå¯ä»¥ç®€å•ç†è§£æˆè¿›å…¥Aé¡µé¢åï¼Œä»æ¥å£è·å–ç»˜åˆ¶æ°´å°çš„é…ç½®ï¼Œç„¶ååœ¨Aé¡µé¢çš„æŸä¸ªåŒºåŸŸä½¿ç”¨<code>canvas</code>åŠ ç›–ä¸€å±‚æ°´å°</p><p>å¼€å‘å’Œæµ‹è¯•éƒ½åœ¨chromeæµè§ˆå™¨ä¸Šè¿›è¡Œï¼ŒæœŸé—´å‡è¡¨ç°æ­£å¸¸ï¼Œç›´åˆ°äº¤ä»˜ç»™å®¢æˆ·å‡ ä¸ªæœˆåæ¥åˆ°åé¦ˆï¼Œå…¶APPå†…åµŒæˆ‘ä»¬å¼€å‘çš„H5é¡µé¢ï¼Œå…ˆåå‡ºç°äº†ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li>Androidæœºå‹æ­£å¸¸è¿›å…¥é¡µé¢ï¼Œå¶å°”æ°´å°ä¸åŠ è½½</li><li>åœ¨IOSä¸‹æ‰“å¼€é¡µé¢åæ— æ³•æ­£å¸¸åŠ è½½ï¼Œæ§åˆ¶å°æœ‰æŠ¥é”™</li><li>åœ¨åä¸ºé¸¿è’™ç³»ç»Ÿä¸‹APPç›´æ¥é—ªé€€</li></ul><p>åš¯ï¼Œé—®é¢˜è¿˜æŒºå¤šï¼Œä¸€ä¸ªæ¯”ä¸€ä¸ªä¸¥é‡- -ï¼é‚£æ¥ä¸‹æ¥çœ‹çœ‹ï¼Œæ˜¯ä»€ä¹ˆé—®é¢˜å¯¼è‡´ä»¥ä¸Šç°è±¡</p><p><strong>ä¸‹æ–‡ä½¿ç”¨æˆ‘å¦å¤–å†™çš„ä¸€ä¸ªdemoåšæ¼”ç¤º</strong></p><h2 id="æ’æŸ¥è¿‡ç¨‹"><a href="#æ’æŸ¥è¿‡ç¨‹" class="headerlink" title="æ’æŸ¥è¿‡ç¨‹"></a>æ’æŸ¥è¿‡ç¨‹</h2><h4 id="ç¬¬ä¸€ä¸ªé—®é¢˜ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œç®€å•è¯´è¯´"><a href="#ç¬¬ä¸€ä¸ªé—®é¢˜ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œç®€å•è¯´è¯´" class="headerlink" title="ç¬¬ä¸€ä¸ªé—®é¢˜ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œç®€å•è¯´è¯´"></a>ç¬¬ä¸€ä¸ªé—®é¢˜ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œç®€å•è¯´è¯´</h4><p>ä½¿ç”¨Androidæœºå‹è¿›è¡Œæµ‹è¯•ï¼Œç¡®å®æ˜¯å¶ç°ä¸åŠ è½½çš„æƒ…å†µï¼Œç»è¿‡åå¤è°ƒè¯•ï¼Œå‘ç°åœ¨å¼±ç½‘æƒ…å†µä¸‹ï¼Œæ²¡æœ‰è¯·æ±‚æ¥å£ï¼Œè¿™é‡Œè°ƒæ•´äº†è¯·æ±‚çš„é¡ºåºå°±è§£å†³äº†</p><h4 id="ç¬¬äºŒä¸ªé—®é¢˜"><a href="#ç¬¬äºŒä¸ªé—®é¢˜" class="headerlink" title="ç¬¬äºŒä¸ªé—®é¢˜"></a>ç¬¬äºŒä¸ªé—®é¢˜</h4><p>ä¸€å¼€å§‹åœ¨chromeå’ŒFirefoxä¸‹å‡æœªå¤ç°ï¼Œåæ¥å‘ç°ä»…åœ¨iPhoneçœŸæœºSafariä¸‹æ‰èƒ½å¤ç°ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/HJY-xh/pictures/master/pictures/202210251104583.png"></p><p>éš¾é“ctxæ˜¯nullå—ï¼Œç»“åˆéƒ¨åˆ†ä»£ç è°ƒè¯•åæŸ¥çœ‹ç¡®å®æ²¡æœ‰è·å–åˆ°æ¸²æŸ“ä¸Šä¸‹æ–‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&quot;canvas&quot;</span>);</span><br><span class="line">canvas.width = <span class="number">10000</span>;</span><br><span class="line">canvas.height = <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">ctx.font = <span class="string">&quot;20px Microsoft YaHei&quot;</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶æƒ³èµ·æ¥Safariå¯¹äºcanvasçš„ä½¿ç”¨æœ‰ä¸€äº›é™åˆ¶ï¼ˆæˆ–è€…è¯´æ˜¯ä¼˜åŒ–ï¼‰ï¼Œå°è±¡ä¸­è¯¥æµè§ˆå™¨å¯¹äºcanvasçš„æ•°é‡æœ‰ä¸€å®šé™åˆ¶ï¼Œemmmï¼Œæˆ‘çš„ä»£ç ä¸­åªæœ‰ä¸€ä¸ªcanvasï¼Œåº”è¯¥å’Œè¿™ä¸ªé™åˆ¶æ²¡æœ‰å…³ç³»</p><p>ç„¶åæˆ‘å¼€å§‹æœç´¢Safariå¯¹äºä½¿ç”¨canvasæœ‰ä»€ä¹ˆé™åˆ¶/webkitå†…æ ¸å¯¹äºcanvasçš„é™åˆ¶ï¼Œå¥½çš„ï¼Œæ²¡æ‰¾åˆ°ä»€ä¹ˆè››ä¸é©¬è¿¹ã€‚äºæ˜¯å¼€å§‹é¢å‘googleç¼–ç¨‹ï¼Œç¿»ä¸€ç¿»æœ‰æ²¡æœ‰äººé‡åˆ°è¿‡ç›¸ä¼¼çš„é—®é¢˜</p><p>åœ¨ä¸€ç¯‡æ–‡ç« ä¸­æœ‰äººæåˆ° Safariå¯¹äºç”»å¸ƒå¤§å°æœ‰é™åˆ¶ï¼Œäºæ˜¯æˆ‘ä¿®æ”¹å®½é«˜ï¼Œå‡ç¼©å°10å€ï¼Œä¹Ÿå°±æ˜¯æ¸²æŸ“çš„åŒºåŸŸç¼©å°äº†100å€ï¼Œåˆ·æ–°é¡µé¢åæ­£å¸¸åŠ è½½äº†ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">canvas.width = <span class="number">1000</span>;</span><br><span class="line">canvas.height = <span class="number">1000</span>;</span><br></pre></td></tr></table></figure><p>é—®é¢˜è§£å†³äº†æ˜¯é’ˆä¸æˆ³å•Šï¼Œé‚£å…·ä½“çš„å°ºå¯¸æ˜¯å¤šå°‘ç­‰è§£å†³å®Œæ‰€æœ‰é—®é¢˜å†ç ”ç©¶ä¸‹</p><h4 id="ç¬¬ä¸‰ä¸ªé—®é¢˜"><a href="#ç¬¬ä¸‰ä¸ªé—®é¢˜" class="headerlink" title="ç¬¬ä¸‰ä¸ªé—®é¢˜"></a>ç¬¬ä¸‰ä¸ªé—®é¢˜</h4><p>APPé—ªé€€ï¼Œåˆšå¼€å§‹åˆæ­¥åˆ¤æ–­å¯èƒ½æ˜¯å®¢æˆ·ç¯å¢ƒwebviewåšäº†æŸäº›å¤„ç†ï¼Œå’Œæˆ‘ä»¬H5é¡µé¢æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œäºæ˜¯è¯·æ•™APPå¼€å‘å¤§ä½¬ï¼Œå¤§ä½¬ä¸€é¡¿æ’æŸ¥åå¾—å‡ºç»“è®ºï¼šåœ¨åä¸ºé¸¿è’™ç³»ç»Ÿä¸‹ï¼ŒH5é¡µé¢æ¸²æŸ“å¤ªä¹…äº†ï¼Œå¯¼è‡´é—ªé€€</p><p>å¥½å®¶ä¼™ï¼Œé‚£è¿™ä¸ªæƒ…å†µè¿˜æ˜¯å› ä¸ºå—åˆ°äº†ç”»å¸ƒå¤§å°å½±å“ï¼Ÿï¼</p><p>äºæ˜¯è®©æµ‹è¯•åŒå­¦åœ¨å“åº”ç³»ç»Ÿä¸Šé€šè¿‡APPæ‰“å¼€H5é¡µé¢ï¼Œç¡®å®æ˜¯æ²¡æœ‰å†å‘ç”Ÿé—ªé€€â€¦</p><p><img src="https://raw.githubusercontent.com/HJY-xh/pictures/master/pictures/202210251153265.png"></p><p>é‚£è‡³æ­¤bugå…¨éƒ¨è§£å†³</p><h2 id="æ¢ç©¶Safariå¯¹äºcanvasçš„é™åˆ¶"><a href="#æ¢ç©¶Safariå¯¹äºcanvasçš„é™åˆ¶" class="headerlink" title="æ¢ç©¶Safariå¯¹äºcanvasçš„é™åˆ¶"></a>æ¢ç©¶Safariå¯¹äºcanvasçš„é™åˆ¶</h2><p>å·²çŸ¥ï¼šSafarié‡‡ç”¨webkitå†…æ ¸</p><p>è§£ï¼šå»githubä¸Šcloneä¸€ä»½æºç ç…ç…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/WebKit/WebKit.git</span><br></pre></td></tr></table></figure><p>ï¼ˆä¸‹é¢è´´çš„æºç å‡åœ¨<code>Source/WebCore/html/HTMLCanvasElement.cpp</code>æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ç›´æ¥ç¿»é˜…ï¼Œcloneä¸‹æ¥å¤ªä¹…å•¦ï¼‰</p><p>Safari åœ¨å®ç°<code>canvas</code>æ—¶å¯¹å†…å­˜è¿›è¡Œäº†é™åˆ¶ï¼Œåœ¨ä¸åŒè®¾å¤‡ä¸Šå…è®¸ä½¿ç”¨çš„å†…å­˜ä¸åŒï¼Œå…·ä½“æ ¹æ®è®¾å¤‡ RAM çš„å¤§å°è®¡ç®—ï¼Œä¸€æ—¦è¶…å‡ºé™åˆ¶ï¼Œä½¿ç”¨ getContext(â€˜2dâ€™) å°†ä¼šè¿”å› null</p><p>C++æºç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">CanvasRenderingContext2D* <span class="title">HTMLCanvasElement::createContext2d</span><span class="params">(<span class="keyword">const</span> String&amp; type, CanvasRenderingContext2DSettings&amp;&amp; settings)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">ASSERT_UNUSED</span>(HTMLCanvasElement::<span class="built_in">is2dType</span>(type), type);</span><br><span class="line">    <span class="built_in">ASSERT</span>(!m_context);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Make sure we don&#x27;t use more pixel memory than the system can support.</span></span><br><span class="line">    <span class="keyword">size_t</span> requestedPixelMemory = <span class="number">4</span> * <span class="built_in">width</span>() * <span class="built_in">height</span>();</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">activePixelMemory</span>() + requestedPixelMemory &gt; <span class="built_in">maxActivePixelMemory</span>()) &#123;</span><br><span class="line">        <span class="keyword">auto</span> message = <span class="built_in">makeString</span>(<span class="string">&quot;Total canvas memory use exceeds the maximum limit (&quot;</span>, <span class="built_in">maxActivePixelMemory</span>() / <span class="number">1024</span> / <span class="number">1024</span>, <span class="string">&quot; MB).&quot;</span>);</span><br><span class="line">        <span class="built_in">document</span>().<span class="built_in">addConsoleMessage</span>(MessageSource::JS, MessageLevel::Warning, message);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    m_context = CanvasRenderingContext2D::<span class="built_in">create</span>(*<span class="keyword">this</span>, <span class="built_in">WTFMove</span>(settings), <span class="built_in">document</span>().<span class="built_in">inQuirksMode</span>());</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> USE(IOSURFACE_CANVAS_BACKING_STORE)</span></span><br><span class="line">    <span class="comment">// Need to make sure a RenderLayer and compositing layer get created for the Canvas.</span></span><br><span class="line">    <span class="built_in">invalidateStyleAndLayerComposition</span>();</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">static_cast</span>&lt;CanvasRenderingContext2D*&gt;(m_context.<span class="built_in">get</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° <code>canvas</code> çš„å†…å­˜å ç”¨ç©ºé—´ä¸º <code>4 * width * height</code>ï¼Œè¿™é‡Œçš„4æŒ‡æ¯ä¸ªåƒç´ çš„RGBA</p><p>å…è®¸ä½¿ç”¨çš„æœ€å¤§å†…å­˜ç©ºé—´ç”± <code>maxActivePixelMemory</code> è¿™ä¸ªå‡½æ•°è®¡ç®—ï¼Œè¿™ä¸ªå‡½æ•°è®¡ç®—è§„åˆ™å¦‚ä¸‹:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">size_t</span> <span class="title">HTMLCanvasElement::maxActivePixelMemory</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (maxActivePixelMemoryForTesting)</span><br><span class="line">        <span class="keyword">return</span> *maxActivePixelMemoryForTesting;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> maxPixelMemory;</span><br><span class="line">    <span class="keyword">static</span> std::once_flag onceFlag;</span><br><span class="line">    std::<span class="built_in">call_once</span>(onceFlag, [] &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> PLATFORM(IOS_FAMILY)</span></span><br><span class="line">        maxPixelMemory = <span class="built_in">ramSize</span>() / <span class="number">4</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">        maxPixelMemory = std::<span class="built_in">max</span>(<span class="built_in">ramSize</span>() / <span class="number">4</span>, <span class="number">2151</span> * MB);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> maxPixelMemory;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æŸ¥æ‰¾æºç å¯¹äºç”»å¸ƒå¤§å°çš„é™åˆ¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">size_t</span> <span class="title">maxCanvasArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (maxCanvasAreaForTesting)</span><br><span class="line">        <span class="keyword">return</span> *maxCanvasAreaForTesting;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Firefox limits width/height to 32767 pixels, but slows down dramatically before it</span></span><br><span class="line">    <span class="comment">// reaches that limit. We limit by area instead, giving us larger maximum dimensions,</span></span><br><span class="line">    <span class="comment">// in exchange for a smaller maximum canvas size. The maximum canvas size is in device pixels.</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> PLATFORM(IOS_FAMILY)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">4096</span> * <span class="number">4096</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">16384</span> * <span class="number">16384</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»è¿‡å®é™…æµ‹è¯•ï¼Œåœ¨iPhoneçš„Safariä¸­ï¼Œ<code>canvas</code>çš„æœ€å¤§å¯ç”¨å®½é«˜ç¡®å®æ˜¯4096</p><p>å…·ä½“å¯ä»¥çœ‹å‚è€ƒæ–‡ç« ä¸­çš„<a href="https://blog.csdn.net/lefex/article/details/121072900">Safariéš¾é“æ˜¯ä¸‹ä¸€ä¸ªIEï¼Ÿå…¼å®¹æ€§è¿™ä¹ˆâ€œå·®â€</a></p><h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><p>å¦å¤–åœ¨chromeã€Firefoxä¸­ï¼Œè¿‡å¤§çš„å®½é«˜ï¼ˆ100000ï¼‰ï¼Œä¹Ÿæ— æ³•æ­£å¸¸å±•ç¤ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://raw.githubusercontent.com/HJY-xh/pictures/master/pictures/202210251358465.png"></p><p><img src="https://raw.githubusercontent.com/HJY-xh/pictures/master/pictures/202210251400897.png"></p><p>æ²¡æœ‰æ¢è®¨é‡Šæ”¾<code>canvas</code>å ç”¨çš„å†…å­˜ï¼Œå¤§å®¶æœ‰å…´è¶£å¯ä»¥å°è¯•ä¸€ä¸‹</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>MDN</p><p><a href="https://stackoverflow.com/questions/40482586/getcontext2d-returns-null-in-safari-10">stackoverflow</a></p><p><a href="https://blog.csdn.net/lefex/article/details/121072900">Safariéš¾é“æ˜¯ä¸‹ä¸€ä¸ªIEï¼Ÿå…¼å®¹æ€§è¿™ä¹ˆâ€œå·®â€</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ¢ç©¶èµ·å› &quot;&gt;&lt;a href=&quot;#æ¢ç©¶èµ·å› &quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>æ·±å…¥æ¢ç©¶Object.createï¼ˆå°šæœªå®Œæˆï¼‰</title>
    <link href="http://example.com/2022/10/17/%E6%B7%B1%E5%85%A5%E6%8E%A2%E7%A9%B6Object.create/"/>
    <id>http://example.com/2022/10/17/%E6%B7%B1%E5%85%A5%E6%8E%A2%E7%A9%B6Object.create/</id>
    <published>2022-10-17T13:12:03.000Z</published>
    <updated>2022-10-25T06:32:23.764Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="æ¢ç©¶èµ·å› "><a href="#æ¢ç©¶èµ·å› " class="headerlink" title="æ¢ç©¶èµ·å› "></a>æ¢ç©¶èµ·å› </h2><p>åœ¨é˜…è¯»ä¸€äº›æ¡†æ¶æºç ï¼ˆæ¯”æ–¹è¯´Vue)æ—¶å‘ç°ï¼Œå¼€å‘è€…ä»¬ä½¿ç”¨<code>Object.create(null)</code>æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè€Œæˆ‘ä»¬ä¸€èˆ¬åœ¨éé¢å‘å·¥å…·é“¾/åŸºå»ºå¼€å‘æ—¶ï¼Œæƒ¯å¸¸ä½¿ç”¨å­—é¢é‡ï¼Œé‚£ä¹ˆå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create">MDN</a></p><p><a href="https://stackoverflow.com/questions/15518328/is-creating-js-object-with-object-createnull-the-same-as">stackoverflow</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ¢ç©¶èµ·å› &quot;&gt;&lt;a href=&quot;#æ¢ç©¶èµ·å› &quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScriptä¸­extendsç”¨æ³•å°ç»“</title>
    <link href="http://example.com/2022/08/22/TypeScript%E4%B8%ADextends%E7%94%A8%E6%B3%95%E5%B0%8F%E7%BB%93/"/>
    <id>http://example.com/2022/08/22/TypeScript%E4%B8%ADextends%E7%94%A8%E6%B3%95%E5%B0%8F%E7%BB%93/</id>
    <published>2022-08-22T14:12:31.000Z</published>
    <updated>2022-08-31T09:17:36.455Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p><code>extends</code>å…³é”®å­—åœ¨TSä¸­æœ‰å¤šç§ç”¨æ³•ï¼Œå•ç‹¬ä½¿ç”¨æ—¶ï¼Œå¸¸è§æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µ</p><ul><li>ç»§æ‰¿/æ‹“å±•</li><li>çº¦æŸ</li><li>æ¡ä»¶åˆ¤æ–­</li></ul><h2 id="ç»§æ‰¿-æ‰©å±•"><a href="#ç»§æ‰¿-æ‰©å±•" class="headerlink" title="ç»§æ‰¿/æ‰©å±•"></a>ç»§æ‰¿/æ‰©å±•</h2><h4 id="å•ä¸ª-å¤šä¸ªæ¥å£"><a href="#å•ä¸ª-å¤šä¸ªæ¥å£" class="headerlink" title="å•ä¸ª/å¤šä¸ªæ¥å£"></a>å•ä¸ª/å¤šä¸ªæ¥å£</h4><p>è¿™ç§ç”¨æ³•å’Œç±»çš„ç»§æ‰¿ç›¸ä¼¼ï¼Œçœ‹ä¸ªğŸŒ°</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Animal &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Dogç»§æ‰¿Animalå¹¶æ‰©å±•ä¸€ä¸ªrunæ–¹æ³•</span></span><br><span class="line"><span class="keyword">interface</span> Dog <span class="keyword">extends</span> Animal &#123;</span><br><span class="line">    <span class="attr">run</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dog: Dog = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;ç‹—å­&#x27;</span>,</span><br><span class="line">    <span class="attr">run</span>: <span class="function">() =&gt;</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿæ”¯æŒå¤šé‡ç»§æ‰¿</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Blackdog <span class="keyword">extends</span> Animal, Dog &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ‰©å±•ç±»çš„æ¥å£"><a href="#æ‰©å±•ç±»çš„æ¥å£" class="headerlink" title="æ‰©å±•ç±»çš„æ¥å£"></a>æ‰©å±•ç±»çš„æ¥å£</h4><p>é™¤äº†ä¸Šé¢çš„å¸¸è§ç”¨æ³•ï¼Œæ¥å£è¿˜å¯ä»¥ç»§æ‰¿ç±»çš„ç§æœ‰æˆå‘˜å’Œå—ä¿æŠ¤æˆå‘˜ï¼Œè€Œä¸ä»…ä»…æ˜¯å…¬å…±æˆå‘˜</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> state: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Runnable <span class="keyword">extends</span> Animal &#123;</span><br><span class="line">    run(): <span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> <span class="title">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">run</span>(<span class="params"></span>)</span> &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> <span class="title">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">run</span>(<span class="params"></span>)</span> &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Error: ç¼ºå°‘å±æ€§ state</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Monkey</span> <span class="title">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">run</span>(<span class="params"></span>)</span> &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><ul><li>ä¸€ä¸ªæ¥å£å¯ä»¥ç»§æ‰¿/æ‰©å±•ä¸€ä¸ªæˆ–å¤šä¸ªç°æœ‰æ¥å£</li><li>ä¸€ä¸ªæ¥å£ä¹Ÿå¯ä»¥ç»§æ‰¿/æ‰©å±•ä¸€ä¸ªç±»ã€‚å¦‚æœè¯¥ç±»åŒ…å«ç§æœ‰æˆ–å—ä¿æŠ¤æˆå‘˜ï¼Œåˆ™è¯¥æ¥å£åªèƒ½ç”±è¯¥ç±»æˆ–å…¶å­ç±»å®ç°</li></ul><h2 id="çº¦æŸ"><a href="#çº¦æŸ" class="headerlink" title="çº¦æŸ"></a>çº¦æŸ</h2><p>æ­¤å¤„è¯´çš„çº¦æŸï¼Œä¸€èˆ¬æŒ‡æ³›å‹çº¦æŸï¼Œå³å¯¹æ³›å‹çš„ç±»å‹è¿›è¡Œçº¦æŸæ§åˆ¶</p><p>åœ¨ç¼–å†™æ–¹æ³•çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šéœ€è¦å¯¹å‚æ•°çš„ç±»å‹åšä¸€äº›é™åˆ¶ï¼Œæ¯”æ–¹è¯´å…¥å‚æœ‰ä¸€ä¸ª<code>length</code>å±æ€§</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ²¡æœ‰çº¦æŸ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLength</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Error: ç±»å‹â€œTâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œlengthâ€</span></span><br><span class="line">    <span class="keyword">return</span> arg.length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿›è¡Œçº¦æŸ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLength</span>&lt;<span class="title">T</span> <span class="title">extends</span> </span>&#123;length: <span class="built_in">number</span>&#125;&gt;(arg: T): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> arg.length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ¡ä»¶åˆ¤æ–­"><a href="#æ¡ä»¶åˆ¤æ–­" class="headerlink" title="æ¡ä»¶åˆ¤æ–­"></a>æ¡ä»¶åˆ¤æ–­</h2><p>å’Œä¸‰ç›®è¡¨è¾¾å¼ç±»ä¼¼ï¼Œçœ‹çœ‹å®˜ç½‘çš„ç¤ºä¾‹å’Œè¯´æ˜</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SomeType <span class="keyword">extends</span> OtherType ? TrueType : FalseType;</span><br></pre></td></tr></table></figure><blockquote><p>When the type on the left of the <code>extends</code> is assignable to the one on the right, then youâ€™ll get the type in the first branch (the â€œtrueâ€ branch); otherwise youâ€™ll get the type in the latter branch (the â€œfalseâ€ branch).</p></blockquote><p><strong>å¦‚æœextendså‰é¢çš„ç±»å‹èƒ½å¤Ÿèµ‹å€¼ç»™extendsåé¢çš„ç±»å‹ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼åˆ¤æ–­ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡</strong></p><h4 id="å¸¸è§„ä½¿ç”¨"><a href="#å¸¸è§„ä½¿ç”¨" class="headerlink" title="å¸¸è§„ä½¿ç”¨"></a>å¸¸è§„ä½¿ç”¨</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A1 &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> A2 &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Açš„ç±»å‹ä¸ºstring</span></span><br><span class="line"><span class="keyword">type</span> A = A2 <span class="keyword">extends</span> A1 ? <span class="built_in">string</span> : <span class="built_in">number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> str: A = <span class="string">&#x27;this is string&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>A1ï¼ŒA2ä¸¤ä¸ªæ¥å£ï¼Œæ»¡è¶³A2çš„æ¥å£ä¸€å®šå¯ä»¥æ»¡è¶³A1ï¼Œæ‰€ä»¥æ¡ä»¶ä¸ºçœŸï¼ŒAçš„ç±»å‹å–string</p><h4 id="ç»“åˆæ³›å‹ä½¿ç”¨"><a href="#ç»“åˆæ³›å‹ä½¿ç”¨" class="headerlink" title="ç»“åˆæ³›å‹ä½¿ç”¨"></a>ç»“åˆæ³›å‹ä½¿ç”¨</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> A1 = <span class="string">&#x27;x&#x27;</span> <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>; <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> A2 = <span class="string">&#x27;x&#x27;</span> | <span class="string">&#x27;y&#x27;</span> <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>; <span class="comment">// number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> P&lt;T&gt; = T <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">type</span> A3 = P&lt;<span class="string">&#x27;x&#x27;</span> | <span class="string">&#x27;y&#x27;</span>&gt; <span class="comment">// ?</span></span><br></pre></td></tr></table></figure><p>A1ã€A2çš„ç»“æœä¹Ÿå°±æ˜¯å¸¸è§„çš„ç”¨æ³•ï¼Œå¾ˆå®¹æ˜“å¾—å‡ºç»“æœï¼Œä½†æ˜¯A3ç»“åˆäº†æ³›å‹ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª<code>Distributive Conditional Types</code>çš„æ¦‚å¿µ</p><blockquote><p>When conditional types act on a generic type, they become <em>distributive</em> when given a union type</p></blockquote><p><em>å¦‚æœextendså‰é¢çš„å‚æ•°æ˜¯ä¸€ä¸ªæ³›å‹ç±»å‹ï¼Œå½“ä¼ å…¥è¯¥å‚æ•°çš„æ˜¯è”åˆç±»å‹ï¼Œåˆ™ä½¿ç”¨åˆ†é…å¾‹è®¡ç®—æœ€ç»ˆçš„ç»“æœã€‚åˆ†é…å¾‹æ˜¯æŒ‡ï¼Œå°†è”åˆç±»å‹çš„è”åˆé¡¹æ‹†æˆå•é¡¹ï¼Œåˆ†åˆ«ä»£å…¥æ¡ä»¶ç±»å‹ï¼Œç„¶åå°†æ¯ä¸ªå•é¡¹ä»£å…¥å¾—åˆ°çš„ç»“æœå†è”åˆèµ·æ¥ï¼Œå¾—åˆ°æœ€ç»ˆçš„åˆ¤æ–­ç»“æœã€‚</em></p><p>ä»¥ä¸Šé¢çš„A3ä¸ºä¾‹ï¼Œè¿›è¡Œæ¨å¯¼</p><p>P<T>ä¸­Tæ˜¯ä¸€ä¸ªæ³›å‹å‚æ•°ã€‚åœ¨A3çš„å®šä¹‰ä¸­ï¼Œç»™Tä¼ å…¥çš„æ˜¯â€™xâ€™å’Œâ€™yâ€™çš„è”åˆç±»å‹â€™xâ€™ | â€˜yâ€™ï¼Œæ»¡è¶³åˆ†é…å¾‹ï¼Œäºæ˜¯â€™xâ€™å’Œâ€™yâ€™è¢«æ‹†å¼€ï¼Œåˆ†åˆ«ä»£å…¥P<T></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">P&lt;<span class="string">&#x27;x&#x27;</span> | <span class="string">&#x27;y&#x27;</span>&gt; =&gt; P&lt;<span class="string">&#x27;x&#x27;</span>&gt; | P&lt;<span class="string">&#x27;y&#x27;</span>&gt;</span><br><span class="line"><span class="comment">// &#x27;x&#x27;ä»£å…¥å¾—åˆ°</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span> <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="function"><span class="params">number</span> =&gt;</span> <span class="built_in">string</span></span><br><span class="line"><span class="comment">// &#x27;y&#x27;ä»£å…¥å¾—åˆ°</span></span><br><span class="line"><span class="string">&#x27;y&#x27;</span> <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="function"><span class="params">number</span> =&gt;</span> <span class="built_in">number</span></span><br></pre></td></tr></table></figure><p>ç„¶åå°†æ¯ä¸€é¡¹ä»£å…¥å¾—åˆ°çš„ç»“æœè”åˆèµ·æ¥ï¼Œå¾—åˆ°string | number</p><p>æ»¡è¶³ä¸¤ä¸ªè¦ç‚¹å³å¯é€‚ç”¨åˆ†é…å¾‹ï¼šç¬¬ä¸€ï¼Œå‚æ•°æ˜¯æ³›å‹ç±»å‹ï¼Œç¬¬äºŒï¼Œä»£å…¥å‚æ•°çš„æ˜¯è”åˆç±»å‹</p><h4 id="ç‰¹æ®Šçš„never"><a href="#ç‰¹æ®Šçš„never" class="headerlink" title="ç‰¹æ®Šçš„never"></a>ç‰¹æ®Šçš„never</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// neveræ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> A1 = <span class="built_in">never</span> <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>; <span class="comment">// string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> P&lt;T&gt; = T <span class="keyword">extends</span> <span class="string">&#x27;x&#x27;</span> ? <span class="built_in">string</span> : <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">type</span> A2 = P&lt;<span class="built_in">never</span>&gt; <span class="comment">// never</span></span><br></pre></td></tr></table></figure><p><strong>neverè¢«è®¤ä¸ºæ˜¯ç©ºçš„è”åˆç±»å‹</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰è”åˆé¡¹çš„è”åˆç±»å‹ï¼Œæ‰€ä»¥è¿˜æ˜¯æ»¡è¶³ä¸Šé¢çš„åˆ†é…å¾‹ï¼Œç„¶è€Œå› ä¸ºæ²¡æœ‰è”åˆé¡¹å¯ä»¥åˆ†é…ï¼Œæ‰€ä»¥<code>P&lt;T&gt;</code>çš„è¡¨è¾¾å¼å…¶å®æ ¹æœ¬å°±æ²¡æœ‰æ‰§è¡Œï¼Œæ‰€ä»¥A2çš„å®šä¹‰ä¹Ÿå°±ç±»ä¼¼äºæ°¸è¿œæ²¡æœ‰è¿”å›çš„å‡½æ•°ä¸€æ ·ï¼Œæ˜¯neverç±»å‹çš„</p><h4 id="é˜²æ­¢æ¡ä»¶åˆ¤æ–­ä¸­çš„åˆ†é…"><a href="#é˜²æ­¢æ¡ä»¶åˆ¤æ–­ä¸­çš„åˆ†é…" class="headerlink" title="é˜²æ­¢æ¡ä»¶åˆ¤æ–­ä¸­çš„åˆ†é…"></a>é˜²æ­¢æ¡ä»¶åˆ¤æ–­ä¸­çš„åˆ†é…</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> P&lt;T&gt; = [T] <span class="keyword">extends</span> [<span class="string">&#x27;x&#x27;</span>] ? <span class="built_in">string</span> : <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">type</span> A1 = P&lt;<span class="string">&#x27;x&#x27;</span> | <span class="string">&#x27;y&#x27;</span>&gt; <span class="comment">// number</span></span><br><span class="line"><span class="keyword">type</span> A2 = P&lt;<span class="built_in">never</span>&gt; <span class="comment">// string</span></span><br></pre></td></tr></table></figure><p>åœ¨æ¡ä»¶åˆ¤æ–­ç±»å‹çš„å®šä¹‰ä¸­ï¼Œå°†æ³›å‹å‚æ•°ä½¿ç”¨<code>[]</code>æ‹¬èµ·æ¥ï¼Œå³å¯é˜»æ–­æ¡ä»¶åˆ¤æ–­ç±»å‹çš„åˆ†é…ï¼Œæ­¤æ—¶ï¼Œä¼ å…¥å‚æ•°Tçš„ç±»å‹å°†è¢«å½“åšä¸€ä¸ªæ•´ä½“ï¼Œä¸å†åˆ†é…</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.typescripttutorial.net/typescript-tutorial/typescript-extend-interface/">How to Extend Interfaces in TypeScript</a></li><li><a href="https://www.typescripttutorial.net/typescript-tutorial/typescript-generic-constraints/">TypeScript Generic Constraints</a></li><li><a href="https://juejin.cn/post/6998736350841143326">TSå…³é”®å­—extendsç”¨æ³•æ€»ç»“</a></li><li><a href="https://www.typescriptlang.org/docs/handbook/2/conditional-types.html">Conditional Types</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;extends&lt;/code&gt;å…³é”®å­—åœ¨TSä¸­æœ‰å¤šç§ç”¨æ³•ï¼Œå•ç‹¬ä½¿ç”¨æ—¶ï¼Œå¸¸è§æœ‰ä»¥ä¸‹</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
    <category term="TypeScript" scheme="http://example.com/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScriptä¸­çš„anyã€unknownã€neverå¦‚ä½•ç†è§£</title>
    <link href="http://example.com/2022/08/15/TypeScript%E4%B8%AD%E7%9A%84any%E3%80%81unknown%E3%80%81never%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3/"/>
    <id>http://example.com/2022/08/15/TypeScript%E4%B8%AD%E7%9A%84any%E3%80%81unknown%E3%80%81never%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3/</id>
    <published>2022-08-15T13:06:41.000Z</published>
    <updated>2022-08-31T02:51:25.326Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="any"><a href="#any" class="headerlink" title="any"></a>any</h2><p>åœ¨TSä¸­ä½¿ç”¨<code>any</code>ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥è¡¨ç¤ºå…è®¸èµ‹å€¼ç»™å˜é‡ä»»æ„ç±»å‹ï¼Œè¿™ç§æ–¹å¼ä¸ç›´æ¥ä½¿ç”¨JSæ²¡æœ‰å¤ªå¤§å·®åˆ«ï¼Œæ— æ³•äº«å—åˆ°TSçš„ç±»å‹æ£€æŸ¥ï¼Œåœ¨å¯èƒ½å‡ºé”™çš„åœ°æ–¹ä¹Ÿä¸ä¼šå‘ç°é”™è¯¯ã€‚</p><p><code>any</code>ç±»å‹æœ¬è´¨ä¸Šæ˜¯ç±»å‹ç³»ç»Ÿçš„ä¸€ä¸ªé€ƒé€¸èˆ±ï¼Œé‚£æˆ‘ä»¬åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šä½¿ç”¨è¯¥ç±»å‹å‘¢ï¼Ÿ</p><ul><li>æ— æ³•ç¡®å®šå½“å‰ç±»å‹æ—¶</li><li>é€æ­¥å‘TSè¿ç§»æ—¶</li></ul><p><strong>è€Œåœ¨ç¼–å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œæ˜ç¡®çŸ¥é“ç±»å‹çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¸ºäº†å·æ‡’ï¼Œä½¿ç”¨äº†<code>any</code>ï¼Œè¿™æ˜¯ä¸€ç§ä¸å¥½çš„è¡Œä¸ºã€‚</strong></p><p>è€Œä»¥ä¸‹ç§ç§åŸå› ï¼Œå¯èƒ½éƒ½ä¼šå¯¹æˆ‘ä»¬æ˜¯å¦ä½¿ç”¨<code>any</code>æœ‰å½±å“ï¼š</p><ul><li>æ·»åŠ ç±»å‹æ—¶ï¼Œéœ€è¦ç¼–å†™å¤§é‡ä»£ç ï¼Œè€Œ<code>any</code>å·¥ä½œé‡å¾ˆå°‘</li><li>å·²ç»é€šè¿‡å¿…è¦çš„è¿è¡Œæ—¶æ£€æŸ¥ä»¥é˜²å¾¡æ€§çš„æ–¹å¼ç¼–å†™äº†ä»£ç ï¼Œä»¥ç¡®ä¿æ²¡æœ‰é”™è¯¯</li><li>æœ‰äº›å‚æ•°å¾ˆéš¾æ­£ç¡®è¾“å…¥ï¼Œä½†æ˜¯<code>any</code>æ›´å®¹æ˜“</li><li>ä¸çŸ¥é“å‚æ•°æ˜¯ä»€ä¹ˆ</li><li>ç±»å‹å¢åŠ äº†å¾ˆå¤šå¤æ‚æ€§ï¼Œæœ‰æ—¶<code>any</code>æ›´ç®€å•</li></ul><p>ä½¿ç”¨<code>any</code>è¿˜ä¼šé€ æˆç±»å‹æ±¡æŸ“çš„é—®é¢˜ï¼šå³<code>any</code>ç±»å‹çš„å¯¹è±¡ä¼šå¯¼è‡´åç»­çš„å±æ€§ç±»å‹éƒ½ä¼šå˜æˆ<code>any</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj: any = &#123; </span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.name = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><h2 id="unknown"><a href="#unknown" class="headerlink" title="unknown"></a>unknown</h2><p>åœ¨TSçš„3.0ç‰ˆæœ¬ä¸­ï¼Œå¼•å…¥äº†<code>unknown</code>ç±»å‹ï¼Œå®ƒå¯ä»¥è¿™æ ·ç†è§£æˆï¼š**<code>unknown</code>ç±»å‹æ˜¯<code>any</code>çš„ç±»å‹å®‰å…¨ç‰ˆæœ¬ã€‚**</p><p>è¿™æ„å‘³ç€å¦‚æœè¦åœ¨TSä¸­ä½¿ç”¨<code>unknown</code>ç±»å‹æ—¶ï¼Œéœ€è¦çŸ¥é“å®ƒæ‰€æŒ‡çš„ç±»å‹ï¼Œä¹Ÿå°±è‡ªç„¶åœ°æ¨å¯¼å‡ºä½¿ç”¨è¯¥ç±»å‹çš„å˜é‡å‰ï¼Œéœ€è¦å¯¹è¯¥å˜é‡çš„ç±»å‹è¿›è¡Œæ–­è¨€ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">value: unknown</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// @ts-ignore: Object is of type &#x27;unknown&#x27;.</span></span><br><span class="line">  value.toFixed(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Type assertion:</span></span><br><span class="line">  (value <span class="keyword">as</span> number).toFixed(<span class="number">1</span>); <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç¼©å°ä¸ºæ›´å…·ä½“çš„ç±»å‹èŒƒå›´ï¼ŒåŒ…æ‹¬ typeof è¿ç®—ç¬¦ï¼Œinstanceof è¿ç®—ç¬¦å’Œè‡ªå®šä¹‰ç±»å‹ä¿æŠ¤å‡½æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">       value.toFixed(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>unknown</code>ç±»å‹åªèƒ½è¢«èµ‹å€¼ç»™<code>any</code>ç±»å‹å’Œ<code>unknown</code>ç±»å‹æœ¬èº«ã€‚</p><p>å› ä¸ºåªæœ‰èƒ½å¤Ÿä¿å­˜ä»»æ„ç±»å‹å€¼çš„å®¹å™¨æ‰èƒ½ä¿å­˜<code>unknown</code> ç±»å‹çš„å€¼ï¼Œæ‰€ä»¥è¿™ä¸ªé™åˆ¶å¾ˆåˆç†ã€‚æ¯•ç«Ÿæˆ‘ä»¬ä¸çŸ¥é“å˜é‡ä¸­å­˜å‚¨äº†ä»€ä¹ˆç±»å‹çš„å€¼ã€‚</p><h2 id="never"><a href="#never" class="headerlink" title="never"></a>never</h2><p><code>never</code>ç±»å‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ï¼Œ<code>never</code>ç±»å‹æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ã€‚</p><p>ç„¶è€Œï¼Œæ²¡æœ‰ç±»å‹æ˜¯<code>never</code>çš„å­ç±»å‹æˆ–å¯ä»¥èµ‹å€¼ç»™<code>never</code>ç±»å‹ï¼ˆé™¤äº†<code>never</code>æœ¬èº«ä¹‹å¤–ï¼‰,<code>never</code>ç”¨äºé‚£äº›æ°¸ä¸å¯å‘ç”Ÿçš„æƒ…å†µ:</p><ul><li>ä¸€ä¸ªä»æ¥ä¸ä¼šæœ‰è¿”å›å€¼çš„å‡½æ•°ï¼ˆå¦‚ï¼šå¦‚æœå‡½æ•°å†…å«æœ‰ <code>while(true) &#123;&#125;</code>ï¼‰ï¼›</li><li>ä¸€ä¸ªæ€»æ˜¯ä¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•°ï¼ˆå¦‚ï¼š<code>function foo() &#123; throw new Error(&#39;Not Implemented&#39;) &#125;</code>ï¼Œfoo çš„è¿”å›ç±»å‹æ˜¯ neverï¼‰ï¼›</li></ul><h3 id="ä¸-void-çš„å·®å¼‚"><a href="#ä¸-void-çš„å·®å¼‚" class="headerlink" title="ä¸ void çš„å·®å¼‚"></a>ä¸ void çš„å·®å¼‚</h3><p><code>void</code>è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ï¼Œ<code>never</code>è¡¨ç¤ºæ°¸è¿œä¸å­˜åœ¨çš„å€¼çš„ç±»å‹</p><h2 id="å¼‚åŒ"><a href="#å¼‚åŒ" class="headerlink" title="å¼‚åŒ"></a>å¼‚åŒ</h2><ul><li><code>any</code>å’Œ<code>unknown</code>æ˜¯TSä¸­æ‰€è°“çš„é¡¶çº§ç±»å‹ï¼šå½“æŠŠç±»å‹çœ‹ä½œæ˜¯å€¼çš„é›†åˆæ—¶ï¼Œany å’Œ unknown æ˜¯åŒ…å«æ‰€æœ‰å€¼çš„é›†åˆ</li><li><code>never</code>ç±»å‹æ˜¯TSä¸­çš„åº•å±‚ç±»å‹ï¼šç©ºé›†</li></ul><h2 id="ä»¥ä¸‹æˆ–è®¸æ˜¯æœ€ä½³å®è·µ"><a href="#ä»¥ä¸‹æˆ–è®¸æ˜¯æœ€ä½³å®è·µ" class="headerlink" title="ä»¥ä¸‹æˆ–è®¸æ˜¯æœ€ä½³å®è·µ"></a>ä»¥ä¸‹æˆ–è®¸æ˜¯æœ€ä½³å®è·µ</h2><ul><li>å¦‚æœä¸æ˜¯æœ‰æ„å¿½ç•¥ç±»å‹æ£€æŸ¥ï¼Œä¸ä½¿ç”¨<code>any</code></li><li>å¦‚æœè¦ç”¨<code>any</code>ï¼Œå¯ä»¥è€ƒè™‘ç”¨<code>unknown</code>ä»£æ›¿ï¼ˆè¿›è¡Œæ–­è¨€åä½¿ç”¨ï¼‰</li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><p><a href="https://wanago.io/2020/01/27/understanding-any-and-unknown-in-typescript-difference-between-never-and-void/">understanding-any-and-unknown-in-typescript-difference-between-never-and-void</a></p></li><li><p><a href="https://mariusschulz.com/blog/the-unknown-type-in-typescript">The unknown Type in TypeScript</a></p></li><li><p><a href="https://www.51cto.com/article/676734.html">ä½¿ç”¨ TypeScript ä¸­çš„ Any ç±»å‹å‰ï¼Œä½ éœ€è¦äº†è§£çš„ä¸€åˆ‡</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;any&quot;&gt;&lt;a href=&quot;#any&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
    <category term="TypeScript" scheme="http://example.com/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>ç½‘ç»œç›¸å…³å¸¸è§çŸ¥è¯†ç‚¹æ±‡æ€»</title>
    <link href="http://example.com/2022/02/19/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/"/>
    <id>http://example.com/2022/02/19/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86%E7%82%B9%E6%B1%87%E6%80%BB/</id>
    <published>2022-02-19T08:11:41.000Z</published>
    <updated>2022-02-25T06:55:39.576Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="æ€ç»´å¯¼å›¾"><a href="#æ€ç»´å¯¼å›¾" class="headerlink" title="æ€ç»´å¯¼å›¾"></a>æ€ç»´å¯¼å›¾</h2><p><img src="https://www.png8.com/imgs/2022/02/7f0a206c63646d10.png" alt="ç½‘ç»œç›¸å…³å¸¸è§çŸ¥è¯†ç‚¹æ±‡æ€».png"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://juejin.cn/post/6908327746473033741">ã€Œ2021ã€é«˜é¢‘å‰ç«¯é¢è¯•é¢˜æ±‡æ€»ä¹‹è®¡ç®—æœºç½‘ç»œç¯‡</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ€ç»´å¯¼å›¾&quot;&gt;&lt;a href=&quot;#æ€ç»´å¯¼å›¾&quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æ€ç»´å¯¼å›¾" scheme="http://example.com/tags/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"/>
    
    <category term="ç½‘ç»œ" scheme="http://example.com/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript å¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼</title>
    <link href="http://example.com/2022/01/05/JavaScript%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    <id>http://example.com/2022/01/05/JavaScript%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</id>
    <published>2022-01-05T14:56:59.000Z</published>
    <updated>2022-01-06T01:29:52.988Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>å•ä¾‹æ¨¡å¼ï¼Œä¹Ÿå«å•å­æ¨¡å¼ï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå±äº<code>åˆ›å»ºå‹æ¨¡å¼</code>çš„ä¸€ç§ã€‚</p><p>ä¿è¯ä¸€ä¸ªç±»<code>ä»…æœ‰ä¸€ä¸ªå®ä¾‹</code>ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„<code>å…¨å±€è®¿é—®ç‚¹</code>ã€‚</p><h2 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h2><p><strong>å…¨å±€å˜é‡ç¬¦åˆå•ä¾‹æ¨¡å¼å—ï¼Ÿ</strong></p><p>ä¸æ˜¯ã€‚ä½†æˆ‘ä»¬ç»å¸¸ä¼šæŠŠå˜é‡å½“æˆå•ä¾‹æ¥ä½¿ç”¨ï¼Œçœ‹ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br></pre></td></tr></table></figure><p>é€šè¿‡å­—é¢é‡åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯¹è±¡<code>person</code>ç¡®å®æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¦‚æœè¯¥å˜é‡åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹å£°æ˜ï¼Œå°±å¯ä»¥åœ¨ä»£ç ä¸­çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨å®ƒã€‚</p><p>ä½†æ˜¯å…¨å±€å˜é‡å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š</p><ul><li>æ±¡æŸ“å‘½åç©ºé—´ï¼ˆå˜é‡åå†²çªï¼‰</li><li>ä¸æ˜“ç»´æŠ¤ (è¢«è¦†ç›–)</li></ul><p>å¹¶ä¸”éšç€é¡¹ç›®çš„ä½“ç§¯å’ŒåŠŸèƒ½å¢å¤§ï¼Œå‡ºç°é—®é¢˜çš„æ¦‚ç‡ä¹Ÿä¼šå¢å¤§ã€‚</p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>é¦–å…ˆæˆ‘ä»¬è¦æ¸…æ¥š JS æ˜¯ä¸€é—¨<code>æ²¡æœ‰ç±»</code>çš„è¯­è¨€ï¼ŒES6 å‡ºç°ç±»ä¹Ÿæ˜¯åŸå‹çš„è¯­æ³•ç³–ã€‚ä¹Ÿæ­£å› ä¸ºæ²¡æœ‰ç±»ï¼Œåœ¨ JS ä¸­å®ç°å•ä¾‹æ¨¡å¼ä¹Ÿåªéœ€è¦ä¸€ä¸ª<code>å”¯ä¸€</code>çš„å¯¹è±¡ï¼Œè¿™æ˜¯å¾ˆè‡ªç„¶çš„åšæ³•ã€‚</p><p>è¿™é‡Œä»¥ä¸€ä¸ªç™»å½•å¼¹çª—ä¸ºä¾‹ï¼Œå®è·µä¸€ä¸‹å•ä¾‹æ¨¡å¼ã€‚</p><p>å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªç™»å½•æŒ‰é’®ï¼Œç‚¹å‡»åèƒ½å¤Ÿå‡ºç°ç™»å½•å¼¹çª—ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;loginBtn&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…ˆæ¥å†™åˆ›å»ºç™»å½•å¼¹çª—çš„æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> doCreateLoginModal = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> modal = <span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  modal.style.display = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">  modal.textContent = <span class="string">&quot;ç™»å½•å¼¹çª—&quot;</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(modal);</span><br><span class="line">  <span class="keyword">return</span> modal;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±æ˜¯å•ä¾‹æ¨¡å¼çš„é‡ç‚¹äº†ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> getInstance = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> result || (result = fn.apply(<span class="built_in">this</span>, <span class="built_in">arguments</span>));</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> createLoginModal = getInstance(doCreateLoginModal);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥å‘ç°è¿”å›çš„ç»“æœè¢«å°è£…åœ¨é—­åŒ…ï¼ˆå†…éƒ¨çš„å‡½æ•°è¢«ä¿å­˜åˆ°äº†å¤–éƒ¨ï¼‰äº§ç”Ÿçš„ä½œç”¨åŸŸä¸­ï¼Œå¤–éƒ¨æ˜¯è®¿é—®ä¸åˆ°è¿™ä¸¤ä¸ªå˜é‡çš„ï¼Œè¿™å°±é¿å…äº†å¯¹å…¨å±€çš„å‘½åæ±¡æŸ“ã€‚</p><p>å…ˆçœ‹è¿™æ®µä»£ç ä¸­äº§ç”Ÿçš„é—­åŒ…ï¼š</p><p>æœ€åä¸€è¡Œå¤–éƒ¨çš„<code>createLoginModal</code>å˜é‡ä¿å­˜äº†<code>getInstance</code>ä¸­çš„åŒ¿åå‡½æ•°ï¼Œè¯¥æ‹¥æœ‰<code>getInstance</code>ä½œç”¨åŸŸçš„è®¿é—®æƒé™ã€‚</p><p>å†ä»”ç»†çœ‹<code>return result || (result = fn.apply(this, arguments));</code>è¿™æ¡è¯­å¥ï¼š</p><p>ç¬¬ä¸€æ¬¡è°ƒç”¨æ–¹æ³•æ—¶ï¼Œ<code>result</code>ä¸º<code>undefined</code>,ä¼šæ‰§è¡Œ<code>result = fn.apply(this, arguments)</code>,è¿™é‡Œåˆ©ç”¨ä¼ å…¥çš„<code>fn</code>è°ƒç”¨ç”Ÿæˆç™»å½•å¼¹çª—çš„æ–¹æ³•ç”Ÿæˆç™»å½•å¼¹çª—ï¼Œå¹¶è¢«èµ‹å€¼ç»™<code>result</code>ï¼Œä½¿å¾—ä¹‹å<code>createLoginModal</code>å†è¢«è°ƒç”¨æ—¶ï¼Œè¿”å›ç¬¬ä¸€æ¬¡åˆ›å»ºçš„ç™»å½•å¼¹çª—ã€‚</p><p>æœ€åç»™æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> loginBtn = <span class="built_in">document</span>.getElementById(<span class="string">&quot;loginBtn&quot;</span>);</span><br><span class="line"></span><br><span class="line">loginBtn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> loginModal = createLoginModal();</span><br><span class="line">  loginModal.style.display = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><a href="https://github.com/HJY-xh/plantTrees/blob/master/Demos/%5BJavaScript%5D%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E5%BC%B9%E7%AA%97/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.html">å®Œæ•´ä»£ç </a></p><h2 id="æƒ°æ€§å•ä¾‹"><a href="#æƒ°æ€§å•ä¾‹" class="headerlink" title="æƒ°æ€§å•ä¾‹"></a>æƒ°æ€§å•ä¾‹</h2><p>æƒ°æ€§å•ä¾‹æŒ‡çš„æ˜¯åœ¨éœ€è¦çš„æ—¶å€™èœåˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://zh.wikipedia.org/wiki/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F">å•ä¾‹æ¨¡å¼-ç»´åŸºç™¾ç§‘</a></p><p>ä¹¦ç›®</p><ul><li><p>JavaScript è®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µ</p></li><li><p>JavaScript è®¾è®¡æ¨¡å¼</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å®šä¹‰&quot;&gt;&lt;a href=&quot;#å®šä¹‰&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>React Hookè§£æ</title>
    <link href="http://example.com/2021/12/28/React%20Hook%E8%A7%A3%E6%9E%90/"/>
    <id>http://example.com/2021/12/28/React%20Hook%E8%A7%A3%E6%9E%90/</id>
    <published>2021-12-28T12:23:54.000Z</published>
    <updated>2022-01-25T08:34:05.040Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="é—®é¢˜åˆ—è¡¨"><a href="#é—®é¢˜åˆ—è¡¨" class="headerlink" title="é—®é¢˜åˆ—è¡¨"></a>é—®é¢˜åˆ—è¡¨</h2><p>å¸¦ç€ä»¥ä¸‹é—®é¢˜å­¦ä¹ ï¼š</p><ul><li>Hookè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</li><li>Hookæœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ</li><li>ä¸ºä»€ä¹ˆæœ‰Hookï¼Ÿ</li><li>useStateæ–¹æ‹¬å·æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</li><li>ä¸ºä»€ä¹ˆæ¯æ¬¡æ›´æ–°çš„æ—¶å€™éƒ½è¦è¿è¡Œ Effect?</li><li>useMemo å’Œ shouldComponentUpdate æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li></ul><h2 id="Hookæ¦‚è¿°"><a href="#Hookæ¦‚è¿°" class="headerlink" title="Hookæ¦‚è¿°"></a>Hookæ¦‚è¿°</h2><ul><li><p>React 16.8çš„æ–°å¢ç‰¹æ€§</p></li><li><p>å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ï¼ˆæ˜¯ä¸€äº›å¯ä»¥è®©ä½ åœ¨å‡½æ•°ç»„ä»¶é‡Œâ€œé’©å…¥â€ React state åŠç”Ÿå‘½å‘¨æœŸç­‰ç‰¹æ€§çš„å‡½æ•°ï¼‰</p></li></ul><h2 id="Hookçš„åŠ¨æœº"><a href="#Hookçš„åŠ¨æœº" class="headerlink" title="Hookçš„åŠ¨æœº"></a>Hookçš„åŠ¨æœº</h2><ul><li>åœ¨æ— éœ€ä¿®æ”¹ç»„ä»¶ç»“æ„çš„æƒ…å†µä¸‹å¤ç”¨çŠ¶æ€é€»è¾‘</li></ul><p>åœ¨ç»„ä»¶ä¹‹é—´å¤ç”¨çŠ¶æ€é€»è¾‘å¾ˆéš¾</p><p>Hookå‡ºç°ä¹‹å‰ï¼Œå°†å¯å¤ç”¨æ€§è¡Œä¸ºâ€é™„åŠ â€œåˆ°ç»„ä»¶çš„è§£å†³æ–¹æ¡ˆæœ‰<code>render props</code>å’Œ<code>é«˜é˜¶ç»„ä»¶</code>ï¼Œä½†æ˜¯è¿™ç±»æ–¹æ¡ˆéœ€è¦é‡æ–°ç»„ç»‡ç»„ä»¶ç»“æ„ï¼Œå¯èƒ½ä¼šå¾ˆéº»çƒ¦ï¼Œè¿›è€Œè®©ä»£ç éš¾ä»¥ç†è§£ã€‚</p><ul><li>Hookå°†ç»„ä»¶ä¸­ç›¸äº’å…³è”çš„éƒ¨åˆ†æ‹†åˆ†æˆæ›´å°çš„å‡½æ•°ï¼ˆæ¯”å¦‚ç›‘å¬äº‹ä»¶ã€è¯·æ±‚æ•°æ®ï¼‰ï¼Œè€Œå¹¶éå¼ºåˆ¶æŒ‰ç…§ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†</li></ul><p>ç»„ä»¶æœŸåˆå¾ˆç®€å•ï¼Œä½†æ˜¯é€æ¸ä¼šè¢«çŠ¶æ€é€»è¾‘å’Œå‰¯ä½œç”¨å……æ–¥ï¼Œç›¸å…³å…³è”ä¸”éœ€è¦å¯¹ç…§ä¿®æ”¹çš„ä»£ç è¢«æ‹†åˆ†ï¼ˆç›‘å¬äº‹ä»¶ï¼‰ï¼Œä¸ç›¸å…³çš„ä»£ç åœ¨åŒä¸€ä¸ªæ–¹æ³•ä¸­ï¼ˆ<code>componentDidMount</code>ã€<code>componentWillUnmount</code>)ç»„åˆåœ¨ä¸€èµ·ï¼Œå®¹æ˜“äº§ç”Ÿbugã€‚</p><ul><li>é™ä½å­¦ä¹ é—¨æ§›</li></ul><p>å¯¹classçš„å­¦ä¹ ï¼ˆéœ€è¦ç†è§£JSä¸­çš„thiså·¥ä½œæ–¹å¼ï¼‰</p><h2 id="Hookä½¿ç”¨è§„åˆ™"><a href="#Hookä½¿ç”¨è§„åˆ™" class="headerlink" title="Hookä½¿ç”¨è§„åˆ™"></a>Hookä½¿ç”¨è§„åˆ™</h2><ul><li><p>åªèƒ½åœ¨å‡½æ•°æœ€å¤–å±‚è°ƒç”¨Hookã€‚ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­è°ƒç”¨</p><p>  è¿™æ ·èƒ½å¤Ÿç¡®ä¿Hookåœ¨æ¯ä¸€æ¬¡æ¸²æŸ“ä¸­éƒ½æŒ‰ç…§åŒæ ·çš„é¡ºåºè¢«è°ƒç”¨</p></li><li><p>åªèƒ½åœ¨Reactçš„å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨Hookï¼ˆåŒ…æ‹¬è‡ªå®šä¹‰çš„Hookï¼‰</p></li></ul><h2 id="å¸¸è§çš„Hook"><a href="#å¸¸è§çš„Hook" class="headerlink" title="å¸¸è§çš„Hook"></a>å¸¸è§çš„Hook</h2><ul><li><p>åŸºç¡€ Hook</p><ul><li>useState</li><li>useEffect<ul><li>è¯´æ˜<pre><code>  - å¯ä»¥æŠŠè¯¥Hookçœ‹åšæ˜¯`componentDidMount`ã€`componentDidUpdate`ã€`componentWillUnmout`ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆ  - Reactä¿è¯äº†æ¯æ¬¡è¿è¡Œeffectçš„åŒæ—¶ï¼ŒDOMéƒ½å·²ç»æ›´æ–°å®Œæ¯•  - ä¸`componentDidMount`æˆ–`componentDidUpdate`ä¸åŒï¼Œä½¿ç”¨useEffectè°ƒåº¦çš„effectä¸ä¼šé˜»å¡æµè§ˆå™¨æ›´æ–°å±å¹•ï¼Œè¿™è®©åº”ç”¨çœ‹èµ·æ¥å“åº”æ›´å¿«  - effectä¸­å¯é€‰çš„æ¸…é™¤æœºåˆ¶åœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™è§¦å‘</code></pre></li><li>ä½¿ç”¨æŠ€å·§<pre><code>  - ä½¿ç”¨å¤šä¸ª Effect å®ç°å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆæŒ‰ç…§ä»£ç çš„ç”¨é€”åˆ†ç¦»å®ƒä»¬ï¼‰ï¼ŒReactå°†æŒ‰ç…§effectå£°æ˜çš„é¡ºåºä¸€æ¬¡è°ƒç”¨ç»„å»ºçš„æ¯ä¸€ä¸ªeffect  - è·³è¿‡ Effect è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼ˆç¬¬äºŒä¸ªå‚æ•°ï¼‰</code></pre></li></ul></li><li>useContext<pre><code>æ¥æ”¶ä¸€ä¸ª context å¯¹è±¡ï¼ˆ`React.createContext` çš„è¿”å›å€¼ï¼‰å¹¶è¿”å›è¯¥ context çš„å½“å‰å€¼</code></pre></li></ul></li><li><p>é¢å¤–çš„ Hook</p><ul><li>useReducer<br>useState çš„æ›¿ä»£æ–¹æ¡ˆã€‚å®ƒæ¥æ”¶ä¸€ä¸ªå½¢å¦‚ <code>(state, action) =&gt; newState</code> çš„ reducerï¼Œå¹¶è¿”å›å½“å‰çš„ state ä»¥åŠä¸å…¶é…å¥—çš„ dispatch æ–¹æ³•</li><li>useCallback<br>useCallback(fn, deps) ç›¸å½“äº useMemo(() =&gt; fn, deps)</li><li>useMemo<br>å¯ä»¥æŠŠ useMemo ä½œä¸ºæ€§èƒ½ä¼˜åŒ–çš„æ‰‹æ®µï¼Œä½†ä¸è¦æŠŠå®ƒå½“æˆè¯­ä¹‰ä¸Šçš„ä¿è¯<br>å¯ä»¥ä½¿ç”¨å®ƒç¼“å­˜ä¸€äº›ç›¸å¯¹è€—æ—¶çš„è®¡ç®—ï¼Œä¹Ÿéå¸¸é€‚åˆç”¨äºå­˜å‚¨å¼•ç”¨ç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥ä¼ å…¥å¯¹è±¡å­—é¢é‡ï¼ŒåŒ¿åå‡½æ•°ç­‰ï¼Œç”šè‡³æ˜¯ React Element</li><li>useRef<br>useRef è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œå…¶ <code>.current</code> å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•°ï¼ˆinitialValueï¼‰</li><li>useImperativeHandle<ul><li>useImperativeHandle å¯ä»¥åœ¨ä½¿ç”¨ ref æ—¶è‡ªå®šä¹‰æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å®ä¾‹å€¼</li><li>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”å½“é¿å…ä½¿ç”¨ ref è¿™æ ·çš„å‘½ä»¤å¼ä»£ç </li><li>useImperativeHandle åº”å½“ä¸ <code>forwardRef</code> ä¸€èµ·ä½¿ç”¨</li></ul></li><li>useLayoutEffect<br>å…¶å‡½æ•°ç­¾åä¸ useEffect ç›¸åŒï¼Œä½†å®ƒä¼šåœ¨æ‰€æœ‰çš„ DOM å˜æ›´ä¹‹ååŒæ­¥è°ƒç”¨ effectã€‚å¯ä»¥ä½¿ç”¨å®ƒæ¥è¯»å– DOM å¸ƒå±€å¹¶åŒæ­¥è§¦å‘é‡æ¸²æŸ“</li><li>useDebugValue<br>useDebugValue å¯ç”¨äºåœ¨ React å¼€å‘è€…å·¥å…·ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰ hook çš„æ ‡ç­¾,å®ƒæ¥å—ä¸€ä¸ªæ ¼å¼åŒ–å‡½æ•°ä½œä¸ºå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è¯¥å‡½æ•°åªæœ‰åœ¨ Hook è¢«æ£€æŸ¥æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚å®ƒæ¥å— debug å€¼ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”ä¼šè¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„æ˜¾ç¤ºå€¼</li></ul></li></ul><h2 id="è‡ªå®šä¹‰Hook"><a href="#è‡ªå®šä¹‰Hook" class="headerlink" title="è‡ªå®šä¹‰Hook"></a>è‡ªå®šä¹‰Hook</h2><p>é€šè¿‡è‡ªå®šä¹‰ Hookï¼Œå¯ä»¥å°†ç»„ä»¶é€»è¾‘æå–åˆ°å¯é‡ç”¨çš„å‡½æ•°ä¸­</p><p>å­—åº”è¯¥å§‹ç»ˆä»¥ use å¼€å¤´ï¼Œè¿™æ ·å¯ä»¥ä¸€çœ¼çœ‹å‡ºå…¶ç¬¦åˆ Hook çš„è§„åˆ™</p><p>è‡ªå®šä¹‰ Hook æ˜¯ä¸€ç§è‡ªç„¶éµå¾ª Hook è®¾è®¡çš„çº¦å®šï¼Œè€Œå¹¶ä¸æ˜¯ React çš„ç‰¹æ€§</p><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><ul><li><p>å‡½æ•°ç»„ä»¶æ‰§è¡Œå‡½æ•°<code>renderWithHooks</code></p><ul><li>ä½œç”¨<br>å®ƒæ˜¯è°ƒç”¨<code>functionç»„ä»¶</code>å‡½æ•°çš„ä¸»è¦å‡½æ•°ï¼Œä»æºç ä¸­çœ‹ï¼Œå®ƒé¦–å…ˆä¼šç½®ç©ºå³å°†è°ƒå’Œæ¸²æŸ“çš„<code>workInProgressæ ‘</code>çš„<code>memoizedState</code>å’Œ<code>updateQueue</code>ï¼ŒæŠŠæ–°çš„hooksä¿¡æ¯æŒ‚è½½åˆ°è¿™ä¸¤ä¸ªå±æ€§ä¸Šï¼Œç„¶ååœ¨ç»„ä»¶<code>commité˜¶æ®µ</code>ï¼Œå°†<code>workInProgressæ ‘</code>æ›¿æ¢æˆ<code>currentæ ‘</code>ï¼Œæ›¿æ¢çœŸå®çš„DOMå…ƒç´ èŠ‚ç‚¹ã€‚å¹¶åœ¨currentæ ‘ä¿å­˜hooksä¿¡æ¯ã€‚</li><li>æ­¥éª¤<ul><li>æ‰§è¡Œå‡½æ•°ç»„ä»¶</li><li>æ”¹å˜<code>ReactCurrentDispatcher</code>å¯¹è±¡</li></ul></li></ul></li><li><p>åˆå§‹åŒ–hooks</p><p>  ç›¸å…³hookå®é™…æ‰§è¡Œçš„å‡½æ•°:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">useState: mountState, <span class="comment">// åˆå§‹åŒ–useState</span></span><br><span class="line"><span class="attr">useEffect</span>: mountEffect, <span class="comment">// åˆå§‹åŒ–useEffect</span></span><br><span class="line"><span class="attr">useLayoutEffect</span>: mountLayoutEffect, <span class="comment">// åˆå§‹åŒ–useLayoutEffect</span></span><br><span class="line"><span class="attr">useMemo</span>: mountMemo, <span class="comment">// åˆå§‹åŒ–useMemo</span></span><br><span class="line"><span class="attr">useReducer</span>: mountReducer, <span class="comment">// åˆå§‹åŒ–useReducer</span></span><br><span class="line"><span class="attr">useRef</span>: mountRef, <span class="comment">// åˆå§‹åŒ–useRef</span></span><br><span class="line"><span class="attr">useCallback</span>: mountCallback, <span class="comment">// åˆå§‹åŒ–useCallback</span></span><br></pre></td></tr></table></figure><p>  <code>mountWorkInProgressHook</code>ç”Ÿæˆhooké“¾è¡¨</p><ul><li>åœ¨ä¸€ä¸ªå‡½æ•°ç»„ä»¶ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ï¼Œæ¯ä¸ªhookæ‰§è¡Œï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªhookå¯¹è±¡ï¼Œå¹¶å½¢æˆé“¾è¡¨ç»“æ„ï¼Œç»‘å®šåœ¨<code>workInProgress</code>çš„<code>memoizedState</code>å±æ€§ä¸Š</li><li>hookä¸Šçš„çŠ¶æ€ï¼Œç»‘å®šåœ¨å½“å‰hookå¯¹è±¡çš„<code>memoizedState</code>å±æ€§ä¸Š</li><li>å¯¹äºeffectå‰¯ä½œç”¨é’©å­ï¼Œä¼šç»‘å®šåœ¨<code>workInProgress.updateQueue</code>ä¸Šï¼Œç­‰åˆ°<code>commité˜¶æ®µ</code>ï¼Œdomæ ‘æ„å»ºå®Œæˆï¼Œå†æ‰§è¡Œæ¯ä¸ª effect å‰¯ä½œç”¨é’©å­ã€‚</li></ul></li><li><p>æ›´æ–°hooks</p><p>  ç›¸å…³hookå®é™…æ‰§è¡Œçš„å‡½æ•°:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">useState: updateState, <span class="comment">// å¾—åˆ°æœ€æ–°çš„state</span></span><br><span class="line"><span class="attr">useEffect</span>: updateEffect, <span class="comment">// æ›´æ–°updateQueue</span></span><br><span class="line"><span class="attr">useLayoutEffect</span>: updateLayoutEffect,</span><br><span class="line"><span class="attr">useMemo</span>: updateMemo,</span><br><span class="line"><span class="attr">useReducer</span>: updateReducer,</span><br><span class="line"><span class="attr">useRef</span>: updateRef, <span class="comment">// è·å–refå¯¹è±¡</span></span><br><span class="line"><span class="attr">useCallback</span>: updateCallback</span><br></pre></td></tr></table></figure><p>  <code>updateWorkInProgressHook</code>æ›´æ–°hooké“¾è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„hooks</p></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://zh-hans.reactjs.org/docs/hooks-intro.html">å®˜æ–¹æ–‡æ¡£</a></p><p><a href="https://juejin.cn/post/6844904165500518414">React Hooks æœ€ä½³å®è·µ</a></p><p><a href="https://juejin.cn/post/6864438643727433741">react-hookså¦‚ä½•ä½¿ç”¨ï¼Ÿ</a></p><p><a href="https://juejin.cn/post/6944863057000529933#heading-0">ä¸€æ–‡åƒé€react-hooksåŸç†</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;é—®é¢˜åˆ—è¡¨&quot;&gt;&lt;a href=&quot;#é—®é¢˜åˆ—è¡¨&quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="React" scheme="http://example.com/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>å¸¸è§çš„æ’åºç®—æ³•</title>
    <link href="http://example.com/2021/12/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    <id>http://example.com/2021/12/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/</id>
    <published>2021-12-19T02:41:09.000Z</published>
    <updated>2021-12-23T07:18:00.697Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="å¸¸è§çš„æ’åº"><a href="#å¸¸è§çš„æ’åº" class="headerlink" title="å¸¸è§çš„æ’åº"></a>å¸¸è§çš„æ’åº</h2><p><img src="https://s2.loli.net/2021/12/13/JeNhZmiWYlv85Ot.png"></p><h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h2><p>è¯´æ˜ï¼šé‡å¤éå†è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼ŒæŒ‰æ’åºé¡ºåºäº¤æ¢å…ƒç´ å€¼ï¼Œä¸æ–­éå†ç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bubbleSort = <span class="function">(<span class="params">input</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> output = [...input];</span><br><span class="line">    <span class="keyword">const</span> length = output.length;</span><br><span class="line">    <span class="keyword">let</span> hasSwap = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; length - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (output[j] &gt; output[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">let</span> temp = output[j];</span><br><span class="line">                output[j] = output[j + <span class="number">1</span>];</span><br><span class="line">                output[j + <span class="number">1</span>] = temp;</span><br><span class="line">                hasSwap = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!hasSwap) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h2><p>è¯´æ˜ï¼šéå†æ•°ç»„ï¼Œæ‰¾åˆ°æ•°æ®åº”è¯¥æ’å…¥çš„ä½ç½®å°†å…¶æ’å…¥å³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> insertSort = <span class="function">(<span class="params">input</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> output = [...input];</span><br><span class="line">    <span class="keyword">const</span> length = output.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> temp = output[i];</span><br><span class="line">        <span class="keyword">let</span> j = i - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (j &gt;= <span class="number">0</span> &amp;&amp; output[j] &gt; temp) &#123;</span><br><span class="line">            output[j + <span class="number">1</span>] = output[j];</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        output[j + <span class="number">1</span>] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h2><p>è¯´æ˜: æ¯ä¸€æ¬¡ä»å¾…æ’åºçš„æ•°æ®å…ƒç´ ä¸­é€‰å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ”¾åˆ°å·²æ’åºæ•°ç»„çš„æœ«å°¾</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> selectSort = <span class="function">(<span class="params">input</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> output = [...input];</span><br><span class="line">    <span class="keyword">const</span> length = output.length;</span><br><span class="line">    <span class="keyword">let</span> minIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> temp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        minIndex = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (output[j] &lt; output[minIndex]) &#123;</span><br><span class="line">                minIndex = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = output[i];</span><br><span class="line">        output[i] = input[minIndex];</span><br><span class="line">        output[minIndex] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h2><p>è¯´æ˜ï¼šå½’å¹¶çš„çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ†æ²»ã€‚å®ƒæŠŠæ•°ç»„ä»ä¸­é—´åˆ’åˆ†æˆä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ç›´é€’å½’æŠŠå­æ•°ç»„åˆ’åˆ†æˆæ›´å°çš„æ•°ç»„ï¼ŒçŸ¥é“æ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°ä¸º1æ—¶è¿›è¡Œæ’åºã€‚æŒ‰å¤§å°é¡ºåºåˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼Œæ¥ç€æŒ‰ç…§é€’å½’çš„é¡ºåºè¿”å›ï¼Œä¸æ–­åˆå¹¶æ’å¥½åºçš„æ•°ç»„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mergeSort = <span class="function">(<span class="params">input</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> length = input.length;</span><br><span class="line">    <span class="keyword">if</span> (length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> input;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> middle = <span class="built_in">Math</span>.floor(length / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">const</span> left = input.slice(<span class="number">0</span>, middle);</span><br><span class="line">    <span class="keyword">const</span> right = input.slice(middle);</span><br><span class="line">    <span class="keyword">return</span> merge(mergeSort(left), mergeSort(right));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> merge = <span class="function">(<span class="params">left, right</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> result = [];</span><br><span class="line">    <span class="keyword">while</span> (left.length &amp;&amp; right.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (left[<span class="number">0</span>] &lt; right[<span class="number">0</span>]) &#123;</span><br><span class="line">            result.push(left.shift());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result.push(right.shift());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (left.length) &#123;</span><br><span class="line">        result.push(left.shift());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (right.length) &#123;</span><br><span class="line">        result.push(right.shift());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><p>è¯´æ˜ï¼šå®ƒæ˜¯å†’æ³¡æ’åºçš„ä¸€ç§æ”¹è¿›ï¼Œé€šè¿‡å…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒå’Œäº¤æ¢ä½ç½®æ¥è¾¾åˆ°æ’åºçš„ç›®çš„ã€‚å¿«æ’åœ¨æ¯ä¸€è½®æŒ‘é€‰ä¸€ä¸ªåŸºå‡†å…ƒç´ ï¼ŒæŠŠå‰©ä¸‹çš„å…ƒç´ åŒå®ƒè¿›è¡Œæ¯”è¾ƒï¼Œå¤§äºå®ƒçš„æ”¾åˆ°æ•°åˆ—çš„ä¸€è¾¹ï¼Œå°äºå®ƒçš„æ”¾åˆ°æ•°åˆ—çš„å¦ä¸€è¾¹ï¼Œä¸€è½®æ¯”è¾ƒå®Œæˆåï¼Œæ•´ä¸ªåºåˆ—ä»¥é€‰å–çš„åŸºå‡†å…ƒç´ ä½ä¸ºç•Œï¼Œå·¦ä¾§å‡å°äºåŸºå‡†å…ƒç´ ï¼Œå³ä¾§å‡å¤§äºåŸºå‡†å…ƒç´ ã€‚ä½†å·¦å³ä¸¤ä¾§å†…éƒ¨å¹¶ä¸æ˜¯æœ‰åºçš„(å·¦å³ä¸¤ä¾§å…³é”®å­—ä¸ªæ•°ä¹Ÿä¸ä¸€å®šç›¸åŒ)ã€‚è¿›è€Œç»§ç»­å°†å·¦å³ä¸¤ä¾§åˆ†åˆ«å†ä»¥è¿™ç§æ–¹å¼è¿›è¡Œæ’åºï¼Œç›´åˆ°å°†åºåˆ—æ‹†åˆ†çš„å‰©ä½™ä¸€ä¸ªå…³é”®å­—ä¸ºæ­¢ï¼Œæ•´ä¸ªåºåˆ—å³å˜æˆæœ‰åºã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> quickSort = <span class="function">(<span class="params">input</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (input.length &lt;= <span class="number">1</span>) &#123; <span class="keyword">return</span> input; &#125;</span><br><span class="line">    <span class="keyword">const</span> left = [];</span><br><span class="line">    <span class="keyword">const</span> right = [];</span><br><span class="line">    <span class="keyword">const</span> middle = input.splice(<span class="built_in">Math</span>.round(input.length / <span class="number">2</span>), <span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; input.length; i++) &#123;</span><br><span class="line">        (middle &gt; input[i] ? left : right).push(input[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [...quickSort(left), middle, ...quickSort(right)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å¸¸è§çš„æ’åº&quot;&gt;&lt;a href=&quot;#å¸¸è§çš„æ’åº&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
    <category term="ç®—æ³•" scheme="http://example.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>TypeScriptæ€ç»´å¯¼å›¾</title>
    <link href="http://example.com/2021/12/09/TypeScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"/>
    <id>http://example.com/2021/12/09/TypeScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/</id>
    <published>2021-12-09T13:34:11.000Z</published>
    <updated>2022-01-06T01:31:21.439Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="æ€ç»´å¯¼å›¾"><a href="#æ€ç»´å¯¼å›¾" class="headerlink" title="æ€ç»´å¯¼å›¾"></a>æ€ç»´å¯¼å›¾</h2><p><img src="https://s2.loli.net/2021/12/10/GpcItLvliHzMWRA.png"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>æ·±å…¥ç†è§£ TypeScript</p><p><a href="https://www.typescriptlang.org/">https://www.typescriptlang.org/</a></p><p><a href="https://www.tslang.cn/index.html">https://www.tslang.cn/index.html</a></p><p><a href="https://stackoverflow.com/questions/28818849/how-do-the-different-enum-variants-work-in-typescript">https://stackoverflow.com/questions/28818849/how-do-the-different-enum-variants-work-in-typescript</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ€ç»´å¯¼å›¾&quot;&gt;&lt;a href=&quot;#æ€ç»´å¯¼å›¾&quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
    <category term="æ€ç»´å¯¼å›¾" scheme="http://example.com/tags/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>DOMåŸºæœ¬æ“ä½œæ€ç»´å¯¼å›¾</title>
    <link href="http://example.com/2021/11/16/DOM%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>http://example.com/2021/11/16/DOM%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</id>
    <published>2021-11-16T13:01:11.000Z</published>
    <updated>2022-01-06T01:33:50.961Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p><img src="https://i.loli.net/2021/11/25/pkRSm7J3saNxV2z.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2021/11/25/pkRS</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
    <category term="æ€ç»´å¯¼å›¾" scheme="http://example.com/tags/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>æ·±å…¥äº†è§£eval</title>
    <link href="http://example.com/2021/10/26/%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3eval/"/>
    <id>http://example.com/2021/10/26/%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3eval/</id>
    <published>2021-10-26T11:29:04.000Z</published>
    <updated>2022-01-11T07:50:24.600Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="ç›¸å…³å®šä¹‰å’Œæè¿°"><a href="#ç›¸å…³å®šä¹‰å’Œæè¿°" class="headerlink" title="ç›¸å…³å®šä¹‰å’Œæè¿°"></a>ç›¸å…³å®šä¹‰å’Œæè¿°</h2><p>eval æ˜¯å…¨å±€å¯¹è±¡ä¸Šçš„ä¸€ä¸ªå‡½æ•°ï¼Œä¼šæŠŠä¼ å…¥çš„å­—ç¬¦ä¸²å½“åš JavaScript ä»£ç æ‰§è¡Œï¼Œå®ƒé€šå¸¸è¢«ç”¨æ¥æ‰§è¡ŒåŠ¨æ€åˆ›å»ºçš„ä»£ç ã€‚</p><p>è¯­æ³•å¾ˆç®€å•ï¼š</p><blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">eval</span>(string) <span class="comment">// ä¸€ä¸ªè¡¨ç¤º JavaScript è¡¨è¾¾å¼ã€è¯­å¥æˆ–ä¸€ç³»åˆ—è¯­å¥çš„å­—ç¬¦ä¸²ã€‚è¡¨è¾¾å¼å¯ä»¥åŒ…å«å˜é‡ä¸å·²å­˜åœ¨å¯¹è±¡çš„å±æ€§ã€‚</span></span><br></pre></td></tr></table></figure></blockquote><p>ä¸¾ä¸ªğŸŒ°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> string = <span class="string">&quot;console.log(&#x27;hello, eval&#x27;)&quot;</span>;</span><br><span class="line"><span class="built_in">window</span>.eval(string);</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/10/25/3jKtcFlqQmuZE2G.png"></p><p>å…ˆæå‡ºé—®é¢˜ï¼ševalè¿™ä¸ªæ–¹æ³•å¾ˆå¼ºå¤§ï¼Œä¸”å…¼å®¹æ€§å¾ˆå¥½ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆå¾ˆå°‘ä½¿ç”¨ï¼Ÿ</p><p><img src="https://i.loli.net/2021/10/25/vr74wlehWzH6k8u.png"></p><h2 id="ä¸€äº›ç‰¹æ€§"><a href="#ä¸€äº›ç‰¹æ€§" class="headerlink" title="ä¸€äº›ç‰¹æ€§"></a>ä¸€äº›ç‰¹æ€§</h2><h3 id="è¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼"><a href="#è¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼" class="headerlink" title="è¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼"></a>è¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(<span class="string">&#x27;1+1+1&#x27;</span>)); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> string1 = <span class="string">&#x27;let x; x = 1;&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> string2 = <span class="string">&#x27;let x, y; x = 1; y = 2;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="built_in">eval</span>(str);</span><br><span class="line">    <span class="built_in">console</span>.log(result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test(string1); <span class="comment">// 1</span></span><br><span class="line">test(string2); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°ä½œä¸ºå­—ç¬¦ä¸²è¢«å®šä¹‰æ—¶éœ€è¦â€-â€œå’Œâ€-â€œä½œä¸ºå‰ç¼€å’Œåç¼€"><a href="#å‡½æ•°ä½œä¸ºå­—ç¬¦ä¸²è¢«å®šä¹‰æ—¶éœ€è¦â€-â€œå’Œâ€-â€œä½œä¸ºå‰ç¼€å’Œåç¼€" class="headerlink" title="å‡½æ•°ä½œä¸ºå­—ç¬¦ä¸²è¢«å®šä¹‰æ—¶éœ€è¦â€(â€œå’Œâ€)â€œä½œä¸ºå‰ç¼€å’Œåç¼€"></a>å‡½æ•°ä½œä¸ºå­—ç¬¦ä¸²è¢«å®šä¹‰æ—¶éœ€è¦â€(â€œå’Œâ€)â€œä½œä¸ºå‰ç¼€å’Œåç¼€</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> funcStr1 = <span class="string">&#x27;function test() &#123;&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> funcStr2 = <span class="string">&#x27;(function test() &#123;&#125;)&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(funcStr1)); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">eval</span>(funcStr2)); <span class="comment">// [Function: test]</span></span><br></pre></td></tr></table></figure><h3 id="ç›´æ¥è°ƒç”¨å’Œé—´æ¥è°ƒç”¨"><a href="#ç›´æ¥è°ƒç”¨å’Œé—´æ¥è°ƒç”¨" class="headerlink" title="ç›´æ¥è°ƒç”¨å’Œé—´æ¥è°ƒç”¨"></a>ç›´æ¥è°ƒç”¨å’Œé—´æ¥è°ƒç”¨</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>, y = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">2</span>, y = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">eval</span>(<span class="string">&#x27;x + y&#x27;</span>));  <span class="comment">// ç›´æ¥è°ƒç”¨ï¼Œä½¿ç”¨æœ¬åœ°ä½œç”¨åŸŸï¼Œç»“æœæ˜¯ 4</span></span><br><span class="line">    <span class="keyword">const</span> geval = <span class="built_in">eval</span>; <span class="comment">// ç­‰ä»·äºåœ¨å…¨å±€ä½œç”¨åŸŸè°ƒç”¨</span></span><br><span class="line">    <span class="built_in">console</span>.log(geval(<span class="string">&#x27;x + y&#x27;</span>)); <span class="comment">// é—´æ¥è°ƒç”¨ï¼Œä½¿ç”¨å…¨å±€ä½œç”¨åŸŸï¼Œç»“æœæ˜¯ 2</span></span><br><span class="line">    <span class="built_in">console</span>.log((<span class="number">0</span>, <span class="built_in">eval</span>)(<span class="string">&#x27;this&#x27;</span>)); <span class="comment">// å¦ä¸€ä¸ªé—´æ¥è°ƒç”¨çš„ä¾‹å­</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test();</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">0</span>, <span class="built_in">eval</span>)(<span class="string">&#x27;this&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>é€—å·æ“ä½œç¬¦ï¼šå¯¹å®ƒçš„æ¯ä¸ªæ“ä½œæ•°æ±‚å€¼ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼Œå¹¶è¿”å›æœ€åä¸€ä¸ªæ“ä½œæ•°çš„å€¼</p></blockquote><p>è¿™é‡Œä½¿ç”¨é€—å·æ“ä½œç¬¦ï¼Œäºæ˜¯è¿”å›è¡¨è¾¾å¼ä¸­çš„æœ€åä¸€é¡¹ï¼Œç„¶åä¸ºevalä¼ å…¥â€™thisâ€™å­—ç¬¦ä¸²ï¼Œæ¥ç«‹å³æ‰§è¡Œè¿™ä¸ªè¡¨è¾¾å¼ï¼Œè¿™é‡Œå…¶å®å°±æ˜¯æŠŠå…¨å±€å¯¹è±¡ç»™æ‰“å°å‡ºæ¥</p><h2 id="é»‘é­”æ³•"><a href="#é»‘é­”æ³•" class="headerlink" title="é»‘é­”æ³•"></a>é»‘é­”æ³•</h2><h3 id="æ¬ºéª—è¯æ³•ä½œç”¨åŸŸ"><a href="#æ¬ºéª—è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="æ¬ºéª—è¯æ³•ä½œç”¨åŸŸ"></a>æ¬ºéª—è¯æ³•ä½œç”¨åŸŸ</h3><p><strong>åŸç†ï¼šJavaScriptä¸­çš„eval(str)å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºå‚æ•°ï¼Œå¹¶å°†å­—ç¬¦ä¸²å†…å®¹è§†ä¸ºå¥½åƒåœ¨ä¹¦å†™æ—¶å°±å­˜åœ¨äºeval()å‡½æ•°æ‰€åœ¨ä½ç½®çš„ä»£ç ã€‚</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">str, a</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">eval</span>(str); <span class="comment">// æ¬ºéª—</span></span><br><span class="line">    <span class="built_in">console</span>.log(a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">foo(<span class="string">&quot;var b = 3;&quot;</span>, <span class="number">1</span>); <span class="comment">// 1, 3</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­ä¸­<code>var b = 3;</code>è¿™æ¡è¯­å¥ä¼šè¢«å½“åšæœ¬æ¥å°±åœ¨é‚£é‡Œï¼Œå› æ­¤fooå‡½æ•°å†…éƒ¨çš„å˜é‡bé®è”½äº†å¤–éƒ¨çš„å˜é‡b</p><h4 id="ä¸¥æ ¼æ¨¡å¼ä¸‹çš„è¡¨ç°"><a href="#ä¸¥æ ¼æ¨¡å¼ä¸‹çš„è¡¨ç°" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼ä¸‹çš„è¡¨ç°"></a>ä¸¥æ ¼æ¨¡å¼ä¸‹çš„è¡¨ç°</h4><p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œevalåœ¨è¿è¡Œæ—¶ä¼šæœ‰è‡ªå·±çš„è¯æ³•ä½œç”¨åŸŸï¼Œæ„å‘³ç€å…¶ä¸­çš„å£°æ˜æ— æ³•ä¿®æ”¹æ‰€åœ¨çš„ä½œç”¨åŸŸ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">str, a</span>) </span>&#123;</span><br><span class="line"><span class="meta">    &quot;use strict&quot;</span></span><br><span class="line">    <span class="built_in">eval</span>(str);</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">// undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(<span class="string">&quot;var a = 2;&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨æ—¶æœ‰å“ªäº›å‘"><a href="#ä½¿ç”¨æ—¶æœ‰å“ªäº›å‘" class="headerlink" title="ä½¿ç”¨æ—¶æœ‰å“ªäº›å‘"></a>ä½¿ç”¨æ—¶æœ‰å“ªäº›å‘</h2><h3 id="evalä¸å®¹æ˜“è°ƒè¯•"><a href="#evalä¸å®¹æ˜“è°ƒè¯•" class="headerlink" title="evalä¸å®¹æ˜“è°ƒè¯•"></a>evalä¸å®¹æ˜“è°ƒè¯•</h3><p>è°ƒè¯•å›°éš¾ï¼Œä¸”å¯è¯»æ€§éå¸¸å·®ï¼ˆæ²¡æœ‰è¡Œå·ï¼‰</p><p>ç”¨chromeDevã€VSCodeç­‰å·¥å…·æ— æ³•æ‰“æ–­ç‚¹è°ƒè¯•</p><h3 id="æ€§èƒ½é—®é¢˜"><a href="#æ€§èƒ½é—®é¢˜" class="headerlink" title="æ€§èƒ½é—®é¢˜"></a>æ€§èƒ½é—®é¢˜</h3><p>JavaScript é€šå¸¸è¢«è®¤ä¸ºæ˜¯ä¸€é—¨è§£é‡Šå‹çš„è¯­è¨€ï¼Œä½†æ˜¯ç°ä»£çš„ JavaScript å¼•æ“ä¸å†åªæ˜¯è§£é‡Š JavaScriptï¼Œä¹Ÿä¼šå¯¹å…¶è¿›è¡Œç¼–è¯‘ã€‚</p><p>V8 ä¸ºäº†æé«˜ JSçš„è¿è¡Œæ€§èƒ½ï¼Œåœ¨è¿è¡Œä¹‹å‰ä¼šå…ˆå°†JSç¼–è¯‘ä¸ºæœ¬åœ°çš„æœºå™¨ç ï¼Œç„¶åå†å»æ‰§è¡Œæœºå™¨ç ï¼ˆJITï¼‰ã€‚</p><blockquote><p>ç°ä»£JavaScriptè§£é‡Šå™¨å°†javascriptè½¬æ¢ä¸ºæœºå™¨ä»£ç ã€‚ è¿™æ„å‘³ç€ä»»ä½•å˜é‡å‘½åçš„æ¦‚å¿µéƒ½ä¼šè¢«åˆ é™¤ã€‚ å› æ­¤ï¼Œä»»æ„ä¸€ä¸ªevalçš„ä½¿ç”¨éƒ½ä¼šå¼ºåˆ¶æµè§ˆå™¨è¿›è¡Œå†—é•¿çš„å˜é‡åç§°æŸ¥æ‰¾ï¼Œä»¥ç¡®å®šå˜é‡åœ¨æœºå™¨ä»£ç ä¸­çš„ä½ç½®å¹¶è®¾ç½®å…¶å€¼ã€‚ å¦å¤–ï¼Œæ–°å†…å®¹å°†ä¼šé€šè¿‡ eval() å¼•è¿›ç»™å˜é‡ï¼Œ æ¯”å¦‚æ›´æ”¹è¯¥å˜é‡çš„ç±»å‹ï¼Œå› æ­¤ä¼šå¼ºåˆ¶æµè§ˆå™¨é‡æ–°æ‰§è¡Œæ‰€æœ‰å·²ç»ç”Ÿæˆçš„æœºå™¨ä»£ç ä»¥è¿›è¡Œè¡¥å¿ã€‚</p></blockquote><p><strong>evalç ´åäº†JSå¼•æ“ä¼˜åŒ–</strong></p><h3 id="å®‰å…¨é—®é¢˜"><a href="#å®‰å…¨é—®é¢˜" class="headerlink" title="å®‰å…¨é—®é¢˜"></a>å®‰å…¨é—®é¢˜</h3><p>å½“ä½¿ç”¨æ¥æºä¸å¯é çš„ç¬¬ä¸‰æ–¹ä»£ç æ—¶ï¼Œæ— æ³•ä¿è¯ä¸ç¢°åˆ°æ¶æ„ä»£ç </p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/eval">MDN</a></p><p><a href="https://github.com/mqyqingfeng/blog/issues/3">JavaScriptæ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ</a></p><p><a href="http://nodejs.cn/learn/the-v8-javascript-engine">V8 JavaScript å¼•æ“</a></p><p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ ä¸Šå·</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ç›¸å…³å®šä¹‰å’Œæè¿°&quot;&gt;&lt;a href=&quot;#ç›¸å…³å®šä¹‰å’Œæè¿°&quot; class=&quot;head</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
    <category term="ç½‘ç»œæ”»å‡»" scheme="http://example.com/tags/%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB/"/>
    
  </entry>
  
  <entry>
    <title>Reduxå’ŒMobxçš„å¼‚åŒ</title>
    <link href="http://example.com/2021/10/10/Redux%E5%92%8CMobx%E7%9A%84%E5%BC%82%E5%90%8C/"/>
    <id>http://example.com/2021/10/10/Redux%E5%92%8CMobx%E7%9A%84%E5%BC%82%E5%90%8C/</id>
    <published>2021-10-10T11:53:01.000Z</published>
    <updated>2022-02-16T10:07:31.941Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="äºŒè€…ä¸»è¦æ¦‚å¿µ"><a href="#äºŒè€…ä¸»è¦æ¦‚å¿µ" class="headerlink" title="äºŒè€…ä¸»è¦æ¦‚å¿µ"></a>äºŒè€…ä¸»è¦æ¦‚å¿µ</h2><p><a href="https://hjy-xh.github.io/2021/09/13/MobX%E8%AE%B0%E5%BD%95/">MobX</a></p><p><a href="https://hjy-xh.github.io/2020/12/03/Redux%E8%AE%B0%E5%BD%95/">Redux</a></p><h2 id="å‡½æ•°å¼ç¼–ç¨‹ç›¸å…³çŸ¥è¯†"><a href="#å‡½æ•°å¼ç¼–ç¨‹ç›¸å…³çŸ¥è¯†" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹ç›¸å…³çŸ¥è¯†"></a>å‡½æ•°å¼ç¼–ç¨‹ç›¸å…³çŸ¥è¯†</h2><p><a href="https://hjy-xh.github.io/2020/11/20/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0:Javascript%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97%EF%BC%88%E4%B8%80%EF%BC%89/">è¯»ä¹¦ç¬”è®°:Javascriptå‡½æ•°å¼ç¼–ç¨‹æŒ‡å—ï¼ˆä¸€ï¼‰</a></p><p><a href="https://hjy-xh.github.io/2021/01/15/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0:Javascript%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97%EF%BC%88%E4%BA%8C%EF%BC%89/">è¯»ä¹¦ç¬”è®°:Javascriptå‡½æ•°å¼ç¼–ç¨‹æŒ‡å—ï¼ˆäºŒï¼‰</a></p><p><a href="https://hjy-xh.github.io/2021/03/05/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0:Javascript%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97%EF%BC%88%E4%B8%89%EF%BC%89/">è¯»ä¹¦ç¬”è®°:Javascriptå‡½æ•°å¼ç¼–ç¨‹æŒ‡å—ï¼ˆä¸‰ï¼‰</a></p><p><a href="https://hjy-xh.github.io/2021/04/16/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0:Javascript%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97%EF%BC%88%E5%9B%9B%EF%BC%89/">è¯»ä¹¦ç¬”è®°:Javascriptå‡½æ•°å¼ç¼–ç¨‹æŒ‡å—ï¼ˆå››ï¼‰</a></p><h2 id="å¼‚åŒç‚¹"><a href="#å¼‚åŒç‚¹" class="headerlink" title="å¼‚åŒç‚¹"></a>å¼‚åŒç‚¹</h2><ul><li><p>è®¾è®¡æ€æƒ³ï¼šå‡½æ•°å¼ VS é¢å‘å¯¹è±¡</p><p><code>Redux</code>éµå¾ªå‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œ<code>MobX</code>åˆ™æ›´å¤šä»é¢å‘å¯¹è±¡å’Œå“åº”å¼ç¼–ç¨‹çš„è§’åº¦æ¥è€ƒè™‘é—®é¢˜</p><p>å¯ä»¥ä»<code>Redux</code>çš„<code>reducer</code>ä¸­çœ‹å‡ºæ¥ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œåªä¾èµ–å…¥å‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(state, action) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.assign(&#123;&#125;, state, &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>MobX</code>å°†çŠ¶æ€åŒ…è£…æˆå¯è§‚å¯Ÿå¯¹è±¡ï¼Œä¸€ä½†çŠ¶æ€å¯¹è±¡å˜æ›´ï¼Œå°±é‡æ–°æ¸²æŸ“è§†å›¾</p></li><li><p>å¯¹storeç®¡ç†ï¼šå•ä¸€store VS å¤šä¸ªstore</p><p><code>store</code>æ˜¯åº”ç”¨ç®¡ç†æ•°æ®çš„åœ°æ–¹ï¼Œåœ¨<code>Redux</code>ä¸­ï¼Œåº”ç”¨çš„æ‰€æœ‰æ•°æ®éƒ½é›†ä¸­åœ¨ä¸€ä¸ªå¤§çš„<code>store</code>ä¸­ï¼›<code>MobX</code>åˆ™é€šå¸¸æ˜¯æŒ‰ç…§æ¨¡å—æ¥å°†åº”ç”¨çŠ¶æ€åˆ’åˆ†ï¼Œåœ¨å¤šä¸ªç‹¬ç«‹çš„<code>store</code>ä¸­ç®¡ç†</p></li><li><p>æ•°æ®å¯å˜æ€§ï¼šä¸å¯å˜ VS å¯å˜</p><p><code>Redux</code>çŠ¶æ€å¯¹è±¡é€šå¸¸æ˜¯ä¸å¯å˜çš„ï¼Œä¸€èˆ¬æ˜¯åœ¨åŸæ¥çš„çŠ¶æ€å¯¹è±¡åŸºç¡€ä¸Šè¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€å¯¹è±¡ï¼›<code>MobX</code>åˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨æ–°çš„å€¼æ›´æ–°çŠ¶æ€å¯¹è±¡</p></li><li><p>æ•´ä½“å·®å¼‚</p><p><code>Redux</code>æä¾›å¯ä»¥è¿›è¡Œæ—¶é—´å›æº¯çš„å¼€å‘å·¥å…·ï¼ŒåŒæ—¶å› ä¸ºå®ƒä½¿ç”¨çº¯å‡½æ•°ä»¥åŠæ›´å°‘çš„æŠ½è±¡ï¼Œè®©è°ƒè¯•å˜å¾—æ›´åŠ å®¹æ˜“ï¼›<code>MobX</code>ä½¿ç”¨èµ·æ¥ç›¸å¯¹ç®€å•ï¼Œä½†æ˜¯å…¶ä¸­æœ‰æ›´å¤šçš„æŠ½è±¡å’Œå°è£…ï¼Œæ‰€ä»¥è°ƒè¯•èµ·æ¥ä¼šæ›´åŠ å¤æ‚ï¼ŒåŒæ—¶ç»“æœä¹Ÿæ›´éš¾ä»¥é¢„æµ‹</p></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="http://cn.redux.js.org/">Redux ä¸­æ–‡å®˜ç½‘</a></p><p><a href="https://www.redux.org.cn/">Redux ä¸­æ–‡æ–‡æ¡£</a></p><p><a href="https://juejin.cn/post/6844903562095362056">ä½ éœ€è¦Mobxè¿˜æ˜¯Reduxï¼Ÿ</a></p><p><a href="https://tech.youzan.com/mobx_vs_redux/">æˆ‘ä¸ºä»€ä¹ˆä»Reduxè¿ç§»åˆ°äº†Mobx</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;äºŒè€…ä¸»è¦æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#äºŒè€…ä¸»è¦æ¦‚å¿µ&quot; class=&quot;header</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="React" scheme="http://example.com/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>MobXè®°å½•</title>
    <link href="http://example.com/2021/09/23/MobX%E8%AE%B0%E5%BD%95/"/>
    <id>http://example.com/2021/09/23/MobX%E8%AE%B0%E5%BD%95/</id>
    <published>2021-09-23T14:56:31.000Z</published>
    <updated>2022-02-16T10:07:20.179Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>ç®€å•ã€å¯æ‰©å±•çš„çŠ¶æ€ç®¡ç†</p><h2 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h2><ul><li><p>ç®€å•ç›´æ¥</p><ul><li>ç¼–å†™æ— æ¨¡æ¿çš„æç®€ä»£ç æ¥ç²¾å‡†æè¿°æ„å›¾</li></ul></li><li><p>è½»æ¾å®ç°æœ€ä¼˜æ¸²æŸ“</p><ul><li>æ‰€æœ‰å¯¹æ•°æ®çš„å˜æ›´å’Œä½¿ç”¨éƒ½ä¼šåœ¨è¿è¡Œæ—¶è¢«è¿½è¸ªåˆ°ï¼Œå¹¶æ„æˆä¸€ä¸ªæˆªå–æ‰€æœ‰çŠ¶æ€å’Œè¾“å‡ºä¹‹é—´å…³ç³»çš„ä¾èµ–æ ‘ã€‚è¿™æ ·ä¿è¯äº†é‚£äº›ä¾èµ–äºçŠ¶æ€çš„è®¡ç®—åªæœ‰åœ¨çœŸæ­£éœ€è¦çš„æ—¶å€™æ‰ä¼šè¿è¡Œï¼Œå°±åƒReactç»„ä»¶ä¸€æ ·ã€‚æ— éœ€ä½¿ç”¨è®°å¿†åŒ–æˆ–é€‰æ‹©å™¨ä¹‹ç±»å®¹æ˜“å‡ºé”™çš„æ¬¡ä¼˜æŠ€å·§æ¥å¯¹ç»„ä»¶è¿›è¡Œæ‰‹åŠ¨ä¼˜åŒ–ã€‚</li></ul></li><li><p>æ¶æ„è‡ªç”±</p><ul><li>å®ƒå¯ä»¥è®©ä½ åœ¨ä»»æ„UIæ¡†æ¶ä¹‹å¤–ç®¡ç†ä½ çš„åº”ç”¨çŠ¶æ€ã€‚è¿™æ ·ä¼šä½¿ä½ çš„ä»£ç ä½è€¦åˆã€å¯ç§»æ¤å’Œæ›´åŠ å®¹æ˜“æµ‹è¯•</li></ul></li></ul><h2 id="æµè§ˆå™¨æ”¯æŒ"><a href="#æµè§ˆå™¨æ”¯æŒ" class="headerlink" title="æµè§ˆå™¨æ”¯æŒ"></a>æµè§ˆå™¨æ”¯æŒ</h2><ul><li>Mobx &gt;= 5 ç‰ˆæœ¬è¿è¡Œåœ¨ä»»ä½•<code>æ”¯æŒ ES6 proxy</code>çš„æµè§ˆå™¨ã€‚</li><li>Mobx 4 å¯ä»¥è¿è¡Œåœ¨ä»»ä½•æ”¯æŒES5çš„æµè§ˆå™¨ä¸Šï¼Œè€Œä¸”ä¹Ÿè®²è¿›è¡ŒæŒç»­åœ°ç»´æŠ¤ã€‚MobX 4 å’Œ 5 çš„APIæ˜¯ç›¸åŒçš„ï¼Œå¹¶ä¸”è¯­ä¹‰ä¸Šä¹Ÿèƒ½è¾¾åˆ°ç›¸åŒçš„æ•ˆæœï¼Œåªæ˜¯Mobx 4 å­˜åœ¨ä¸€äº›å±€é™æ€§<ul><li>Observable æ•°ç»„ä¸æ˜¯çœŸæ­£çš„æ•°ç»„ï¼Œæ‰€ä»¥å®ƒä»¬æ— æ³•é€šè¿‡<code>Array.isArray()</code> çš„æ£€æŸ¥ã€‚æœ€å¸¸è§çš„å¤„ç†æ–¹æ³•æ˜¯åœ¨ä¼ é€’ç»™ç¬¬ä¸‰æ–¹åº“ä¹‹å‰ï¼Œä½ ç»å¸¸éœ€è¦å…ˆå¯¹å…¶è¿›è¡Œ<code>.slice()</code>æ“ä½œï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªæµ…æ‹·è´çš„çœŸæ­£æ•°ç»„</li><li>å‘ä¸€ä¸ªå·²å­˜åœ¨çš„ observable å¯¹è±¡ä¸­æ·»åŠ å±æ€§ä¸ä¼šè¢«è‡ªåŠ¨æ•è·ã€‚è¦ä¹ˆä½¿ç”¨ observable æ˜ å°„æ¥æ›¿ä»£ï¼Œè¦ä¹ˆä½¿ç”¨å·¥å…·å‡½æ•°ä¸­æ–¹æ³•æ¥å¯¹æƒ³è¦åŠ¨æ€æ·»åŠ å±æ€§çš„å¯¹è±¡è¿›è¡Œè¯»/å†™/è¿­ä»£</li></ul></li></ul><h2 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h2><ul><li>State(çŠ¶æ€)</li></ul><p>çŠ¶æ€æ˜¯é©±åŠ¨åº”ç”¨çš„æ•°æ®ã€‚</p><p>å¯ä»¥ç”¨ä»»ä½•æ•°æ®ç»“æ„æ¥å­˜å‚¨çŠ¶æ€ï¼Œå¦‚JSåŸºæœ¬æ•°æ®ç±»å‹ã€å¼•ç”¨ç±»å‹ã€æ™®é€šå¯¹è±¡ã€ç±»å®ä¾‹ã€æ•°ç»„å’Œæ˜ å°„</p><p>é€šå¸¸æœ‰åƒå¾…åŠäº‹é¡¹åˆ—è¡¨æ•°æ®è¿™æ ·çš„<code>é¢†åŸŸç‰¹å®šçŠ¶æ€</code>ï¼Œè¿˜æœ‰åƒå½“å‰å·²é€‰å…ƒç´ çš„<code>è§†å›¾çŠ¶æ€</code>ï¼ˆçŠ¶æ€å°±åƒæ˜¯æœ‰æ•°æ®çš„excelè¡¨æ ¼ï¼‰</p><ul><li>Action(åŠ¨ä½œ)</li></ul><p>Action(åŠ¨ä½œ)æ˜¯ä»»æ„å¯ä»¥æ”¹å˜State(çŠ¶æ€)çš„ä»£ç ,æ¯”å¦‚ç”¨æˆ·äº‹ä»¶å¤„ç†ã€åç«¯æ¨é€æ•°æ®å¤„ç†ã€è°ƒåº¦å™¨äº‹ä»¶å¤„ç†ç­‰</p><p>ä½¿ç”¨Actionå¯ä»¥æ›´å¥½åœ°ç»„ç»‡ä»£ç ï¼Œå¹¶é˜²æ­¢åœ¨æ— æ„ä¸­ä¿®æ”¹State</p><p>å¦‚æœæ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä½¿ç”¨ MobXçš„è¯ï¼ŒMobX ä¼šå¼ºåˆ¶åªæœ‰åœ¨åŠ¨ä½œä¹‹ä¸­æ‰å¯ä»¥ä¿®æ”¹çŠ¶æ€</p><ul><li>Derivations(æ´¾ç”Ÿ)</li></ul><p>ä»»ä½•æ¥æºæ˜¯Stateå¹¶ä¸”ä¸éœ€è¦è¿›ä¸€æ­¥äº¤äº’çš„ä¸œè¥¿éƒ½æ˜¯Derivation<br> å¤šç§å½¢å¼ï¼š</p><ul><li>ç”¨æˆ·ç•Œé¢</li><li>æ´¾ç”Ÿæ•°æ®ï¼Œæ¯”å¦‚å‰©ä¸‹çš„å¾…åŠäº‹é¡¹çš„æ•°é‡</li><li>åç«¯é›†æˆï¼Œæ¯”å¦‚æŠŠå˜åŒ–å‘é€åˆ°æœåŠ¡å™¨ç«¯<br>ä¸¤ç§ç±»å‹ï¼š</li><li>Computed valuesï¼ˆè®¡ç®—å€¼ï¼‰ å®ƒä»¬æ˜¯æ°¸è¿œå¯ä»¥ä½¿ç”¨çº¯å‡½æ•°ä»å½“å‰å¯è§‚å¯ŸçŠ¶æ€ä¸­è¡ç”Ÿå‡ºçš„å€¼</li><li>Reactionsï¼ˆååº”ï¼‰ä»–ä»¬æ˜¯å½“çŠ¶æ€æ”¹å˜æ—¶éœ€è¦è‡ªåŠ¨å‘ç”Ÿçš„å‰¯ä½œç”¨ (å‘½ä»¤å¼ç¼–ç¨‹å’Œå“åº”å¼ç¼–ç¨‹ä¹‹é—´çš„æ¡¥æ¢ï¼Œæˆ–è€…è¯´å¾—æ›´æ˜ç¡®ä¸€äº›ï¼Œå®ƒä»¬æœ€ç»ˆéƒ½éœ€è¦å®ç°I / O æ“ä½œ)</li></ul><p>é»„é‡‘æ³•åˆ™ï¼šå¦‚æœæƒ³åˆ›å»ºä¸€ä¸ªåŸºäºå½“å‰çŠ¶æ€çš„å€¼æ—¶ï¼Œä½¿ç”¨<code>computed</code></p><h2 id="åŸåˆ™"><a href="#åŸåˆ™" class="headerlink" title="åŸåˆ™"></a>åŸåˆ™</h2><p>MobXä½¿ç”¨å•å‘æ•°æ®æµï¼Œåˆ©ç”¨Actionæ”¹å˜Stateï¼Œè¿›è€Œæ›´æ–°æ‰€æœ‰å—å½±å“çš„View</p><p><img src="https://zh.mobx.js.org/assets/action-state-view.png"></p><ul><li>æ‰€æœ‰çš„Derivationså°†åœ¨Stateæ”¹å˜æ—¶è‡ªåŠ¨ä¸”åŸå­åŒ–çš„æ›´æ–°ï¼Œå¼•æµ‹ä¸å¯èƒ½è§‚å¯Ÿä¸­é—´å€¼</li><li>æ‰€æœ‰çš„Derivationsé»˜è®¤å°†ä¼šåŒæ­¥æ›´æ–°ï¼Œè¿™æ„å‘³ç€Actionå¯ä»¥åœ¨Stateæ”¹å˜ä¹‹åå®‰å…¨çš„ç›´æ¥è·å–computedå€¼</li><li>Computed valueçš„æ›´æ–°æ˜¯æƒ°æ€§çš„ï¼Œä»»ä½•Computed valueåœ¨éœ€è¦å®ƒä»¬çš„å‰¯ä½œç”¨å‘ç”Ÿä¹‹å‰éƒ½æ˜¯ä¸æ¿€æ´»çš„</li><li>æ‰€æœ‰çš„Computed valueéƒ½åº”è¯¥æ˜¯çº¯å‡½æ•°ï¼Œå®ƒä»¬ä¸åº”è¯¥ä¿®æ”¹State</li></ul><h2 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h2><p>MobXä½¿ç”¨<code>Object.defineProperty</code>æ¥æ‹¦æˆªå¯¹æ•°æ®çš„è®¿é—®ï¼Œä¸€æ—¦å€¼å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šè°ƒç”¨<code>React</code>çš„<code>render</code>æ–¹æ³•é‡æ–°æ¸²æŸ“è§†å›¾æˆ–è€…è§¦å‘<code>autorun</code></p><h2 id="å¸¸ç”¨API"><a href="#å¸¸ç”¨API" class="headerlink" title="å¸¸ç”¨API"></a>å¸¸ç”¨API</h2><ul><li><p>Autorun</p><ul><li>ç”¨æ³•ï¼šautorun(effect: (reaction) =&gt; void)</li><li>è¯´æ˜ï¼šautorun å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ¯å½“è¯¥å‡½æ•°æ‰€è§‚å¯Ÿçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒéƒ½åº”è¯¥è¿è¡Œã€‚ å½“ä½ è‡ªå·±åˆ›å»º autorun æ—¶ï¼Œå®ƒä¹Ÿä¼šè¿è¡Œä¸€æ¬¡</li></ul></li><li><p>Reaction</p><ul><li>ç”¨æ³•ï¼š<ul><li>5ï¼šreaction(() =&gt; data, (data, reaction) =&gt; { sideEffect }, options?)</li><li>6ï¼šreaction(() =&gt; value, (value, previousValue, reaction) =&gt; { sideEffect }, options?)</li></ul></li><li>è¯´æ˜ï¼š<ul><li>reaction ç±»ä¼¼äº autorunï¼Œä½†å¯ä»¥è®©ä½ æ›´åŠ ç²¾ç»†åœ°æ§åˆ¶è¦è·Ÿè¸ªçš„å¯è§‚å¯Ÿå¯¹è±¡ã€‚ å®ƒæ¥å—ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼šç¬¬ä¸€ä¸ªï¼Œdata å‡½æ•°ï¼Œå…¶æ˜¯è¢«è·Ÿè¸ªçš„å‡½æ•°å¹¶ä¸”å…¶è¿”å›å€¼å°†ä¼šä½œä¸ºç¬¬äºŒä¸ªå‡½æ•°ï¼Œeffect å‡½æ•°ï¼Œçš„è¾“å…¥ã€‚ é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œå‰¯ä½œç”¨åªä¼šå¯¹ data å‡½æ•°ä¸­è¢«è®¿é—®è¿‡çš„æ•°æ®åšå‡ºååº”ï¼Œè¿™äº›æ•°æ®å¯èƒ½å°‘äº effect å‡½æ•°ä¸­å®é™…ä½¿ç”¨çš„æ•°æ®</li><li>ä¸€èˆ¬çš„æ¨¡å¼æ˜¯åœ¨ data å‡½æ•°ä¸­è¿”å›ä½ åœ¨å‰¯ä½œç”¨ä¸­éœ€è¦çš„æ‰€æœ‰æ•°æ®ï¼Œ å¹¶ä»¥è¿™ç§æ–¹å¼æ›´ç²¾ç¡®åœ°æ§åˆ¶å‰¯ä½œç”¨è§¦å‘çš„æ—¶æœºã€‚ ä¸ autorun ä¸åŒï¼Œå‰¯ä½œç”¨åœ¨åˆå§‹åŒ–æ—¶ä¸ä¼šè‡ªåŠ¨è¿è¡Œï¼Œè€Œåªä¼šåœ¨ data è¡¨è¾¾å¼é¦–æ¬¡è¿”å›æ–°å€¼ä¹‹åè¿è¡Œ</li></ul></li></ul></li><li><p>When</p><ul><li>ç”¨æ³•ï¼š<ul><li>when(predicate: () =&gt; boolean, effect?: () =&gt; void, options?)</li><li>when(predicate: () =&gt; boolean, options?): Promise</li></ul></li><li>è¯´æ˜ï¼šwhen ä¼šè§‚å¯Ÿå¹¶è¿è¡Œç»™å®šçš„ predicate å‡½æ•°ï¼Œç›´åˆ°å…¶è¿”å› trueã€‚ ä¸€æ—¦ predicate è¿”å›äº† trueï¼Œç»™å®šçš„ effect å‡½æ•°å°±ä¼šæ‰§è¡Œå¹¶ä¸”è‡ªåŠ¨æ‰§è¡Œå™¨å‡½æ•°å°†ä¼šè¢«æ¸…ç†æ‰ã€‚</li></ul></li></ul><h2 id="é›†æˆReact"><a href="#é›†æˆReact" class="headerlink" title="é›†æˆReact"></a>é›†æˆReact</h2><p>MobX å¯ä»¥ç‹¬ç«‹äº React è¿è¡Œ, ä½†æ˜¯ä»–ä»¬é€šå¸¸æ˜¯ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨</p><p>å¸¸ç”¨çš„ä¸¤ä¸ªåŒ…ï¼š</p><ul><li>mobx-react</li><li>mobx-react-lite</li></ul><p><code>mobx-react</code>ä¸­å¼•ç”¨äº†<code>mobx-react-lite</code>åŒ…ï¼Œå®ƒæä¾›äº†å¾ˆå¤šåœ¨æ–°é¡¹ç›®ä¸­ä¸å†éœ€è¦çš„ç‰¹æ€§ï¼Œå…¶ä¸­æœ‰ï¼š</p><ul><li>å¯¹äºReact class componentsçš„æ”¯æŒ</li><li>Provider å’Œ inject ï¼ŒMobXçš„è¿™äº›ä¸œè¥¿åœ¨æœ‰React.createContextæ›¿ä»£åå˜å¾—ä¸å¿…è¦äº†</li><li>ç‰¹æ®Šçš„è§‚å¯Ÿå¯¹è±¡ propTypes</li></ul><p>è¦æ³¨æ„ mobx-react æ˜¯å…¨é‡åŒ…ï¼Œä¹Ÿä¼šæš´éœ² mobx-react-liteåŒ…ä¸­çš„ä»»ä½•æ–¹æ³•,å…¶ä¸­åŒ…å«å¯¹å‡½æ•°ç»„ä»¶çš„æ”¯æŒã€‚ å¦‚æœä½ ä½¿ç”¨ mobx-reactï¼Œé‚£å°±ä¸è¦æ·»åŠ  mobx-react-lite çš„ä¾èµ–å’Œå¼•ç”¨äº†</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li>åŒºåˆ†<code>computed</code>å’Œ<code>auturun</code><br>å¦‚æœæƒ³å“åº”å¼çš„äº§ç”Ÿä¸€ä¸ªå¯ä»¥è¢«å…¶å®ƒobserverä½¿ç”¨çš„å€¼ï¼Œä½¿ç”¨<code>@compouted</code>;å¦‚æœæƒ³è¦è¾¾åˆ°ä¸€ä¸ªæ•ˆæœï¼Œä½¿ç”¨<code>autorun</code>ï¼ˆæ‰“å°æ—¥å¿—ï¼Œå‘èµ·ç½‘ç»œè¯·æ±‚ç­‰è¿™æ ·å‘½ä»¤å¼çš„å‰¯ä½œç”¨ï¼‰</li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://cn.mobx.js.org/">MobX ä¸­æ–‡æ–‡æ¡£</a></p><p><a href="https://mobx.js.org/README.html">MobX</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;è¯´æ˜&quot;&gt;&lt;a href=&quot;#è¯´æ˜&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="MobX" scheme="http://example.com/tags/MobX/"/>
    
  </entry>
  
  <entry>
    <title>Reactä¸­Fiberçš„ç®€å•å®ç°</title>
    <link href="http://example.com/2021/09/11/React%E4%B8%ADFiber%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/"/>
    <id>http://example.com/2021/09/11/React%E4%B8%ADFiber%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/</id>
    <published>2021-09-11T15:14:54.000Z</published>
    <updated>2022-02-21T07:04:30.815Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p><a href="https://github.com/HJY-xh/frame-course/blob/master/React/Fiber%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/Fiber%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0.md">ä¼ é€é—¨</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/HJY-xh/frame-cou</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="React" scheme="http://example.com/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>ç±»æ•°ç»„è½¬æ¢æˆæ•°ç»„çš„å‡ ç§æ–¹å¼</title>
    <link href="http://example.com/2021/08/25/%E7%B1%BB%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E6%88%90%E6%95%B0%E7%BB%84%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
    <id>http://example.com/2021/08/25/%E7%B1%BB%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E6%88%90%E6%95%B0%E7%BB%84%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/</id>
    <published>2021-08-25T13:44:29.000Z</published>
    <updated>2022-02-21T07:00:45.191Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="æ¦‚æ‹¬"><a href="#æ¦‚æ‹¬" class="headerlink" title="æ¦‚æ‹¬"></a>æ¦‚æ‹¬</h2><ul><li>Array.prototype.slice.call()</li><li>Array.from()</li><li>æ‹“å±•è¿ç®—ç¬¦</li></ul><h2 id="Array-prototype-slice-call"><a href="#Array-prototype-slice-call" class="headerlink" title="Array.prototype.slice.call()"></a>Array.prototype.slice.call()</h2><p>è¿™ç§æ–¹æ³•æ˜¯å€Ÿç”¨äº†æ•°ç»„åŸå‹ä¸­çš„<code>slice</code>æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„</p><p><code>slice()</code>è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”±<code>begin</code>å’Œ<code>end</code>å†³å®šçš„åŸæ•°ç»„çš„æµ…æ‹·è´ï¼ˆåŒ…æ‹¬ beginï¼Œä¸åŒ…æ‹¬endï¼‰ï¼Œä¸”åŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.slice([begin[, end]])</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçœ‹çœ‹<code>slice()</code>æ–¹æ³•çš„å†…éƒ¨å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.slice = <span class="function"><span class="keyword">function</span> (<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    start = start || <span class="number">0</span>;</span><br><span class="line">    end = end || <span class="built_in">this</span>.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; end; i++) &#123;</span><br><span class="line">        result.push(<span class="built_in">this</span>[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h2><p><code>Array.from()</code>æ–¹æ³•å¯¹ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(arrayLike[, mapFn[, thisArg]])</span><br></pre></td></tr></table></figure><ul><li>arrayLike<br>  æƒ³è¦è½¬æ¢æˆæ•°ç»„çš„ä¼ªæ•°ç»„å¯¹è±¡æˆ–å¯è¿­ä»£å¯¹è±¡</li><li>mapFn å¯é€‰<br>  å¦‚æœæŒ‡å®šäº†è¯¥å‚æ•°ï¼Œæ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¼šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ã€‚</li><li>thisArg å¯é€‰<br>  å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚</li></ul><h2 id="æ‹“å±•è¿ç®—ç¬¦"><a href="#æ‹“å±•è¿ç®—ç¬¦" class="headerlink" title="æ‹“å±•è¿ç®—ç¬¦"></a>æ‹“å±•è¿ç®—ç¬¦</h2><p>ES6ä¸­çš„æ‰©å±•è¿ç®—ç¬¦â€¦ä¹Ÿèƒ½å°†æŸäº›æ•°æ®ç»“æ„è½¬æ¢æˆæ•°ç»„ï¼Œè¿™ç§æ•°æ®ç»“æ„å¿…é¡»æœ‰éå†å™¨æ¥å£</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> args = [...arguments];</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>MDN</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ¦‚æ‹¬&quot;&gt;&lt;a href=&quot;#æ¦‚æ‹¬&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯æ¨¡å—åŒ–çš„å‰ä¸–ä»Šç”Ÿ</title>
    <link href="http://example.com/2021/08/19/%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F/"/>
    <id>http://example.com/2021/08/19/%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F/</id>
    <published>2021-08-19T12:23:54.000Z</published>
    <updated>2022-01-06T01:28:03.543Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p>è¿‘å¹´æ¥ Web åº”ç”¨å˜å¾—æ›´åŠ å¤æ‚ä¸åºå¤§ï¼ŒWeb å‰ç«¯æŠ€æœ¯çš„åº”ç”¨èŒƒå›´ä¹Ÿæ›´åŠ å¹¿æ³›ã€‚é€šè¿‡ç›´æ¥ç¼–å†™ JavaScriptã€CSSã€HTML å¼€å‘ Web åº”ç”¨çš„æ–¹å¼å·²ç»æ— æ³•åº”å¯¹å½“å‰ Web åº”ç”¨çš„å‘å±•ã€‚</p><p>ç«™åœ¨å·¨äººçš„è‚©è†€å¾€å›çœ‹ï¼Œå¥½åœ¨ JavaScript æ¨¡å—åŒ–å‡ºç°ï¼Œè§£å†³äº†å‰ç«¯ç—›ç‚¹ï¼Œå¹¶ä¸”æ¨åŠ¨å‰ç«¯å·¥ç¨‹åŒ–ã€‚</p><h2 id="é‚£ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–å‘¢ï¼Ÿ-ä¸ºä»€ä¹ˆéœ€è¦å®ƒå‘¢ï¼Ÿ"><a href="#é‚£ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–å‘¢ï¼Ÿ-ä¸ºä»€ä¹ˆéœ€è¦å®ƒå‘¢ï¼Ÿ" class="headerlink" title="é‚£ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–å‘¢ï¼Ÿ ä¸ºä»€ä¹ˆéœ€è¦å®ƒå‘¢ï¼Ÿ"></a>é‚£ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–å‘¢ï¼Ÿ ä¸ºä»€ä¹ˆéœ€è¦å®ƒå‘¢ï¼Ÿ</h2><p>æ¨¡å—åŒ–å¯ä»¥ç†è§£æˆæ˜¯å°†ä¸€ä¸ªå¤æ‚çš„ç³»ç»Ÿåˆ†è§£ä¸ºå¤šä¸ªæ¨¡å—ä»¥æ–¹ä¾¿ç»„ç»‡å’Œç¼–ç ã€‚</p><p>å¾ˆä¹…ä»¥å‰ï¼Œç½‘é¡µå¼€å‘è¦é€šè¿‡å‘½åç©ºé—´çš„æ–¹å¼æ¥ç»„ç»‡ä»£ç ã€‚åƒ jQuery å°±æ˜¯å°†ä»–çš„ API éƒ½æ”¾åœ¨ <code>window.$</code> ä¸‹ï¼Œåœ¨åŠ è½½å®Œ jQuery åï¼Œå…¶å®ƒæ¨¡å—å†é€šè¿‡ <code>window.$</code> å»ä½¿ç”¨ã€‚</p><p>é‚£è¿™ä¹ˆåšä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š</p><ul><li>å‘½åç©ºé—´å†²çª</li><li>æ— æ³•åˆç†åœ°ç®¡ç†é¡¹ç›®åœ°ä¾èµ–å’Œç‰ˆæœ¬</li><li>æ— æ³•æ–¹ä¾¿åœ°æ§åˆ¶ä¾èµ–çš„åŠ è½½é¡ºåº</li></ul><p>å¯ä»¥é¢„è§ï¼Œå½“é¡¹ç›®è¶Šå¤§ï¼Œç»´æŠ¤æˆæœ¬ä¹Ÿè¶Šé«˜ï¼Œå› æ­¤ç”¨æ¨¡å—åŒ–çš„æ€æƒ³æ¥ç»„ç»‡ä»£ç ã€‚</p><p>å›é¡¾å‰ç«¯æ¨¡å—åŒ–çš„å‰ä¸–ä»Šç”Ÿï¼ŒæŒ‰æ—¶é—´å…ˆåå¯ä»¥æ€»ç»“ä¸ºä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹</p><ul><li>åˆ€è€•ç«ç§æ—¶ä»£</li><li>CommonJS æ¨¡å—è§„èŒƒåŠåœ¨ Node.js é‡Œçš„å®ç°</li><li>AMD å¼‚æ­¥æ¨¡å—å®šä¹‰</li><li>ESM ECMAScript æ¨¡å—ç³»ç»Ÿ</li></ul><h2 id="åˆ€è€•ç«ç§æ—¶ä»£"><a href="#åˆ€è€•ç«ç§æ—¶ä»£" class="headerlink" title="åˆ€è€•ç«ç§æ—¶ä»£"></a>åˆ€è€•ç«ç§æ—¶ä»£</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ HTML çš„ <code>&lt;script&gt;</code> å…ƒç´ ç”¨äºåµŒå…¥æˆ–å¼•ç”¨å¯æ‰§è¡Œè„šæœ¬ã€‚</p><p>åœ¨äº’è”ç½‘æ—©æœŸï¼ŒWeb1.0 æ—¶ä»£ï¼Œé¡µé¢æ¯”è¾ƒç®€å•ï¼Œå¤§å¤šæ—¶å€™åªæ˜¯å±•ç¤ºå†…å®¹ï¼Œä½¿ç”¨å†…åµŒçš„æ–¹å¼æˆ–è€…å¼•ç”¨å•ä¸ª JavaScript æ–‡ä»¶å°±å¯ä»¥æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚</p><p>å½“åŠŸèƒ½å˜å¾—å¤æ‚æ—¶ï¼Œå•ä¸ª JavaScript æ–‡ä»¶ä»£ç é‡ä¹Ÿå˜å¤šï¼Œæ­¤æ—¶å¯ä»¥å°† JavaScript åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œä½†éœ€è¦å¤„ç†å¥½å„ä¸ª <code>&lt;script&gt;</code> æ ‡ç­¾çš„ä¹¦å†™é¡ºåºã€‚</p><p>è¿™ä¸ªæ—¶æœŸé’ˆå¯¹ JavaScript æºç çš„ç»„ç»‡ï¼Œè°ˆä¸ä¸Šæ¨¡å—åŒ–ã€‚å³ä¾¿é‡‡ç”¨äº†æ–‡ä»¶æ‹¼æ¥ï¼ˆconcatï¼‰è¿™æ ·çš„å¤„ç†æŠ€æœ¯ï¼Œå…¶å…ˆåé¡ºåºä¹Ÿéœ€è¦äººå·¥ç»´æŠ¤ã€‚</p><h2 id="CommonJS-æ¨¡å—è§„èŒƒåŠåœ¨-Node-js-é‡Œçš„å®ç°"><a href="#CommonJS-æ¨¡å—è§„èŒƒåŠåœ¨-Node-js-é‡Œçš„å®ç°" class="headerlink" title="CommonJS æ¨¡å—è§„èŒƒåŠåœ¨ Node.js é‡Œçš„å®ç°"></a>CommonJS æ¨¡å—è§„èŒƒåŠåœ¨ Node.js é‡Œçš„å®ç°</h2><p>è¿™æ˜¯ä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨çš„ JavaScript æ¨¡å—åŒ–è§„èŒƒï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡<code>require</code>æ–¹æ³•æ¥<strong>åŒæ­¥åŠ è½½</strong>ä¾èµ–çš„å…¶ä»–æ¨¡å—ï¼Œé€šè¿‡<code>module.export</code>å¯¼å‡ºéœ€è¦æš´éœ²çš„æ¥å£ã€‚</p><p>å®ƒçš„æµè¡Œå¾—ç›Šäº Node.js é‡‡ç”¨äº†è¿™ç§æ–¹æ³•ã€‚</p><p>å®ƒçš„ä¼˜ç‚¹åœ¨äºï¼š</p><ul><li>ä»£ç å¯å¤ç”¨äº Node.js ç¯å¢ƒä¸‹å¹¶è¿è¡Œ</li><li>æœ‰å¾ˆå¤šéµå¾ªæ­¤è§„èŒƒçš„ Npm åŒ…</li></ul><p>å®ƒçš„ç¼ºç‚¹åœ¨äºï¼š</p><ul><li>ä»£ç æ— æ³•ç›´æ¥è¿è¡Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œéœ€è¦é€šè¿‡å·¥å…·è½¬æ¢æˆæ ‡å‡†çš„ ES5</li></ul><p>CommonJS è¿˜å¯ä»¥ç»†åˆ†ä¸º CommonJS1 å’Œ CommonJS2ï¼ŒåŒºåˆ«åœ¨äº CommonJS1 åªèƒ½é€šè¿‡<code>export.xx = xx</code>çš„æ–¹å¼å¯¼å‡ºï¼Œè€Œ CommonJS2 åœ¨ CommonJS1 çš„åŸºç¡€ä¸ŠåŠ å…¥äº†<code>module.export = xx</code>çš„å¯¼å‡ºæ–¹å¼ã€‚CommonJS é€šå¸¸æŒ‡ CommonJS2ã€‚</p><p>Node åº”ç”¨ç”±æ¨¡å—ç»„æˆï¼Œé‡‡ç”¨ CommonJS æ¨¡å—è§„èŒƒã€‚æ¯ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»ï¼Œéƒ½æ˜¯ç§æœ‰çš„ï¼Œå¯¹å…¶ä»–æ–‡ä»¶ä¸å¯è§ã€‚</p><p>Node.js åœ¨è§£æä¸æ‰§è¡Œæ¯ä¸ªæ¨¡å—ä¹‹å‰ï¼Œä¼šå…ˆåŠ ä¸Šä¸€å±‚åŒ…è£…ï¼Œç±»ä¼¼äºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">exports</span>, <span class="built_in">require</span>, <span class="built_in">module</span>, __filename, __dirname</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// æ¨¡å—ä»£ç ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œæ¨¡å—ä½œç”¨åŸŸå®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸï¼›è€Œ <code>__dirname</code>ã€<code>__filename</code>ã€<code>require</code>ã€<code>module</code> ç­‰æ¨¡å—å¸¸é‡/å˜é‡éƒ½æ˜¯å¤–éƒ¨ä¼ å…¥çš„å‚æ•°ã€‚</p><h2 id="AMD-å¼‚æ­¥æ¨¡å—å®šä¹‰"><a href="#AMD-å¼‚æ­¥æ¨¡å—å®šä¹‰" class="headerlink" title="AMD å¼‚æ­¥æ¨¡å—å®šä¹‰"></a>AMD å¼‚æ­¥æ¨¡å—å®šä¹‰</h2><p>AMDï¼ˆAsynchronous Module Definitionï¼‰å³å¼‚æ­¥æ¨¡å—å®šä¹‰ã€‚AMD è§„èŒƒä¸­ï¼Œå„ä¸ªä¾èµ–å¯ä»¥å¼‚æ­¥åŠ è½½è€Œä¸å½±å“æ­£å¸¸é€»è¾‘ï¼Œéå¸¸é€‚ç”¨äºæµè§ˆå™¨ç¯å¢ƒã€‚AMD è§„èŒƒçš„æ ¸å¿ƒ API åªæœ‰ä¸€ä¸ªç®€å•çš„ <code>define()</code>å‡½æ•°ã€‚</p><p>AMD æ¨¡å—ç³»ç»Ÿçš„ç»å…¸å®ç°åº“æ˜¯ require.jsã€‚</p><p>ä¾‹å­:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">define(id?: <span class="built_in">String</span>, dependencies?: <span class="built_in">String</span>[], <span class="attr">factory</span>: <span class="built_in">Function</span>|<span class="built_in">Object</span>);</span><br><span class="line"></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>, <span class="built_in">exports</span>, <span class="built_in">module</span></span>) </span>&#123;&#125;)</span><br></pre></td></tr></table></figure><p><code>id</code> æ˜¯æ¨¡å—çš„åå­—ï¼Œå®ƒæ˜¯å¯é€‰çš„å‚æ•°ã€‚</p><p><code>dependencies</code> æŒ‡å®šäº†æ‰€è¦ä¾èµ–çš„æ¨¡å—åˆ—è¡¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿæ˜¯å¯é€‰çš„å‚æ•°ï¼Œæ¯ä¸ªä¾èµ–çš„æ¨¡å—çš„è¾“å‡ºå°†ä½œä¸ºå‚æ•°ä¸€æ¬¡ä¼ å…¥ <code>factory</code> ä¸­ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š <code>dependencies</code>ï¼Œé‚£ä¹ˆå®ƒçš„é»˜è®¤å€¼æ˜¯ <code>[&quot;require&quot;, &quot;exports&quot;, &quot;module&quot;]</code>ã€‚</p><p><code>factory</code> æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå®ƒåŒ…è£¹äº†æ¨¡å—çš„å…·ä½“å®ç°ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°æˆ–è€…å¯¹è±¡ã€‚å¦‚æœæ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆå®ƒçš„è¿”å›å€¼å°±æ˜¯æ¨¡å—çš„è¾“å‡ºæ¥å£æˆ–å€¼ã€‚</p><p>AMD è§„èŒƒå¹³æ—¶ç”¨å¾—å¾ˆå°‘ï¼Œè¿™é‡Œä¸¾ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="string">&quot;myModule&quot;</span>, [<span class="string">&quot;jquery&quot;</span>], <span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// $ æ˜¯ jquery æ¨¡å—çš„è¾“å‡º</span></span><br><span class="line">  $(<span class="string">&quot;body&quot;</span>).text(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">&quot;myModule&quot;</span>], <span class="function"><span class="keyword">function</span> (<span class="params">myModule</span>) </span>&#123;&#125;);</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å†æ¥çœ‹çœ‹å®ƒçš„ä¼˜ç‚¹ï¼š</p><ul><li>å¯åœ¨ä¸è½¬æ¢ä»£ç çš„æƒ…å†µä¸‹ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ</li><li>å¯å¼‚æ­¥åŠ è½½ä¾èµ–</li><li>å¯å¹¶è¡ŒåŠ è½½å¤šä¸ªä¾èµ–</li><li>ä»£ç å¯è¿è¡Œåœ¨æµè§ˆå™¨ç¯å¢ƒå’Œ Node.js ç¯å¢ƒä¸‹</li></ul><p>AMD çš„ç¼ºç‚¹åœ¨äº JavaScript è¿è¡Œç¯å¢ƒæ²¡æœ‰åŸç”Ÿæ”¯æŒ AMDï¼Œéœ€è¦å…ˆå¯¼å…¥å®ç°äº† AMD çš„åº“åæ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</p><h2 id="ESM-ECMAScript-æ¨¡å—ç³»ç»Ÿ"><a href="#ESM-ECMAScript-æ¨¡å—ç³»ç»Ÿ" class="headerlink" title="ESM ECMAScript æ¨¡å—ç³»ç»Ÿ"></a>ESM ECMAScript æ¨¡å—ç³»ç»Ÿ</h2><p>å‰é¢æ‰€æåˆ°çš„æ‰€æœ‰æ¨¡å—åŒ–è§£å†³æ–¹æ¡ˆï¼Œéƒ½æ˜¯åˆ©ç”¨ JavaScript è¯­è¨€æœ¬èº«çš„ç‰¹æ€§ï¼Œå®ç°çš„å°è£…ã€‚è€Œé‰´äºæ¨¡å—ç³»ç»Ÿçš„é‡è¦æ€§ã€å¿…è¦æ€§ï¼ŒTC39 å§”å‘˜ä¼šä¹Ÿå¯¹å…¶æ ‡å‡†åŒ–æä¸ºä¸Šå¿ƒã€‚2015 å¹´æ¨å‡ºçš„ ECMAScript 6 æ ‡å‡†æ­£å¼å®šä¹‰äº† JavaScript çš„æ¨¡å—ç³»ç»Ÿã€‚</p><p>éœ€è¦è®°ä½çš„æ˜¯ï¼š</p><ul><li>å®ƒåœ¨è¯­è¨€å±‚é¢ä¸Šå®ç°äº†æ¨¡å—åŒ–ã€‚</li><li>æµè§ˆå™¨å‚å•†å’Œ Node.js éƒ½å®£å¸ƒè¦åŸç”Ÿæ”¯æŒè¯¥è§„èŒƒã€‚å®ƒå°†é€æ¸å–ä»£ CommonJSã€AMD è§„èŒƒï¼Œæˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ³•</li></ul><p>å®ƒçš„å·¥ä½œåŸç†æ˜¯æ¨¡å—æ–‡ä»¶åªåŠ è½½ã€æ‰§è¡Œä¸€æ¬¡ã€‚</p><p>è™½ç„¶ ES6 æ¨¡å—æ˜¯ç»ˆææ¨¡å—åŒ–æ–¹æ¡ˆï¼Œä½†å®ƒç›®å‰æ— æ³•ç›´æ¥è¿è¡Œåœ¨å¤§éƒ¨åˆ† JavaScript è¿è¡Œç¯å¢ƒä¸‹ï¼Œå¿…é¡»é€šè¿‡å·¥å…·è½¬æ¢æˆæ ‡å‡†çš„ ES5 åæ‰èƒ½æ­£å¸¸è¿è¡Œã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿‘å¹´æ¥ Web åº”ç”¨å˜å¾—æ›´åŠ å¤æ‚ä¸åºå¤§ï¼ŒWeb å‰ç«¯æŠ€æœ¯çš„åº”ç”¨èŒƒå›´ä¹Ÿæ›´åŠ å¹¿æ³›ã€‚é€šè¿‡ç›´æ¥ç¼–</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>webpackç¬”è®°</title>
    <link href="http://example.com/2021/08/05/webpack%E7%AC%94%E8%AE%B0/"/>
    <id>http://example.com/2021/08/05/webpack%E7%AC%94%E8%AE%B0/</id>
    <published>2021-08-05T13:09:33.000Z</published>
    <updated>2022-01-10T07:59:19.154Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜åˆ—è¡¨"><a href="#é—®é¢˜åˆ—è¡¨" class="headerlink" title="é—®é¢˜åˆ—è¡¨"></a>é—®é¢˜åˆ—è¡¨</h2><ul><li>webpackæ˜¯ç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜çš„ ï¼Ÿ</li><li>å®ƒæœ‰ä»€ä¹ˆäº®ç‚¹ ï¼Ÿ</li><li>loader å’Œ plugin æœ‰ä»€ä¹ˆåŒºåˆ« ï¼Ÿ</li><li>è¿è¡ŒåŸç† ï¼Ÿ</li><li>å¦‚ä½•ç¼–å†™ Loader?</li><li>Webpack å’Œ Rollup æœ‰ä»€ä¹ˆç›¸åŒç‚¹ä¸ä¸åŒç‚¹ï¼Ÿ</li></ul><h2 id="webpack-ä½œç”¨"><a href="#webpack-ä½œç”¨" class="headerlink" title="webpack ä½œç”¨"></a>webpack ä½œç”¨</h2><blockquote><p>æœ¬è´¨ä¸Šï¼Œwebpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚</p></blockquote><p>æ ¹æ®å®˜ç½‘çš„é«˜åº¦æ¦‚è¿°ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•ç†è§£<code>webpack</code>æ˜¯ä¸€ä¸ªé’ˆå¯¹<code>JavaScript</code>é¡¹ç›®çš„æ‰“åŒ…å·¥å…·ã€‚</p><p><img src="https://s2.loli.net/2022/01/06/M17foghaR2QwBbv.png"></p><p>ç®€å•æµè§ˆä¸€éå®˜æ–¹æ–‡æ¡£ï¼Œå†çœ‹çœ‹ä¸Šé¢è¿™å¼ å›¾ï¼Œå°±ä¼šå‘ç°<code>webpack</code>çš„å…³é”®ç‚¹åœ¨äº<code>æ¨¡å—å¤„ç†</code>å’Œ<code>æ‰“åŒ…</code>,åœ¨webpackæ„å»ºçš„æµç¨‹ä¸­ï¼Œé€šè¿‡<code>loader</code>å¤„ç†é JS æ–‡ä»¶ï¼Œå°†å…¶è½¬æ¢ä¸º webpack èƒ½å¤Ÿå¤„ç†çš„æœ‰æ•ˆæ¨¡å—ï¼Œä½¿ç”¨å„å¼å„æ ·çš„<code>plugin</code>åœ¨æ„å»ºæ—¶çš„å…³é”®æ­¥éª¤è¿›è¡Œä¸€äº›æ“ä½œï¼ˆæ¯”å¦‚æŒ‰éœ€åŠ è½½ï¼Œä»£ç å‹ç¼©ç­‰ï¼‰ï¼Œæœ€ç»ˆè¾“å‡ºæµè§ˆå™¨èƒ½ä½¿ç”¨çš„é™æ€èµ„æºã€‚</p><h3 id="è¿™é‡Œæ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—åŒ–å‘¢ï¼Ÿ"><a href="#è¿™é‡Œæ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—åŒ–å‘¢ï¼Ÿ" class="headerlink" title="è¿™é‡Œæ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—åŒ–å‘¢ï¼Ÿ"></a>è¿™é‡Œæ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—åŒ–å‘¢ï¼Ÿ</h3><p><a href="https://hjy-xh.github.io/2021/08/19/%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F/">ç­”æ¡ˆ</a></p><h3 id="é‚£æ€ä¹ˆç†è§£æ¨¡å—åŒ–å‘¢ï¼Ÿ"><a href="#é‚£æ€ä¹ˆç†è§£æ¨¡å—åŒ–å‘¢ï¼Ÿ" class="headerlink" title="é‚£æ€ä¹ˆç†è§£æ¨¡å—åŒ–å‘¢ï¼Ÿ"></a>é‚£æ€ä¹ˆç†è§£æ¨¡å—åŒ–å‘¢ï¼Ÿ</h3><p>åœ¨<code>webpack</code>ä¸­ï¼Œæ ¸å¿ƒæ€æƒ³å°±æ˜¯ä¸€åˆ‡çš†æ¨¡å—ï¼Œæ¯”å¦‚è¯´ä¸€å¼ å›¾ç‰‡ï¼Œä¸€ä¸ªSCSSæ–‡ä»¶ã€‚</p><p>è¿™æ ·åšçš„å¥½å¤„å°±æ˜¯èƒ½å¤Ÿæ¸…æ™°åœ°æè¿°å‡ºå„ä¸ªæ¨¡å—ä¹‹é—´ä¾èµ–å…³ç³»ï¼Œä¾¿äº<code>webpack</code>å¯¹æ¨¡å—è¿›è¡Œç»„åˆã€æ‰“åŒ…ã€‚</p><h2 id="ä¸ºä»€ä¹ˆæ˜¯-webpack"><a href="#ä¸ºä»€ä¹ˆæ˜¯-webpack" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯ webpack"></a>ä¸ºä»€ä¹ˆæ˜¯ webpack</h2><p>è¿™äº›å¹´å‰æ¡†æ¡†æ¶ã€å·¥å…·éå¸¸å¤šï¼Œé‚£ä¸ºä»€ä¹ˆ<code>webpack</code>æ›´å—é’çå‘¢ï¼Ÿ</p><h3 id="è¿™é‡Œæ¥åˆ†æä¸€ä¸‹å…¶å®ƒçš„å·¥å…·"><a href="#è¿™é‡Œæ¥åˆ†æä¸€ä¸‹å…¶å®ƒçš„å·¥å…·" class="headerlink" title="è¿™é‡Œæ¥åˆ†æä¸€ä¸‹å…¶å®ƒçš„å·¥å…·"></a>è¿™é‡Œæ¥åˆ†æä¸€ä¸‹å…¶å®ƒçš„å·¥å…·</h3><ul><li><p>åŸºäºä»»åŠ¡æ‰§è¡Œçš„å·¥å…·</p><p>  æ¯”å¦‚è¯´ï¼š<a href="https://www.gulpjs.com.cn/">gulp</a>ã€<a href="https://www.gruntjs.net/">grunt</a></p><p>  <strong>è¿™äº›å·¥å…·èƒ½å¤Ÿè‡ªåŠ¨æ‰§è¡ŒæŒ‡å®šçš„ä»»åŠ¡ã€‚</strong>å®ƒä»¬ç®€å•é«˜æ•ˆï¼Œç¤¾åŒºæ´»è·ƒï¼Œæœ‰ç€ä¸°å¯Œçš„æ’ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿æ‰“é€ å„ç§å·¥ä½œæµã€‚</p></li><li><p>åŸºäºæ¨¡å—åŒ–æ‰“åŒ…çš„å·¥å…·</p><p>  æ¯”å¦‚è¯´ï¼š<a href="https://browserify.org/">browserify</a>ã€<a href="https://www.webpackjs.com/">webpack</a>ã€<a href="https://www.rollupjs.com/">rollup</a></p><p>  åœ¨ Node ç¯å¢ƒä¸‹ï¼Œå¦‚æœéœ€è¦å¼•ç”¨ç»„ä»¶ï¼Œä½¿ç”¨<code>require</code>å…³é”®å­—å³å¯ï¼Œè¿™ç±»å·¥å…·å°±æ˜¯è¿™ä¸ªæ¨¡å¼ï¼Œè¿˜å¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ã€å¼‚æ­¥åŠ è½½æ¨¡å—</p></li><li><p>æ•´åˆå‹å·¥å…·</p><p>  æ¯”å¦‚è¯´ï¼š<a href="https://fis.baidu.com/">FIS3</a>ã€<a href="https://elemefe.github.io/cooking/">cooking</a></p><p>  è¿™ç±»å·¥å…·ä½¿ç”¨äº†å¤šç§æŠ€æœ¯æ ˆå®ç°çš„è„šæ‰‹æ¶å·¥å…·ï¼Œå¥½å¤„æ˜¯å³å¼€å³ç”¨ï¼Œç¼ºç‚¹å°±æ˜¯å®ƒä»¬çº¦æŸäº†æŠ€æœ¯é€‰å‹ï¼Œå¹¶ä¸”å­¦ä¹ æˆæœ¬ç›¸å¯¹è¾ƒé«˜ã€‚</p></li></ul><h3 id="ä¸ºä»€ä¹ˆé€‰ç”¨-webpack"><a href="#ä¸ºä»€ä¹ˆé€‰ç”¨-webpack" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰ç”¨ webpack"></a>ä¸ºä»€ä¹ˆé€‰ç”¨ webpack</h3><ul><li>å¤§å¤šæ•°å›¢é˜Ÿåœ¨å¼€å‘æ–°é¡¹ç›®æ—¶ä¼šé‡‡ç”¨ç´§è·Ÿæ—¶ä»£çš„æŠ€æœ¯ï¼Œè¿™äº›æŠ€æœ¯å‡ ä¹éƒ½ä¼šé‡‡ç”¨â€œæ¨¡å—åŒ–+æ–°è¯­è¨€+æ–°æ¡†æ¶â€ï¼Œ<code>webpack</code>å¯ä»¥ä¸ºè¿™äº›æ–°é¡¹ç›®æä¾›ä¸€ç«™å¼çš„è§£å†³æ–¹æ¡ˆ</li><li><code>webpack</code> æœ‰è‰¯å¥½çš„ç”Ÿæ€é“¾å’Œç»´æŠ¤å›¢é˜Ÿï¼Œèƒ½æä¾›è‰¯å¥½çš„å¼€å‘ä½“éªŒå’Œä¿è¯è´¨é‡</li><li><code>webpack</code> è¢«å…¨ä¸–ç•Œçš„å¤§é‡ Web å¼€å‘è€…ä½¿ç”¨å’ŒéªŒè¯ï¼Œèƒ½æ‰¾åˆ°å„ä¸ªå±‚é¢æ‰€éœ€çš„æ•™ç¨‹å’Œç»éªŒåˆ†äº«</li></ul><h2 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h2><ul><li>entry: å…¥å£<br>  <code>webpack</code>æ‰§è¡Œæ„å»ºçš„ç¬¬ä¸€æ­¥å°±ä»å…¥å£å¼€å§‹ï¼Œå¯ä»¥æŠ½è±¡ç†è§£ä¸ºè¾“å…¥</li><li>module: æ¨¡å—<br>  åœ¨<code>webpack</code>ä¸­ä¸€åˆ‡çš†æ¨¡å—ï¼Œä¸€ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œ<code>webpack</code>ä¼šä»å…¥å£å¼€å§‹é€’å½’éå†æ‰¾å‡ºæ‰€æœ‰ä¾èµ–çš„æ¨¡å—</li><li>chunk: ä»£ç å—<br>  ä¸€ä¸ª<code>Chunk</code>ç”±å¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œå®ƒæ˜¯ä»£ç åˆå¹¶ã€åˆ†å‰²çš„äº§ç‰©</li><li>loader: æ¨¡å—è½¬æ¢å™¨<br>  <code>webpack</code>ä½¿ç”¨å®ƒæŠŠåŸå†…å®¹è½¬æ¢æˆæµè§ˆå™¨èƒ½å¤Ÿä½¿ç”¨çš„æ–‡ä»¶</li><li>plugin: æ’ä»¶æ‹“å±•<br>  <code>webpack</code>åœ¨æ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æ„å»ºç»“æœ</li><li>output: è¾“å‡ºç»“æœ<br>  <code>webpack</code>ç»è¿‡ä¸€ç³»åˆ—å¤„ç†åï¼Œè¾“å‡ºçš„æœ€ç»ˆç»“æœ</li></ul><h2 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h2><p><code>webpack</code> åªèƒ½ç†è§£<code>JavaScript</code>å’Œ<code>JSON</code>æ–‡ä»¶ï¼Œè¿™æ˜¯<code>webpack</code>å¼€ç®±å¯ç”¨çš„è‡ªå¸¦èƒ½åŠ›ã€‚</p><p><code>loader</code>è®©<code>webpack</code>èƒ½å¤Ÿå»å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæœ‰æ•ˆæ¨¡å—ï¼Œä»¥ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä»¥åŠè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­ã€‚</p><h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><p>å¤„ç†æ–‡ä»¶æ—¶å¯ä»¥ä½¿ç”¨å¤šä¸ª<code>loader</code>,<code>loader</code>çš„æ‰§è¡Œé¡ºåºå’Œé…ç½®ä¸­çš„é¡ºåºæ˜¯ç›¸åçš„ã€‚ä¹Ÿå°±æ˜¯è¯´æœ€åä¸€ä¸ª<code>loader</code>å…ˆæ‰§è¡Œï¼Œå®ƒæ¥æ”¶æºæ–‡ä»¶ä½œä¸ºå‚æ•°ï¼Œå¤„ç†ä¹‹åæŠŠå¤„ç†ç»“æœä¼ ç»™ä¸‹ä¸€ä¸ª<code>loader</code></p><h3 id="å¸¸ç”¨çš„-loader"><a href="#å¸¸ç”¨çš„-loader" class="headerlink" title="å¸¸ç”¨çš„ loader"></a>å¸¸ç”¨çš„ loader</h3><ul><li>css-loader<br>  åŠ è½½<code>CSS</code>ã€æ”¯æŒæ¨¡å—åŒ–ã€å‹ç¼©ã€æ–‡ä»¶å¯¼å…¥ç­‰ç‰¹æ€§</li><li>style-loader<br>  æŠŠ<code>CSS</code>ä»£ç æ³¨å…¥åˆ°<code>JavaScript</code>ä¸­ï¼Œé€šè¿‡<code>DOM</code>æ“ä½œå»åŠ è½½<code>CSS</code></li><li>file-loader<br>  æŠŠæ–‡ä»¶è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨ä»£ç ä¸­é€šè¿‡ç›¸å¯¹URLå»å¼•ç”¨è¾“å‡ºçš„æ–‡ä»¶</li><li>url-loader<br>  å®ƒå’Œ filr-loader ç±»ä¼¼ï¼Œä½†æ˜¯èƒ½åœ¨æ–‡ä»¶å¾ˆå°çš„æƒ…å†µä¸‹ä»¥<code>base64</code>çš„æ–¹å¼æŠŠæ–‡ä»¶å†…å®¹æ³¨å…¥åˆ°ä»£ç ä¸­</li><li>babel-loader<br>  è®©å¼€å‘è€…èƒ½å¤Ÿåœ¨é¡¹ç›®ä¸­ä½¿ç”¨æ–°çš„<code>JavaScript</code>ç‰¹æ€§</li></ul><h2 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h2><p>æ’ä»¶æ˜¯<code>webpack</code>çš„<strong>æ”¯æŸ±</strong>åŠŸèƒ½ã€‚</p><p>æ’ä»¶ç›®çš„åœ¨äºè§£å†³<code>loader</code>æ— æ³•å®ç°çš„å…¶ä»–äº‹ã€‚</p><p><code>webpack</code>è‡ªèº«ä¹Ÿæ˜¯æ„å»ºäºæ’ä»¶ç³»ç»Ÿä¹‹ä¸Šã€‚</p><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>åœ¨<code>webpack</code>è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼Œæ’ä»¶å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡<code>webpack</code>æä¾›çš„APIæ”¹å˜è¾“å‡ºç»“æœï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ’ä»¶å¯ä»¥è®¿é—®åˆ°<code>compile</code>å’Œ<code>compilation</code>ï¼Œé€šè¿‡é’©å­æ‹¦æˆª<code>webpack</code>çš„æ‰§è¡Œã€‚</p><h3 id="å¸¸ç”¨çš„-plugin"><a href="#å¸¸ç”¨çš„-plugin" class="headerlink" title="å¸¸ç”¨çš„ plugin"></a>å¸¸ç”¨çš„ plugin</h3><ul><li>clean-webpack-plugin<br>  æ¯æ¬¡æ‰“åŒ…åè‡ªåŠ¨æ¸…ç†<code>output.path</code>å†…çš„æ–‡ä»¶ï¼Œåªä¿ç•™æœ¬æ¬¡æ„å»ºçš„ç»“æœ</li><li>html-webpack-plugin<br>  åˆ›å»ºä¸€ä¸ª<code>html</code>æ–‡ä»¶ï¼Œå¹¶æŠŠ<code>webpack</code>æ‰“åŒ…åçš„é™æ€æ–‡ä»¶è‡ªåŠ¨æ’å…¥åˆ°è¿™ä¸ª<code>html</code>æ–‡ä»¶å½“ä¸­</li><li>DefinePlugin<br>  è¿™æ˜¯ä¸€ä¸ªå®šä¹‰å…¨å±€å˜é‡çš„æ’ä»¶,å®šä¹‰çš„å˜é‡å¯ä»¥åœ¨<code>webpack</code>æ‰“åŒ…èŒƒå›´å†…ä»»æ„<code>JavaScript</code>ç¯å¢ƒå†…è®¿é—®</li><li>MiniCssExtractPlugin<br>  å°†<code>CSS</code>å•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒä¸ºæ¯ä¸ªåŒ…å«<code>CSS</code>å’Œ<code>JavaScript</code>æ–‡ä»¶éƒ½åˆ›å»ºä¸€ä¸ª<code>CSS</code>æ–‡ä»¶ï¼Œç»“åˆ<code>html-webpack-plugin</code>æ’ä»¶ï¼Œä»¥<code>link</code>çš„å½¢å¼æ’å…¥åˆ°<code>html</code>æ–‡æ¡£ä¸­</li><li>babel-loader<br>  è®©å¼€å‘è€…èƒ½å¤Ÿåœ¨é¡¹ç›®ä¸­ä½¿ç”¨æ–°çš„<code>JavaScript</code>ç‰¹æ€§</li><li>webpack-merge<br>  è¯¥æ’ä»¶ç”¨äºåˆå¹¶é…ç½®</li><li>webpack-bundle-analyzer<br>  é¡¹ç›®æ‰“åŒ…åè¿›è¡Œæ€§èƒ½åˆ†æ</li></ul><h2 id="æ„å»ºæµç¨‹å’ŒåŸç†"><a href="#æ„å»ºæµç¨‹å’ŒåŸç†" class="headerlink" title="æ„å»ºæµç¨‹å’ŒåŸç†"></a>æ„å»ºæµç¨‹å’ŒåŸç†</h2><p>æ„å»ºä¹‹å‰å…ˆäº†è§£å‡ ä¸ªåè¯ï¼š</p><ul><li>Compilerï¼šç¼–è¯‘ç®¡ç†å™¨ï¼Œ<code>webpack</code>å¯åŠ¨åä¼šåˆ›å»º<code>compiler</code>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸€ç›´å­˜æ´»ç›´åˆ°ç»“æŸé€€å‡º</li><li>Complilationï¼šå•æ¬¡ç¼–è¯‘è¿‡ç¨‹çš„ç®¡ç†å™¨ï¼Œæ¯”å¦‚<code>watch=true</code>æ—¶ï¼Œè¿è¡Œè¿‡ç¨‹ä¸­åªæœ‰ä¸€ä¸ª<code>compiler</code>ï¼Œä½†æ¯æ¬¡æ–‡ä»¶å˜æ›´è§¦å‘é‡æ–°ç¼–è¯‘æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„<code>compilation</code>å¯¹è±¡</li><li>Dependenceï¼šä¾èµ–å¯¹è±¡ï¼Œ<code>webpack</code>åŸºäºè¯¥ç±»å‹è®°å½•æ¨¡å—é—´ä¾èµ–å…³ç³»</li><li>Moduleï¼š<code>webpack</code>å†…éƒ¨æ‰€æœ‰èµ„æºéƒ½ä¼šä»¥<code>module</code>å¯¹è±¡å½¢å¼å­˜åœ¨ï¼Œæ‰€æœ‰å…³äºèµ„æºçš„æ“ä½œã€è½¬è¯‘ã€åˆå¹¶éƒ½æ˜¯ä»¥<code>module</code>ä¸ºåŸºæœ¬å•ä½è¿›è¡Œçš„</li><li>Chunkï¼šç¼–è¯‘å®Œæˆå‡†å¤‡è¾“å‡ºæ—¶ï¼Œ<code>webpack</code>ä¼šå°†<code>module</code>æŒ‰ç‰¹å®šçš„è§„åˆ™ç»„ç»‡æˆä¸€ä¸ªä¸€ä¸ªçš„<code>chunk</code>ï¼Œè¿™äº›<code>chunk</code>æŸç§ç¨‹åº¦ä¸Šè·Ÿæœ€ç»ˆè¾“å‡ºä¸€ä¸€å¯¹åº”</li></ul><p>æ„å»ºæµç¨‹ï¼š</p><ul><li><p>åˆå§‹åŒ–é˜¶æ®µ</p><ul><li>åˆå§‹åŒ–å‚æ•°ï¼šä»é…ç½®æ–‡ä»¶ã€é…ç½®å¯¹è±¡ã€Shellå‚æ•°ä¸­è¯»å–ï¼Œè¿›è¡Œé”™è¯¯æ£€æŸ¥ï¼Œä¸é»˜è®¤é…ç½®ç»“åˆå¾—å‡ºæœ€ç»ˆçš„å‚æ•°</li><li>åˆ›å»ºç¼–è¯‘å™¨å¯¹è±¡ï¼šç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆ›å»º<code>Compiler</code>å¯¹è±¡</li><li>åˆå§‹åŒ–ç¼–è¯‘ç¯å¢ƒï¼šåŒ…æ‹¬æ³¨å…¥å†…ç½®æ’ä»¶ã€æ³¨å†Œå„ç§æ¨¡å—å·¥å‚ã€åˆå§‹åŒ–RuleSeté›†åˆã€åŠ è½½é…ç½®çš„æ’ä»¶ç­‰</li><li>å¼€å§‹ç¼–è¯‘ï¼šæ‰§è¡Œ<code>compiler</code>å¯¹è±¡çš„<code>run</code>æ–¹æ³•</li><li>ç¡®å®šå…¥å£ï¼šæ ¹æ®é…ç½®ä¸­çš„<code>entry</code>æ‰¾å‡ºæ‰€æœ‰çš„å…¥å£æ–‡ä»¶ï¼Œè°ƒç”¨<code>compilition.addEntry</code>å°†å…¥å£æ–‡ä»¶è½¬æ¢ä¸º<code>dependence</code>å¯¹è±¡</li></ul></li><li><p>æ„å»ºé˜¶æ®µ</p><ul><li>ç¼–è¯‘æ¨¡å—ï¼šæ ¹æ®<code>entry</code>å¯¹åº”çš„<code>dependence</code>åˆ›å»º<code>module</code>å¯¹è±¡ï¼Œè°ƒç”¨<code>loader</code>å°†æ¨¡å—è½¬ç§»ä¸ºæ ‡å‡†JSå†…å®¹ï¼Œè°ƒç”¨JSè§£é‡Šå™¨å°†å†…å®¹è½¬æ¢ä¸ºASTå¯¹è±¡ï¼Œä»ä¸­æ‰¾å‡ºè¯¥æ¨¡å—ä¾èµ–çš„æ¨¡å—ï¼Œå†é€’å½’è¿™ä¸ªæ­¥éª¤ç›´åˆ°æ‰€æœ‰å…¥å£ä¾èµ–çš„æ–‡ä»¶éƒ½ç»è¿‡äº†æœ¬æ­¥éª¤çš„å¤„ç†</li><li>å®Œæˆæ¨¡å—ç¼–è¯‘ï¼šä¸Šä¸€æ­¥é€’å½’å¤„ç†æ‰€æœ‰èƒ½è§¦è¾¾åˆ°çš„æ¨¡å—åï¼Œå¾—åˆ°äº†æ¯ä¸ªæ¨¡å—è¢«ç¿»è¯‘åçš„å†…å®¹ä»¥åŠå®ƒä»¬ä¹‹é—´çš„<code>ä¾èµ–å…³ç³»å›¾</code></li></ul></li><li><p>ç”Ÿæˆé˜¶æ®µ</p><ul><li>è¾“å‡ºèµ„æºï¼šæ ¹æ®å…¥å£å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„<code>Chunk</code>ï¼Œå†æŠŠæ¯ä¸ª<code>Chunk</code>è½¬æ¢æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åŠ å…¥åˆ°è¾“å‡ºåˆ—è¡¨ã€‚è¿™ä¸ªæ­¥éª¤æ˜¯å¯ä»¥ä¿®æ”¹è¾“å‡ºå†…å®¹çš„æœ€åæœºä¼š</li><li>å†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼šåœ¨ç¡®å®šå¥½è¾“å‡ºå†…å®¹åï¼Œæ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„è·¯å¾„å’Œæ–‡ä»¶åï¼ŒæŠŠæ–‡ä»¶å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿ</li></ul></li></ul><p>æºç ä¸­çš„ä¸€äº›é‡è¦æ–¹æ³•ï¼š</p><ul><li><strong>webpack_require</strong>: æˆ‘ä»¬åœ¨æ¨¡å—åŒ–å¼€å‘çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šä½¿ç”¨ES Moduleæˆ–è€…CommonJSè§„èŒƒå¯¼å…¥å¯¼å‡ºä»¥æ¥çš„æ¨¡å—ï¼Œwebpackåœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œä¼šç»Ÿä¸€æ›¿æ¢æˆè‡ªå·±çš„__webpack_require__æ¥å®ç°æ¨¡å—çš„å¼•å…¥å’Œå¯¼å‡ºï¼Œä»è€Œå®ç°æ¨¡å—ç¼“å­˜æœºåˆ¶ï¼Œä»¥åŠæŠ¹å¹³ä¸åŒæ¨¡å—è§„èŒƒä¹‹é—´çš„ä¸€äº›å·®å¼‚æ€§</li><li>__webpack_modules__ï¼šå­˜æ”¾äº†ç¼–è¯‘åçš„å„ä¸ªæ–‡ä»¶æ¨¡å—çš„JSå†…å®¹</li><li>__webpack_module_cache__ï¼šç”¨æ¥åšæ¨¡å—ç¼“å­˜</li></ul><h2 id="é…ç½®ä¼˜åŒ–"><a href="#é…ç½®ä¼˜åŒ–" class="headerlink" title="é…ç½®ä¼˜åŒ–"></a>é…ç½®ä¼˜åŒ–</h2><p><code>webpack</code>é…ç½®è™½ç„¶ç®€å•ï¼Œä½†æ˜¯é…ç½®é¡¹éå¸¸å¤šï¼Œæ¯ä¸ªé…ç½®é¡¹çš„å–å€¼å¯èƒ½ä¹Ÿæœ‰å¾ˆå¤šçš„é€‰æ‹©ï¼Œæ•…è€Œä¼˜åŒ–çš„ç©ºé—´å¾ˆå¤§ã€‚</p><p>è®²ä¸€äº›å¹³å¸¸ç”¨çš„å¤šçš„é…ç½®ä¼˜åŒ–ï¼š</p><ul><li><p>ä½¿ç”¨<code>webpack-bundle-analyzer</code>æ’ä»¶</p><p>  å¯ä»¥çœ‹åˆ°é¡¹ç›®å„æ¨¡å—å¤§å°ï¼Œè¿›è¡ŒæŒ‰éœ€ä¼˜åŒ–</p><p>  statè¡¨ç¤ºæ–‡ä»¶çš„è¾“å…¥å¤§å°ï¼Œparsedè¡¨ç¤ºæ–‡ä»¶çš„è¾“å‡ºå¤§å°ï¼Œgzipè¡¨ç¤ºé€šè¿‡gzipå‹ç¼©è¿è¡Œè§£æçš„åŒ…/æ¨¡å—å¤§å°</p></li><li><p>ä½¿ç”¨<code>tree shaking</code>æ“¦é™¤æ— ç”¨ä»£ç </p><p>  ç§»é™¤<code>JavaScript</code>ä¸Šä¸‹æ–‡ä¸­çš„æœªå¼•ç”¨ä»£ç </p></li><li><p>å¼€å¯<code>scope hosting</code>å‡å°‘å‡½æ•°ç”³æ˜å’Œå†…å­˜å¼€é”€</p><p>  è¿™ä¸ªåè¯ç›´è¯‘è¿‡æ¥å°±æ˜¯ä½œç”¨åŸŸæå‡ï¼Œå®ƒæŠŠæ‰€æœ‰çš„ä»£ç æŒ‰ç…§å¼•ç”¨é¡ºåºæ”¾åœ¨ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸé‡Œé¢ï¼Œé€‚å½“çš„é‡å‘½åå˜é‡é˜²æ­¢å†²çª</p></li><li><p>ä½¿ç”¨<code>splitChunksPlugin</code>åˆ†ç¦»é¡µé¢å…¬å…±æ–‡ä»¶ï¼ŒæŠ½å–å…¬å…±ä»£ç </p></li><li><p>ä½¿ç”¨å¤šè¿›ç¨‹å¤šå®ä¾‹è§£æèµ„æº</p></li><li><p>ä½¿ç”¨<code>DLLPlugin</code>å¯¹åŸºç¡€ä¾èµ–åº“è¿›è¡Œåˆ†åŒ…ï¼Œå‡å°‘ç¼–è¯‘æ¬¡æ•°</p><p>  DllPluginåŠ¨æ€é“¾æ¥åº“æ’ä»¶ï¼Œå…¶åŸç†æ˜¯æŠŠç½‘é¡µä¾èµ–çš„åŸºç¡€æ¨¡å—æŠ½ç¦»å‡ºæ¥æ‰“åŒ…åˆ°dllæ–‡ä»¶ä¸­ï¼Œå½“éœ€è¦å¯¼å…¥çš„æ¨¡å—å­˜åœ¨äºæŸä¸ªdllä¸­æ—¶ï¼Œè¿™ä¸ªæ¨¡å—ä¸å†è¢«æ‰“åŒ…ï¼Œè€Œæ˜¯å»dllä¸­è·å–ã€‚dllä¸­å¤§å¤šåŒ…å«çš„æ˜¯å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå¦‚reactã€react-domï¼Œæ‰€ä»¥åªè¦è¿™äº›æ¨¡å—ç‰ˆæœ¬ä¸å‡çº§ï¼Œå°±åªéœ€è¢«ç¼–è¯‘ä¸€æ¬¡ã€‚</p></li></ul><p>æ€»ç»“æ¥çœ‹ï¼Œå¯ä»¥ä½¿ç”¨å¤§é‡æ’ä»¶å¯¹ç¼–è¯‘è¿‡ç¨‹è¿›è¡Œä¼˜åŒ–ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.webpackjs.com/concepts/">å®˜ç½‘</a></p><p><a href="https://juejin.cn/post/6943468761575849992">å½“é¢è¯•å®˜é—®Webpackçš„æ—¶å€™ä»–æƒ³çŸ¥é“ä»€ä¹ˆ</a></p><p><a href="https://juejin.cn/post/6949040393165996040">ä¸€æ–‡åƒé€ Webpack æ ¸å¿ƒåŸç†</a></p><p><a href="https://tsejx.github.io/webpack-guidebook/basic/build-tool/">æ„å»ºå·¥å…·</a></p><p>ä¹¦ç›®ï¼š</p><ul><li>æ·±å…¥æµ…å‡º Webpack</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;é—®é¢˜åˆ—è¡¨&quot;&gt;&lt;a href=&quot;#é—®é¢˜åˆ—è¡¨&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜åˆ—è¡¨&quot;&gt;&lt;/a&gt;é—®é¢˜åˆ—è¡¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;webpackæ˜¯ç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜çš„ ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å®ƒæœ‰ä»€ä¹ˆäº®ç‚¹ ï¼Ÿ&lt;/li&gt;
&lt;li&gt;loader å’Œ </summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="webpack" scheme="http://example.com/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>Reactä¸­renderçš„å®ç°</title>
    <link href="http://example.com/2021/07/19/React%E4%B8%ADrender%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
    <id>http://example.com/2021/07/19/React%E4%B8%ADrender%E7%9A%84%E5%AE%9E%E7%8E%B0/</id>
    <published>2021-07-19T14:03:04.000Z</published>
    <updated>2022-02-21T07:06:17.619Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p><a href="https://github.com/HJY-xh/frame-course/blob/master/React/render%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0/render%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0.md">ä¼ é€é—¨</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/HJY-xh/frame-cou</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="React" scheme="http://example.com/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript ä¸­çš„ä½œç”¨åŸŸ</title>
    <link href="http://example.com/2021/06/11/JavaScript%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/"/>
    <id>http://example.com/2021/06/11/JavaScript%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/</id>
    <published>2021-06-11T11:16:33.000Z</published>
    <updated>2022-01-06T01:30:53.576Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="ä½œç”¨åŸŸçš„å®šä¹‰"><a href="#ä½œç”¨åŸŸçš„å®šä¹‰" class="headerlink" title="ä½œç”¨åŸŸçš„å®šä¹‰"></a>ä½œç”¨åŸŸçš„å®šä¹‰</h2><blockquote><p>å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚å€¼å’Œè¡¨è¾¾å¼åœ¨å…¶ä¸­ â€œå¯è§â€ æˆ–å¯è¢«è®¿é—®åˆ°çš„ä¸Šä¸‹æ–‡ã€‚å¦‚æœä¸€ä¸ªå˜é‡æˆ–è€…å…¶ä»–è¡¨è¾¾å¼ä¸ â€œåœ¨å½“å‰çš„ä½œç”¨åŸŸä¸­â€ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸å¯ç”¨çš„ã€‚ä½œç”¨åŸŸä¹Ÿå¯ä»¥æ ¹æ®ä»£ç å±‚æ¬¡åˆ†å±‚ï¼Œä»¥ä¾¿å­ä½œç”¨åŸŸå¯ä»¥è®¿é—®çˆ¶ä½œç”¨åŸŸï¼Œé€šå¸¸æ˜¯æŒ‡æ²¿ç€é“¾å¼çš„ä½œç”¨åŸŸé“¾æŸ¥æ‰¾ï¼Œè€Œä¸èƒ½ä»çˆ¶ä½œç”¨åŸŸå¼•ç”¨å­ä½œç”¨åŸŸä¸­çš„å˜é‡å’Œå¼•ç”¨ã€‚</p></blockquote><p>ä»ä¸Šé¢çš„å®šä¹‰å‡ºå‘ï¼Œå¯ä»¥ç®€å•æ¦‚æ‹¬ä¸ºï¼šä½œç”¨åŸŸå†³å®šäº†å˜é‡ä¸å‡½æ•°çš„å¯è®¿é—®èŒƒå›´ï¼Œå³<code>ä½œç”¨åŸŸæ§åˆ¶ç€å˜é‡ä¸å‡½æ•°çš„å¯è§æ€§å’Œç”Ÿå‘½å‘¨æœŸ</code>ã€‚</p><h2 id="ä½œç”¨åŸŸåˆ†ç±»"><a href="#ä½œç”¨åŸŸåˆ†ç±»" class="headerlink" title="ä½œç”¨åŸŸåˆ†ç±»"></a>ä½œç”¨åŸŸåˆ†ç±»</h2><p>ä½œç”¨åŸŸåˆ†ä¸ºä¸¤ç§</p><ul><li>å…¨å±€ä½œç”¨åŸŸ</li><li>å‡½æ•°ä½œç”¨åŸŸ</li></ul><h3 id="å…¨å±€ä½œç”¨åŸŸç‰¹æ€§"><a href="#å…¨å±€ä½œç”¨åŸŸç‰¹æ€§" class="headerlink" title="å…¨å±€ä½œç”¨åŸŸç‰¹æ€§"></a>å…¨å±€ä½œç”¨åŸŸç‰¹æ€§</h3><ul><li>å…¨å±€ä½œç”¨åŸŸåœ¨å½“ JavaScript å¼€å§‹è¦è§£é‡Šæ‰§è¡Œä»£ç çš„æ—¶å€™è¢«åˆ›å»ºï¼Œæ•´ä¸ªç¨‹åºç»“æŸçš„æ—¶å€™è¢«é”€æ¯</li><li>å…¨å±€å¯¹è±¡åœ¨ä¸åŒçš„å®¿ä¸»ç¯å¢ƒä¸‹æ˜¯ä¸åŒçš„ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œå…¨å±€å¯¹è±¡å³ä¸º<code>window</code>ï¼Œä»£è¡¨ä¸€ä¸ªæµè§ˆå™¨çª—å£ï¼Œç”±æµè§ˆå™¨åˆ›å»ºï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨</li><li>å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜çš„å˜é‡å’Œå‡½æ•°ä¼šä½œä¸º<code>window</code>å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ä¿å­˜ï¼Œä½œç”¨åŸŸä¸ºå…¨å±€ï¼Œåœ¨ä»»ä½•åœ°æ–¹éƒ½èƒ½è®¿é—®åˆ°</li></ul><h3 id="å±€éƒ¨ä½œç”¨åŸŸç‰¹æ€§"><a href="#å±€éƒ¨ä½œç”¨åŸŸç‰¹æ€§" class="headerlink" title="å±€éƒ¨ä½œç”¨åŸŸç‰¹æ€§"></a>å±€éƒ¨ä½œç”¨åŸŸç‰¹æ€§</h3><ul><li>è°ƒç”¨å‡½æ•°æ—¶ï¼Œå‡½æ•°ä½œç”¨åŸŸè¢«åˆ›å»ºï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå…¶ä½œç”¨åŸŸè¢«é”€æ¯</li><li>æ¯è°ƒç”¨ä¸€æ¬¡å‡½æ•°å°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ä½œç”¨åŸŸï¼Œå®ƒä»¬ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„</li><li>åœ¨å‡½æ•°ä½œç”¨åŸŸä¸­å¯ä»¥è®¿é—®åˆ°å…¨å±€ä½œç”¨åŸŸçš„å˜é‡ï¼Œåœ¨å‡½æ•°å¤–æ— æ³•ç›´æ¥è®¿é—®åˆ°å‡½æ•°ä½œç”¨åŸŸå†…çš„å˜é‡</li><li>åœ¨å‡½æ•°ä½œç”¨åŸŸä¸­è®¿é—®å˜é‡ï¼Œä¼šç°åœ¨è‡ªèº«ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™å›åˆ°å‡½æ•°çš„ä¸Šä¸€çº§ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ï¼Œä¸€ç›´åˆ°å…¨å±€ä½œç”¨åŸŸ</li></ul><h2 id="ä½œç”¨åŸŸé“¾-Scope-Chain"><a href="#ä½œç”¨åŸŸé“¾-Scope-Chain" class="headerlink" title="ä½œç”¨åŸŸé“¾(Scope Chain)"></a>ä½œç”¨åŸŸé“¾(Scope Chain)</h2><p>å½“æŸ¥æ‰¾å˜é‡çš„æ—¶å€™ï¼Œä¼šå…ˆä»å½“å‰ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šä»çˆ¶çº§(è¯æ³•å±‚é¢ä¸Šçš„çˆ¶çº§)æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ã€‚è¿™æ ·ç”±å¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡æ„æˆçš„é“¾è¡¨å°±å«åšä½œç”¨åŸŸé“¾ã€‚</p><p>æ€»ç»“ï¼šJavascript å¼•æ“ä¼šæ²¿ç€ä½œç”¨åŸŸé“¾(Scope Chain) å¯»æ‰¾éœ€è¦çš„å˜é‡ã€‚</p><h2 id="ä½œç”¨åŸŸçš„æ·±å±‚æ¬¡ç†è§£"><a href="#ä½œç”¨åŸŸçš„æ·±å±‚æ¬¡ç†è§£" class="headerlink" title="ä½œç”¨åŸŸçš„æ·±å±‚æ¬¡ç†è§£"></a>ä½œç”¨åŸŸçš„æ·±å±‚æ¬¡ç†è§£</h2><h3 id="æ‰§è¡Œä¸Šä¸‹æ–‡"><a href="#æ‰§è¡Œä¸Šä¸‹æ–‡" class="headerlink" title="æ‰§è¡Œä¸Šä¸‹æ–‡"></a>æ‰§è¡Œä¸Šä¸‹æ–‡</h3><p>JavaScript å¼•æ“åˆ›å»ºäº†æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution context stackï¼ŒECSï¼‰æ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡</p><ul><li>åœ¨æ‰§è¡Œå‡½æ•°å‰ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å†…éƒ¨å¯¹è±¡ AOï¼ˆä½œç”¨åŸŸï¼‰</li><li>è¿™ä¸ªå†…éƒ¨å¯¹è±¡æ—¶é¢„ç¼–è¯‘æ—¶è¢«åˆ›å»ºå‡ºæ¥çš„ï¼Œåœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šå…ˆè¿›è¡Œé¢„ç¼–è¯‘</li><li>åœ¨å…¨å±€ä»£ç æ‰§è¡Œå‰ä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å¯¹è±¡ GO</li></ul><h2 id="é¢„ç¼–è¯‘"><a href="#é¢„ç¼–è¯‘" class="headerlink" title="é¢„ç¼–è¯‘"></a>é¢„ç¼–è¯‘</h2><h3 id="å‡½æ•°ä½œç”¨åŸŸé¢„ç¼–è¯‘"><a href="#å‡½æ•°ä½œç”¨åŸŸé¢„ç¼–è¯‘" class="headerlink" title="å‡½æ•°ä½œç”¨åŸŸé¢„ç¼–è¯‘"></a>å‡½æ•°ä½œç”¨åŸŸé¢„ç¼–è¯‘</h3><ul><li>åˆ›å»º AO å¯¹è±¡</li><li>æ‰¾å½¢å‚å’Œå˜é‡å£°æ˜ï¼Œå°†å‡½æ•°å†…çš„å˜é‡å’Œå½¢å‚åä½œä¸º AO å¯¹è±¡çš„å±æ€§åï¼Œå€¼ä¸º undefined</li><li>å°†å®å‚å’Œå½¢å‚ç›¸ç»Ÿä¸€</li><li>åœ¨å‡½æ•°ä½“ä¸­æ‰¾å‡½æ•°å£°æ˜ï¼Œå€¼èµ‹äºˆå‡½æ•°ä½“</li></ul><h3 id="å…¨å±€ä½œç”¨åŸŸé¢„ç¼–è¯‘"><a href="#å…¨å±€ä½œç”¨åŸŸé¢„ç¼–è¯‘" class="headerlink" title="å…¨å±€ä½œç”¨åŸŸé¢„ç¼–è¯‘"></a>å…¨å±€ä½œç”¨åŸŸé¢„ç¼–è¯‘</h3><ul><li>åˆ›å»º GO å¯¹è±¡</li><li>æ‰¾å˜é‡å£°æ˜ï¼Œå°†å˜é‡åä½œä¸º GO å¯¹è±¡çš„å±æ€§åï¼Œå€¼ä¸º undefined</li><li>æ‰¾å‡½æ•°å£°æ˜ï¼Œå€¼å€¼èµ‹äºˆå‡½æ•°ä½“</li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Scope">Scopeï¼ˆä½œç”¨åŸŸï¼‰</a></p><p><a href="https://medium.com/itsems-frontend/javascript-scope-and-scope-chain-ca17a1068c96">Javascript çš„ä½œç”¨åŸŸ (Scope) èˆ‡ç¯„åœéˆ (Scope Chain)ï¼šå¾€å¤–æ‰¾</a></p><p><a href="https://github.com/mqyqingfeng/Blog/issues/3">JavaScript æ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ</a></p><p><a href="https://github.com/mqyqingfeng/Blog/issues/4">JavaScript æ·±å…¥ä¹‹æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</a></p><p><a href="https://github.com/mqyqingfeng/Blog/issues/6">JavaScript æ·±å…¥ä¹‹ä½œç”¨åŸŸé“¾</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ä½œç”¨åŸŸçš„å®šä¹‰&quot;&gt;&lt;a href=&quot;#ä½œç”¨åŸŸçš„å®šä¹‰&quot; class=&quot;header</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>reduceå®ç°mapã€forEachã€filteræ–¹æ³•</title>
    <link href="http://example.com/2021/05/25/reduce%E5%AE%9E%E7%8E%B0map%E3%80%81forEach%E3%80%81filter%E6%96%B9%E6%B3%95/"/>
    <id>http://example.com/2021/05/25/reduce%E5%AE%9E%E7%8E%B0map%E3%80%81forEach%E3%80%81filter%E6%96%B9%E6%B3%95/</id>
    <published>2021-05-25T11:56:01.000Z</published>
    <updated>2022-02-21T07:02:11.044Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="reduceå¦‚ä½•å·¥ä½œ"><a href="#reduceå¦‚ä½•å·¥ä½œ" class="headerlink" title="reduceå¦‚ä½•å·¥ä½œ"></a>reduceå¦‚ä½•å·¥ä½œ</h2><p><code>reduce()</code>æ–¹æ³•å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªç”¨æˆ·æä¾›çš„reducerå‡½æ•°ï¼ˆå‡åºæ‰§è¡Œï¼‰ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue])</span><br></pre></td></tr></table></figure><p>reducer å‡½æ•°æ¥æ”¶4ä¸ªå‚æ•°:</p><ul><li>Accumulator (acc) (ç´¯è®¡å™¨)</li><li>Current Value (cur) (å½“å‰å€¼)</li><li>Current Index (idx) (å½“å‰ç´¢å¼•)</li><li>Source Array (src) (æºæ•°ç»„)</li></ul><p>çœ‹ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> source = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0 + 1 + 2 + 3</span></span><br><span class="line"><span class="keyword">const</span> initialValue = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> sum = source.reduce(</span><br><span class="line">  <span class="function">(<span class="params">previousValue, currentValue</span>) =&gt;</span> previousValue + currentValue,</span><br><span class="line">  initialValue</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>reduce()</code>æ–¹æ³•å°±æ˜¯å¯¹ä¼ å…¥çš„æ•°ç»„ç´¯è®¡æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œå¹¶è¿”å›æœ€ç»ˆè®¡ç®—ç»“æœ</p><h2 id="å®ç°map"><a href="#å®ç°map" class="headerlink" title="å®ç°map"></a>å®ç°map</h2><p><code>map()</code>çš„å®šä¹‰ï¼šåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype._map = <span class="function"><span class="keyword">function</span> (<span class="params">fn, callbackThis</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æœ€ç»ˆè¿”å›çš„æ–°æ•°ç»„</span></span><br><span class="line">    <span class="keyword">const</span> result = [];</span><br><span class="line">    <span class="comment">// é‡æ–°å®šä¹‰this</span></span><br><span class="line">    <span class="keyword">let</span> cbThis = callbackThis || <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>.reduce(<span class="function">(<span class="params">before, after, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">        result.push(fn.call(cbThis, array[index], index, array))</span><br><span class="line">    &#125;, <span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éªŒè¯</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> res = arr._map(<span class="function">(<span class="params">current</span>) =&gt;</span> current * <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure><h2 id="å®ç°forEach"><a href="#å®ç°forEach" class="headerlink" title="å®ç°forEach"></a>å®ç°forEach</h2><p><code>forEach()</code>çš„å®šä¹‰ï¼šå¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡ç»™å®šçš„å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype._forEach = <span class="function"><span class="keyword">function</span> (<span class="params">fn, callbackThis</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é‡æ–°å®šä¹‰this</span></span><br><span class="line">    <span class="keyword">let</span> cbThis = callbackThis || <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>.reduce(<span class="function">(<span class="params">before, after, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">        fn.call(cbThis, array[index], index, array);</span><br><span class="line">    &#125;, <span class="literal">null</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éªŒè¯</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> res = arr._forEach(<span class="function">(<span class="params">current</span>) =&gt;</span> <span class="built_in">console</span>.log(current * <span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(res);</span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 6</span></span><br></pre></td></tr></table></figure><h2 id="å®ç°filter"><a href="#å®ç°filter" class="headerlink" title="å®ç°filter"></a>å®ç°filter</h2><p><code>filter()</code>çš„å®šä¹‰ï¼šåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype._filter = <span class="function"><span class="keyword">function</span> (<span class="params">fn, callbackThis</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> result = [];</span><br><span class="line">    <span class="comment">// é‡æ–°å®šä¹‰this</span></span><br><span class="line">    <span class="keyword">let</span> cbThis = callbackThis || <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>.reduce(<span class="function">(<span class="params">before, after, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">        fn.call(cbThis, array[index], index, array) ? result.push(array[index]) : <span class="literal">null</span>;</span><br><span class="line">    &#125;, <span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éªŒè¯</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> res = arr._filter(<span class="function">(<span class="params">current</span>) =&gt;</span> current === <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// [ 2 ]</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>MDN</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;reduceå¦‚ä½•å·¥ä½œ&quot;&gt;&lt;a href=&quot;#reduceå¦‚ä½•å·¥ä½œ&quot; class</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
</feed>
