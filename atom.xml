<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å¯ä¹åŠ å†°</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-08-07T05:59:13.910Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>HJY</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Promiseè§„èŒƒç¿»è¯‘</title>
    <link href="http://example.com/2020/11/09/PromisesA+%E8%A7%84%E8%8C%83%E7%BF%BB%E8%AF%91/"/>
    <id>http://example.com/2020/11/09/PromisesA+%E8%A7%84%E8%8C%83%E7%BF%BB%E8%AF%91/</id>
    <published>2020-11-09T13:30:40.000Z</published>
    <updated>2021-08-07T05:59:13.910Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p><a href="https://promisesaplus.com/">åŸæ–‡</a></p><p>ä¸€ä¸ªå¼€æ”¾æ ‡å‡†,é€šç”¨çš„ JavaScript promise ,ç”±å¼€å‘è€…åˆ¶å®šï¼Œä¾›å¼€å‘è€…ä½¿ç”¨ã€‚</p><p>Promise ç”¨äºè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆç»“æœã€‚ä¸ Promise äº¤äº’çš„ä¸»è¦æ–¹å¼ä¸º<code>then</code>æ–¹æ³•,è¯¥æ–¹æ³•æ³¨å†Œå›è°ƒå‡½æ•°ä»¥æ¥æ”¶ promise çš„æˆåŠŸçš„ç»“æœæˆ–è€…å¤±è´¥çš„åŸå› ã€‚</p><p>è¯¥è§„èŒƒè¯¦ç»†è¯´æ˜äº†<code>then</code>æ–¹æ³•çš„è¡Œä¸º,æ‰€æœ‰åŸºäº Promise/A+è§„èŒƒå®ç°çš„ Promise éƒ½å¿…é¡»ä»¥æ­¤ä¸ºåŸºç¡€å®ç°ã€‚å› æ­¤è§„èŒƒåº”è¯¥éå¸¸ç¨³å®šã€‚å°½ç®¡ Promises/A+ç»„ç»‡å¯èƒ½ä¼šå¶å°”ä¿®æ”¹æ­¤è§„èŒƒä»¥å‘åå…¼å®¹,åªæœ‰ç»è¿‡ä»”ç»†è€ƒè™‘ï¼Œè®¨è®ºå’Œæµ‹è¯•åï¼Œæˆ‘ä»¬æ‰ä¼šé›†æˆå¤§å‹æˆ–ä¸å‘åå…¼å®¹çš„æ›´æ”¹ã€‚</p><p>ä»å…¶å‘å±•è¿‡ç¨‹æ¥çœ‹ï¼ŒPromises/A+å…¶å®æ˜¯æŠŠä¹‹å‰çš„<code>Promises/Aææ¡ˆ</code>å½’çº³æ€»ç»“ä¸ºæ ‡å‡†ã€‚æ‰©å±•äº†ä¸€äº›ç°æœ‰çš„è¡Œä¸ºè§„èŒƒï¼Œå¹¶åˆ é™¤äº†ä¸€äº›æœ‰é—®é¢˜çš„ã€æœªæ˜ç¡®çš„éƒ¨åˆ†ã€‚</p><p>æœ€ç»ˆï¼ŒPromises/A+è§„èŒƒæ ¸å¿ƒå†…å®¹ä¸åŒ…æ‹¬æ€æ ·å¤„ç† promises çš„åˆ›å»ºï¼ˆcreateï¼‰,å®Œæˆï¼ˆfulfillï¼‰å’Œæ‹’ç»ï¼ˆrejectï¼‰ï¼Œè€Œæ˜¯é€‰æ‹©ä¸“æ³¨äºæä¾›ä¸€ä¸ªé€šç”¨çš„ï¼Œå…·å¤‡å¯äº’æ“ä½œçš„<code>then</code>æ–¹æ³•ã€‚ä¸Šè¿°çš„æ“ä½œæ–¹æ³•å¯èƒ½ä¼šåœ¨æœªæ¥ä¿®æ”¹è¯¥è§„èŒƒæ—¶æåŠã€‚</p><h3 id="1-æœ¯è¯­"><a href="#1-æœ¯è¯­" class="headerlink" title="1. æœ¯è¯­"></a>1. æœ¯è¯­</h3><p>1.1 â€œpromiseâ€ æ˜¯ä¸€ä¸ªæ‹¥æœ‰<code>then</code>æ–¹æ³•çš„å¯¹è±¡æˆ–å‡½æ•°ï¼Œå…¶è¡Œä¸ºç¬¦åˆæœ¬è§„èŒƒ<br>1.2 â€œthenableâ€ æ˜¯ä¸€ä¸ªå®šä¹‰äº†<code>then</code>æ–¹æ³•çš„å¯¹è±¡æˆ–å‡½æ•°<br>1.3 â€œvalueâ€ å¯ä»¥æ˜¯ä»»ä½• JavaScript çš„åˆæ³•å€¼ï¼ˆåŒ…æ‹¬ undefined, thenable å’Œ promiseï¼‰<br>1.4 â€œexceptionâ€ æ˜¯ä¸€ä¸ªä½¿ç”¨<code>throw</code>è¯­å¥æŠ›å‡ºçš„å€¼ã€‚<br>1.5 â€œreasonâ€æ˜¯ä¸€ä¸ªè¡¨ç¤º promise å¤±è´¥çš„åŸå› </p><h3 id="2-è¦æ±‚"><a href="#2-è¦æ±‚" class="headerlink" title="2. è¦æ±‚"></a>2. è¦æ±‚</h3><h4 id="2-1-Promise-è¦æ±‚"><a href="#2-1-Promise-è¦æ±‚" class="headerlink" title="2.1 Promise è¦æ±‚"></a>2.1 Promise è¦æ±‚</h4><p>ä¸€ä¸ª Promise å¿…é¡»å¤„äºä»¥ä¸‹ä¸‰ç§çŠ¶æ€ä¸­çš„å…¶ä¸­ä¸€ç§: pendingï¼ˆç­‰å¾…ï¼‰, fulfilledï¼ˆå®Œæˆï¼‰, æˆ– rejectedï¼ˆæ‹’ç»ï¼‰ã€‚</p><p>2.1.1 å½“ promise å¤„äº pending çŠ¶æ€</p><ul><li><p>2.1.1.1. å¯ä»¥è½¬æ¢åˆ° fulfilled æˆ– rejected çš„çŠ¶æ€ã€‚</p><p>2.1.2 å½“ promise å¤„äº fulfilled çŠ¶æ€</p></li><li><p>2.1.2.1 ä¸èƒ½å†è½¬æ¢çŠ¶æ€ã€‚</p></li><li><p>2.1.2.2 å¿…é¡»æœ‰ä¸€ä¸ªå€¼(value),ä¸”ä¸å¯æ”¹å˜ã€‚</p><p>2.1.3 å½“ promise å¤„äº rejected çŠ¶æ€</p></li><li><p>2.1.3.1 ä¸èƒ½å†è½¬æ¢çŠ¶æ€ã€‚</p></li><li><p>2.1.3.2 å¿…é¡»æœ‰ä¸€ä¸ªåŸå› (reason),ä¸”ä¸å¯æ”¹å˜ã€‚</p></li></ul><p>è¿™é‡Œçš„ä¸å¯æ”¹å˜æŒ‡çš„æ˜¯æ’ç­‰ï¼ˆå³ <code>===</code> ï¼‰ï¼Œè€Œä¸æ˜¯æ„å‘³ç€å…¶å†…éƒ¨çš„ä¸å¯å˜ï¼ˆå³ä»…ä»…æ˜¯å…¶å¼•ç”¨åœ°å€ä¸å˜ï¼Œä½†å±æ€§å€¼å¯è¢«æ›´æ”¹ï¼‰ã€‚</p><h4 id="2-2-then-æ–¹æ³•"><a href="#2-2-then-æ–¹æ³•" class="headerlink" title="2.2 then æ–¹æ³•"></a>2.2 then æ–¹æ³•</h4><p>ä¸€ä¸ª promise å¿…é¡»æä¾›ä¸€ä¸ª<code>then</code>æ–¹æ³•ä»¥è¯»å–å…¶å½“å‰å€¼ã€ç»ˆå€¼å’Œå¤±è´¥åŸå› ã€‚<br>ä¸€ä¸ª promise çš„<code>then</code>æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">promise.then(onFullfilled, onRejected);</span><br></pre></td></tr></table></figure><p>2.2.1 <code>onFulfilled</code>å’Œ<code>onRejected</code>éƒ½æ˜¯å¯é€‰çš„å‚æ•°:</p><ul><li><p>2.2.1.1 å¦‚æœ<code>onFullfilled</code>ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™å®ƒä¼šè¢«å¿½ç•¥</p></li><li><p>2.2.1.2 å¦‚æœ<code>onRejected</code>ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™å®ƒä¼šè¢«å¿½ç•¥</p><p>2.2.2 å¦‚æœ<code>onFulfilled</code>æ˜¯ä¸€ä¸ªå‡½æ•°</p></li><li><p>2.2.2.1 å¿…é¡»åœ¨ <code>promise</code> æ‰§è¡Œç»“æŸåæ‰§è¡Œï¼Œ<code>promise</code>çš„ value ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</p></li><li><p>2.2.2.2 åœ¨ <code>promise</code> æ‰§è¡Œç»“æŸå‰ä¸å¯è¢«è°ƒç”¨</p></li><li><p>2.2.2.3 ä¸èƒ½è¢«å¤šæ¬¡è°ƒç”¨</p><p>2.2.3 å¦‚æœ<code>onRejected</code>æ˜¯ä¸€ä¸ªå‡½æ•°</p></li><li><p>2.2.3.1 å¿…é¡»åœ¨ <code>promise</code> è¢«æ‹’ç»åæ‰§è¡Œ,<code>promise</code>çš„ reason ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</p></li><li><p>2.2.3.2 åœ¨ <code>promise</code> æ‰§è¡Œç»“æŸå‰ä¸å¯è¢«è°ƒç”¨</p></li><li><p>2.2.3.3 ä¸èƒ½è¢«å¤šæ¬¡è°ƒç”¨</p><p>2.2.4 <code>onFulfilled</code>å’Œ<code>onRejected</code>åªæœ‰åœ¨æ‰§è¡Œç¯å¢ƒå †æ ˆä»…åŒ…å«å¹³å°ä»£ç æ—¶æ‰å¯è¢«è°ƒç”¨ <a href="####3.1">3.1</a></p><p>2.2.5 <code>onFulfilled</code>å’Œ<code>onRejected</code>å¿…é¡»è¢«ä½œä¸ºå‡½æ•°è°ƒç”¨ï¼ˆå³æ²¡æœ‰ this å€¼ï¼‰ <a href="####3.2">3.2</a></p><p>2.2.6 <code>then</code>æ–¹æ³•å¯ä»¥è¢«åŒä¸€ä¸ª promise è°ƒç”¨å¤šæ¬¡</p></li><li><p>2.2.6.1 å¦‚æœ/å½“ <code>promise</code>æ˜¯ fulfilled çŠ¶æ€ï¼Œåˆ™æ‰€æœ‰ç›¸åº”çš„<code>onFulfilled</code>å›è°ƒå¿…é¡»æŒ‰æ³¨å†Œé¡ºåºæ‰§è¡Œ<code>then</code>æ–¹æ³•</p></li><li><p>2.2.6.2 å¦‚æœ/å½“ <code>promise</code>æ˜¯ rejected çŠ¶æ€ï¼Œåˆ™æ‰€æœ‰ç›¸åº”çš„<code>onRejected</code>å›è°ƒå¿…é¡»æŒ‰æ³¨å†Œé¡ºåºæ‰§è¡Œ<code>then</code>æ–¹æ³•</p><p>2.2.7 <code>then</code>æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ª promise å¯¹è±¡<a href="####3.3">3.3</a></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">promise2 = promise1.then(onFulfilled, onRejected);</span><br></pre></td></tr></table></figure><ul><li>2.2.7.1 å¦‚æœ<code>onFulfilled</code>æˆ–è€…<code>onRejected</code>è¿”å›ä¸€ä¸ªå€¼<code>x</code> ï¼Œåˆ™è¿è¡Œä¸‹é¢çš„ Promise è§£å†³è¿‡ç¨‹ï¼š<code>[[Resolve]](promise2, x)</code></li><li>2.2.7.2 å¦‚æœ<code>onFulfilled</code>æˆ–è€…<code>onRejected</code>æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸<code>e</code> ï¼Œåˆ™<code>promise2</code>å¿…é¡»æ‹’ç»æ‰§è¡Œï¼Œå¹¶å°†<code>e</code>ä½œä¸ºæ‹’ç»åŸå› </li><li>2.2.7.3 å¦‚æœ<code>onFulfilled</code>ä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¹¶ä¸”<code>promise1</code>å·²ç»å®Œæˆï¼Œåˆ™<code>promise2</code>å¿…é¡»ä½¿ç”¨ä¸<code>promise1</code>ç›¸åŒçš„ value æ¥ fulfilled</li><li>2.2.7.4 å¦‚æœ<code>onRejected</code>ä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¹¶ä¸”<code>promise1</code>å·²ç»å®Œæˆï¼Œåˆ™<code>promise2</code>å¿…é¡»ä½¿ç”¨ä¸<code>promise1</code>ç›¸åŒçš„ reason æ¥ rejected</li></ul><h4 id="2-3-Promise-è§£å†³è¿‡ç¨‹"><a href="#2-3-Promise-è§£å†³è¿‡ç¨‹" class="headerlink" title="2.3 Promise è§£å†³è¿‡ç¨‹"></a>2.3 Promise è§£å†³è¿‡ç¨‹</h4><p>Promise è§£å†³è¿‡ç¨‹æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ“ä½œ,å…¶éœ€è¾“å…¥ä¸€ä¸ª promise å’Œä¸€ä¸ªå€¼,æˆ‘ä»¬è¡¨ç¤ºä¸º<code>[[Resolve]](promise, x)</code>,å¦‚æœ x æ˜¯ä¸€ä¸ª thenable(promise),å®ƒä¼šå°è¯•é‡‡ç”¨ x çš„çŠ¶æ€,å‰ææ˜¯<code>x</code>è¡Œä¸ºè‡³å°‘æœ‰ç‚¹åƒ promiseã€‚å¦åˆ™ï¼Œå®ƒä½œä¸º<code>promise</code>çš„ fulfilled çš„ value è¿”å›ã€‚<br>å¯¹ thenables çš„è¿™ç§å¤„ç†å…è®¸ promise å®ç°è¿›è¡Œæ›´å…·æœ‰é€šç”¨æ€§ï¼šåªè¦å…¶æš´éœ²å‡ºä¸€ä¸ªéµå¾ª Promise/A+ åè®®çš„ then æ–¹æ³•å³å¯ï¼›è¿™åŒæ—¶ä¹Ÿä½¿éµå¾ª Promise/A+ è§„èŒƒçš„å®ç°å¯ä»¥ä¸ä¸å†²çªçš„å®ç°èƒ½è‰¯å¥½å…±å­˜ã€‚</p><p>è¦è¿è¡Œ<code>[[Resolve]](promise, x)</code>, éœ€éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p><ul><li>2.3.1 å¦‚æœ<code>promise</code>å’Œ<code>x</code>æŒ‡å‘åŒä¸€å¯¹è±¡ï¼Œä»¥<code>TypeError</code>ä¸ºæ‹’ç»åŸå› æ‹’ç»æ‰§è¡Œ<code>promise</code></li><li>2.3.2 å¦‚æœ<code>x</code>ä¸º Promise,åˆ™ä½¿ promise æ¥å— x çš„çŠ¶æ€<a href="####3.4">3.4</a><ul><li>2.3.2.1 å¦‚æœ<code>x</code>å¤„äº pending,promise éœ€ä¿æŒ pending,ç›´è‡³<code>x</code>è¢«æ‰§è¡Œæˆ–æ‹’ç»</li><li>2.3.2.2 å¦‚æœ<code>x</code>æ‰§è¡Œå®Œæ¯•,ç”¨ç›¸åŒçš„å€¼æ‰§è¡Œ<code>promise</code></li><li>2.3.2.3 å¦‚æœ<code>x</code>è¢«æ‹’ç»,ç”¨ç›¸åŒçš„åŸå› æ‹’ç»<code>promise</code></li></ul></li><li>2.3.3 å¦‚æœ<code>x</code>ä¸ºå¯¹è±¡æˆ–è€…å‡½æ•°<ul><li>2.3.3.1 æŠŠ<code>x.then</code>èµ‹å€¼ç»™<code>then</code><a href="####3.5">3.5</a></li><li>2.3.3.2 å¦‚æœå–<code>x.then</code>çš„å€¼æ—¶æŠ›å‡ºé”™è¯¯<code>e</code>,åˆ™ç”¨<code>e</code>ä½œä¸º promise çš„æ‹’ç»åŸå› </li><li>2.3.3.3 å¦‚æœ<code>then</code>æ˜¯å‡½æ•°,å°†<code>x</code>ä½œä¸ºå‡½æ•°çš„ä½œç”¨åŸŸ<code>this</code>è°ƒç”¨ä¹‹ã€‚ä¼ é€’ä¸¤ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°,ç¬¬ä¸€ä¸ªå‚æ•°å«åš<code>resolvePromise</code>,ç¬¬äºŒä¸ªå‚æ•°å«åš<code>rejectPromise</code>:<ul><li>2.3.3.3.1 å¦‚æœ<code>resolvePromise</code>ä»¥å€¼<code>y</code>ä¸ºå‚æ•°è¢«è°ƒç”¨ï¼Œåˆ™è¿è¡Œ <code>[[Resolve]](promise, y)</code></li><li>2.3.3.3.2 å¦‚æœ<code>rejectPromise</code>ä»¥æ‹’ç»åŸå› <code>r</code>ä¸ºå‚æ•°è¢«è°ƒç”¨,åˆ™ä»¥<code>r</code>æ‹’ç»<code>promise</code></li><li>2.3.3.3.3 å¦‚æœ<code>resolvePromise</code>å’Œ<code>rejectPromise</code>å‡è¢«è°ƒç”¨,æˆ–è€…è¢«åŒä¸€å‚æ•°è°ƒç”¨äº†å¤šæ¬¡,åˆ™ä¼˜å…ˆé‡‡ç”¨é¦–æ¬¡è°ƒç”¨å¹¶å¿½ç•¥å…¶ä½™è°ƒç”¨</li><li>2.3.3.3.4 å¦‚æœè°ƒç”¨<code>then</code>æ–¹æ³•æ—¶æŠ›å‡ºå¼‚å¸¸<code>e</code>,<ul><li>2.3.3.3.4.1 å¦‚æœ<code>resolvePromise</code>æˆ–<code>rejectPromise</code>å·²ç»è¢«è°ƒç”¨,å°±å¿½ç•¥å®ƒ</li><li>2.3.3.3.4.2 å¦åˆ™ä»¥<code>e</code>ä¸ºåŸå› æ‹’ç»<code>promise</code></li></ul></li></ul></li><li>2.3.3.4 å¦‚æœ<code>then</code>ä¸æ˜¯å‡½æ•°,ä»¥<code>x</code>ä¸ºå‚æ•°æ‰§è¡Œ<code>promise</code></li></ul></li><li>2.3.4 å¦‚æœ<code>x</code>ä¸ä¸ºå¯¹è±¡æˆ–è€…å‡½æ•°,ä»¥<code>x</code>ä¸ºå‚æ•°æ‰§è¡Œ<code>promise</code></li></ul><p>å¦‚æœä¸€ä¸ª promise è¢«ä¸€ä¸ªå¾ªç¯çš„ thenable é“¾ä¸­çš„å¯¹è±¡è§£å†³ï¼Œè€Œ<code>[[Resolve]](promise, thenable)</code>çš„é€’å½’æ€§è´¨å¯¼è‡´å…¶è¢«å†æ¬¡è°ƒç”¨,æ ¹æ®ä¸Šè¿°çš„ç®—æ³•å°†ä¼šé™·å…¥æ— é™é€’å½’ã€‚è§„èŒƒé¼“åŠ±æ–½è€…æ£€æµ‹è¿™æ ·çš„é€’å½’æ˜¯å¦å­˜åœ¨,ä½†ä¸å¼ºåˆ¶,å¦‚æœæ£€æµ‹åˆ°å­˜åœ¨åˆ™ä»¥ä¸€ä¸ªå¯è¯†åˆ«çš„<code>TypeError</code>ä¸ºåŸå› æ¥æ‹’ç» <code>promise</code>ã€‚<a href="####3.6">3.6</a></p><h3 id="3-å¤‡æ³¨"><a href="#3-å¤‡æ³¨" class="headerlink" title="3. å¤‡æ³¨"></a>3. å¤‡æ³¨</h3><h4 id="3-1"><a href="#3-1" class="headerlink" title="3.1"></a>3.1</h4><p>è¿™é‡Œçš„â€œå¹³å°ä»£ç â€æŒ‡çš„æ˜¯å¼•æ“,ç¯å¢ƒå’Œ promise å®ç°ä»£ç ã€‚å®è·µä¸­è¦ç¡®ä¿<code>onFulfilled</code>å’Œ<code>onRejected</code>æ–¹æ³•å¼‚æ­¥æ‰§è¡Œ,ä¸”åº”è¯¥åœ¨<code>then</code>æ–¹æ³•è¢«è°ƒç”¨çš„é‚£ä¸€è½®äº‹ä»¶å¾ªç¯ä¹‹åçš„æ–°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚è¿™å¯ä»¥ç”¨â€œå®ä»»åŠ¡â€æœºåˆ¶å®ç°,ä¾‹å¦‚<code>setTimeout</code>æˆ–è€…<code>setImmediate</code>,æˆ–è€…ç”¨â€œå¾®ä»»åŠ¡â€æœºåˆ¶,ä¾‹å¦‚<code>MutationObserver</code>æˆ–<code>process.nextTick</code>ã€‚ç”±äº promise å®ç°è¢«è®¤ä¸ºæ˜¯å¹³å°ä»£ç ,å› æ­¤å®ƒæœ¬èº«å¯èƒ½åŒ…å«ä¸€ä¸ªä»»åŠ¡è°ƒåº¦é˜Ÿåˆ—æˆ–â€œtrampolineâ€çš„å¤„ç†ç¨‹åºã€‚</p><h4 id="3-2"><a href="#3-2" class="headerlink" title="3.2"></a>3.2</h4><p>ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸¥æ ¼æ¨¡å¼ï¼ˆstrictï¼‰ä¸­ï¼Œ<code>this</code>çš„å€¼ä¸º<code>undefined</code>;åœ¨éä¸¥æ ¼æ¨¡å¼ä¸­å…¶ä¸ºå…¨å±€å¯¹è±¡ã€‚</p><h4 id="3-3"><a href="#3-3" class="headerlink" title="3.3"></a>3.3</h4><p>ä»£ç å®ç°åœ¨æ»¡è¶³æ‰€æœ‰è¦æ±‚çš„æƒ…å†µä¸‹å¯ä»¥å…è®¸<code>promise2 === promise1</code>ã€‚æ¯ä¸ªå®ç°éƒ½è¦æ–‡æ¡£è¯´æ˜å…¶æ˜¯å¦å…è®¸ä»¥åŠåœ¨ä½•ç§æ¡ä»¶ä¸‹å…è®¸ p<code>romise2 === promise1</code>ã€‚</p><h4 id="3-4"><a href="#3-4" class="headerlink" title="3.4"></a>3.4</h4><p>ä¸€èˆ¬æ¥è¯´,<code>x</code>å¦‚æœå®ƒæ¥è‡ªå½“å‰çš„å®ç°,é‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªçœŸæ­£çš„ promiseã€‚è¯¥å­å¥å…è®¸ä½¿ç”¨ç‰¹å®šäºå®ç°çš„æ–¹æ³•æ¥é‡‡ç”¨å·²çŸ¥ç¬¦åˆçš„ promise çš„çŠ¶æ€ã€‚</p><h4 id="3-5"><a href="#3-5" class="headerlink" title="3.5"></a>3.5</h4><p>æ­¤è¿‡ç¨‹é¦–å…ˆå­˜å‚¨å¼•ç”¨<code>x.then</code>,ç„¶åæµ‹è¯•,è°ƒç”¨è¯¥å¼•ç”¨,é¿å…å¤šæ¬¡è®¿é—®è¯¥<code>x.then</code>å±æ€§ã€‚è¿™ä¹ˆåšçš„åŸå› æ˜¯é˜²æ­¢æ¯æ¬¡è·å–è¯¥å€¼æ—¶,è¿”å›ä¸åŒçš„æƒ…å†µï¼ˆES5 çš„ getter ç‰¹æ€§å¯èƒ½ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼‰</p><h4 id="3-6"><a href="#3-6" class="headerlink" title="3.6"></a>3.6</h4><p>å®ç°ä¸åº”è¯¥å¯¹ thenable é“¾çš„æ·±åº¦è®¾é™,å¹¶å‡å®šè¶…å‡ºæœ¬é™åˆ¶çš„é€’å½’å°±æ˜¯æ— é™å¾ªç¯ã€‚åªæœ‰çœŸæ­£çš„å¾ªç¯é€’å½’æ‰åº”èƒ½å¯¼è‡´<code>TypeError</code>å¼‚å¸¸ï¼›å¦‚æœä¸€æ¡æ— é™é•¿çš„é“¾ä¸Š thenable å‡ä¸ç›¸åŒ,é‚£ä¹ˆé€’å½’ä¸‹å»æ°¸è¿œæ˜¯æ­£ç¡®çš„è¡Œä¸ºã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://promisesaplus.com/&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>margin åˆå¹¶</title>
    <link href="http://example.com/2020/10/26/margin%E5%90%88%E5%B9%B6/"/>
    <id>http://example.com/2020/10/26/margin%E5%90%88%E5%B9%B6/</id>
    <published>2020-10-26T10:42:31.000Z</published>
    <updated>2021-08-07T05:59:13.885Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="ä»€ä¹ˆæ˜¯-margin-åˆå¹¶"><a href="#ä»€ä¹ˆæ˜¯-margin-åˆå¹¶" class="headerlink" title="ä»€ä¹ˆæ˜¯ margin åˆå¹¶"></a>ä»€ä¹ˆæ˜¯ margin åˆå¹¶</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing">MDN å®šä¹‰</a></p><p>å—çš„ä¸Šå¤–è¾¹è·(margin-top)å’Œä¸‹å¤–è¾¹è·(margin-bottom)æœ‰æ—¶åˆå¹¶(æŠ˜å )ä¸ºå•ä¸ªè¾¹è·,å…¶å¤§å°ä¸ºå•ä¸ªè¾¹è·çš„æœ€å¤§å€¼(æˆ–å¦‚æœå®ƒä»¬ç›¸ç­‰,åˆ™ä»…ä¸ºå…¶ä¸­ä¸€ä¸ª),è¿™ç§è¡Œä¸ºç§°ä¸ºè¾¹è·æŠ˜å .</p><p>ä¸¾ä¸ª ğŸŒ°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">        writing-mode: vertical-lr;</span></span><br><span class="line"><span class="css">      &#125;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="css">      &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><strong>å—çº§å…ƒç´ </strong>,ä½†ä¸åŒ…æ‹¬æµ®åŠ¨å’Œç»å¯¹å®šä½å…ƒç´ (ä»–ä»¬å¯ä»¥è®©å…ƒç´ å—çŠ¶åŒ–)</li><li>åªå‘ç”Ÿåœ¨å‚ç›´æ–¹å‘(ä¸è€ƒè™‘<strong>writing-mode</strong>çš„æƒ…å†µ,ä¸¥æ ¼æ¥è¯´åº”è¯¥æ˜¯åªå‘ç”Ÿåœ¨å’Œå½“å‰æ–‡æ¡£æµæ–¹å‘çš„ç›¸å‚ç›´æ–¹å‘ä¸Š,é»˜è®¤çš„æ–‡æ¡£æµæ˜¯æ°´å¹³æµ)</li></ul><h2 id="margin-åˆå¹¶ä¸‰ç§åœºæ™¯"><a href="#margin-åˆå¹¶ä¸‰ç§åœºæ™¯" class="headerlink" title="margin åˆå¹¶ä¸‰ç§åœºæ™¯"></a>margin åˆå¹¶ä¸‰ç§åœºæ™¯</h2><ul><li>ç›¸é‚»å…„å¼Ÿå…ƒç´  margin åˆå¹¶</li><li>çˆ¶çº§å’Œç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå­å…ƒç´ </li><li>ç©ºçš„å—çº§å…ƒç´ çš„ margin åˆå¹¶</li></ul><h4 id="ç›¸é‚»å…„å¼Ÿå…ƒç´ -margin-åˆå¹¶"><a href="#ç›¸é‚»å…„å¼Ÿå…ƒç´ -margin-åˆå¹¶" class="headerlink" title="ç›¸é‚»å…„å¼Ÿå…ƒç´  margin åˆå¹¶"></a>ç›¸é‚»å…„å¼Ÿå…ƒç´  margin åˆå¹¶</h4><p>ä¾‹å­å¦‚ä¸Š</p><h4 id="çˆ¶çº§å’Œç¬¬ä¸€ä¸ª-æœ€åä¸€ä¸ªå­å…ƒç´ "><a href="#çˆ¶çº§å’Œç¬¬ä¸€ä¸ª-æœ€åä¸€ä¸ªå­å…ƒç´ " class="headerlink" title="çˆ¶çº§å’Œç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå­å…ƒç´ "></a>çˆ¶çº§å’Œç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå­å…ƒç´ </h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 30px;&quot;</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 30px;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 30px;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 30px;&quot;</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="å¦‚ä½•é˜»æ­¢è¿™é‡Œmarginåˆå¹¶çš„å‘ç”Ÿ"><a href="#å¦‚ä½•é˜»æ­¢è¿™é‡Œmarginåˆå¹¶çš„å‘ç”Ÿ" class="headerlink" title="å¦‚ä½•é˜»æ­¢è¿™é‡Œmarginåˆå¹¶çš„å‘ç”Ÿ?"></a>å¦‚ä½•é˜»æ­¢è¿™é‡Œmarginåˆå¹¶çš„å‘ç”Ÿ?</h5><p>å¯ä»¥è¿›è¡Œçš„æ“ä½œ(æ»¡è¶³ä¸€ä¸ªæ¡ä»¶å³å¯):</p><ul><li>çˆ¶å…ƒç´ è®¾ç½®å—çŠ¶æ ¼å¼åŒ–ä¸Šä¸‹æ–‡å…ƒç´ </li><li>çˆ¶çº§å’Œç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå­å…ƒç´ ä¹‹é—´æ·»åŠ å†…è”å…ƒç´ è¿›è¡Œåˆ†éš”</li><li>çˆ¶å…ƒç´ è®¾ç½®<code>border</code></li><li>çˆ¶å…ƒç´ è®¾ç½®<code>padding</code></li></ul><h4 id="ç©ºçš„å—çº§å…ƒç´ çš„-margin-åˆå¹¶"><a href="#ç©ºçš„å—çº§å…ƒç´ çš„-margin-åˆå¹¶" class="headerlink" title="ç©ºçš„å—çº§å…ƒç´ çš„ margin åˆå¹¶"></a>ç©ºçš„å—çº§å…ƒç´ çš„ margin åˆå¹¶</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="å¦‚ä½•é˜»æ­¢è¿™é‡Œmarginåˆå¹¶çš„å‘ç”Ÿ-1"><a href="#å¦‚ä½•é˜»æ­¢è¿™é‡Œmarginåˆå¹¶çš„å‘ç”Ÿ-1" class="headerlink" title="å¦‚ä½•é˜»æ­¢è¿™é‡Œmarginåˆå¹¶çš„å‘ç”Ÿ?"></a>å¦‚ä½•é˜»æ­¢è¿™é‡Œmarginåˆå¹¶çš„å‘ç”Ÿ?</h5><p>å¯ä»¥è¿›è¡Œçš„æ“ä½œ(æ»¡è¶³ä¸€ä¸ªæ¡ä»¶å³å¯):</p><ul><li>è®¾ç½®<code>height</code>æˆ–è€…<code>min-height</code></li><li>æ·»åŠ å†…è”å…ƒç´ è¿›è¡Œåˆ†éš”</li><li>çˆ¶å…ƒç´ è®¾ç½®<code>border</code></li><li>çˆ¶å…ƒç´ è®¾ç½®<code>padding</code></li></ul><h2 id="margin-åˆå¹¶çš„è®¡ç®—è§„åˆ™"><a href="#margin-åˆå¹¶çš„è®¡ç®—è§„åˆ™" class="headerlink" title="margin åˆå¹¶çš„è®¡ç®—è§„åˆ™"></a>margin åˆå¹¶çš„è®¡ç®—è§„åˆ™</h2><ul><li>åŒå‘å–æå€¼<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-bottom: 50px;&quot;</span>&gt;</span>a<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 20px;&quot;</span>&gt;</span>b<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>æ­¤æ—¶ä¸¤ä¸ª<code>div</code>çš„é—´è·ä¸º50px</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 100px; background-color: antiquewhite;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-bottom: -50px;&quot;</span>&gt;</span>a<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: -20px;&quot;</span>&gt;</span>b<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ä¸¤ä¸ª<code>div</code>çš„é—´è·ä¸º-50px,è§†è§‰ä¸Šé50px</p><ul><li>åå‘å–å·®å€¼<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-bottom: 50px;&quot;</span>&gt;</span>a<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: -20px;&quot;</span>&gt;</span>b<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>æ­¤æ—¶ä¸¤ä¸ª<code>div</code>çš„é—´è·ä¸º30px,å³ 50px+(-20px)</li></ul><h2 id="margin-åˆå¹¶çš„æ„ä¹‰"><a href="#margin-åˆå¹¶çš„æ„ä¹‰" class="headerlink" title="margin åˆå¹¶çš„æ„ä¹‰"></a>margin åˆå¹¶çš„æ„ä¹‰</h2><h4 id="ä¸ºä»€ä¹ˆä¼šæœ‰margin"><a href="#ä¸ºä»€ä¹ˆä¼šæœ‰margin" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šæœ‰margin"></a>ä¸ºä»€ä¹ˆä¼šæœ‰margin</h4><p>æœ€åˆCSSçš„è®¾è®¡æœ¬æ„å°±æ˜¯ä¸ºäº†å›¾æ–‡ä¿¡æ¯çš„å±•ç¤º,æœ‰äº†é»˜è®¤çš„<code>margin</code>,å›¾æ–‡å°±ä¸ä¼šæŒ¤åœ¨ä¸€èµ·,å‚ç›´æ–¹å‘ä¸Šå°±å¯ä»¥å±‚æ¬¡åˆ†æ˜.<br>æ¯”å¦‚è¯´<code>&lt;p&gt;&lt;/p&gt;</code>,å…¶<code>margin</code>é»˜è®¤å•ä½ä¸ºem,ä¸ºä»€ä¹ˆä½¿ç”¨ç›¸å¯¹å•ä½?<br>æµè§ˆå™¨çš„å­—å·å¤§å°å¯ä»¥è‡ªå®šä¹‰,å½“æˆ‘ä»¬è‡ªå®šä¹‰ä¸ºè¾ƒå¤§å€¼æ—¶,marginè·Ÿéšå˜åŒ–,èƒ½å¤Ÿä¿æŒåˆé€‚çš„æ’ç‰ˆ.</p><h4 id="margin-åˆå¹¶çš„æ„ä¹‰-1"><a href="#margin-åˆå¹¶çš„æ„ä¹‰-1" class="headerlink" title="margin åˆå¹¶çš„æ„ä¹‰"></a>margin åˆå¹¶çš„æ„ä¹‰</h4><p>å¯¹äºå…„å¼Ÿå…ƒç´ çš„<code>margin</code>åˆå¹¶å…¶ä½œç”¨å’Œemç±»ä¼¼,éƒ½æ˜¯ä¸ºäº†è®©å›¾æ–‡ä¿¡æ¯æ‰“å¾—æ’ç‰ˆæ›´èˆ’æœè‡ªç„¶.</p><p>å¯¹äºçˆ¶å­å…ƒç´ çš„<code>margin</code>åˆå¹¶çš„æ„ä¹‰åœ¨äº:åœ¨é¡µé¢ä¸­ä»»ä½•åœ°æ–¹æ’å…¥å’ŒåµŒå¥—<code>&lt;div&gt;&lt;/div&gt;</code>éƒ½ä¸ä¼šå½±å“åŸæ¥çš„å—çŠ¶å¸ƒå±€.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 20px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨åœ¨è¯¥å…ƒç´ å¤–åµŒå¥—ä¸€å±‚<code>&lt;div&gt;&lt;/div&gt;</code>æ ‡ç­¾,å¦‚æœæ²¡æœ‰åˆå¹¶è§„åˆ™,è¯¥å…ƒç´ å’Œå…„å¼ŸèŠ‚ç‚¹çš„é—´è·å¯èƒ½å°±ä¼šå˜å¤§,ä¹Ÿå°±å½±å“äº†åŸæ¥çš„å¸ƒå±€.</p><p>å¯¹äºè‡ªèº«çš„<code>margin</code>åˆå¹¶çš„æ„ä¹‰åœ¨äºå¯ä»¥é¿å…ç©ºæ ‡ç­¾çš„å½±å“</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>a<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>b<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºè§„åˆ™çš„å­˜åœ¨,å®ƒå’Œåº•ä¸‹çš„ä»£ç æ˜¯ä¸€æ ·çš„æ•ˆæœ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>a<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>b<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯-margin-åˆå¹¶&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯-margin-åˆå¹¶&quot;</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="CSS" scheme="http://example.com/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>Babelè½¬è¯‘ä¸‹çš„è£…é¥°å™¨</title>
    <link href="http://example.com/2020/08/16/Babel%E8%BD%AC%E8%AF%91%E4%B8%8B%E7%9A%84%E8%A3%85%E9%A5%B0%E5%99%A8/"/>
    <id>http://example.com/2020/08/16/Babel%E8%BD%AC%E8%AF%91%E4%B8%8B%E7%9A%84%E8%A3%85%E9%A5%B0%E5%99%A8/</id>
    <published>2020-08-16T11:40:50.000Z</published>
    <updated>2021-08-07T05:59:13.676Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h4 id="è£…é¥°å™¨æ¦‚å¿µ"><a href="#è£…é¥°å™¨æ¦‚å¿µ" class="headerlink" title="è£…é¥°å™¨æ¦‚å¿µ"></a>è£…é¥°å™¨æ¦‚å¿µ</h4><p>å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šé€šè¿‡è¿”å›ä¸€ä¸ªæ–°å‡½æ•°æ¥ä¿®æ”¹ä¼ å…¥çš„å‡½æ•°æˆ–æ–¹æ³•çš„è¡Œä¸º</p><h4 id="è£…é¥°å™¨ç”¨æ³•"><a href="#è£…é¥°å™¨ç”¨æ³•" class="headerlink" title="è£…é¥°å™¨ç”¨æ³•"></a>è£…é¥°å™¨ç”¨æ³•</h4><ul><li>è£…é¥°ç±»æ–¹æ³•æˆ–å±æ€§(ç±»æˆå‘˜)</li><li>è£…é¥°ç±»</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> log = <span class="function">(<span class="params">target, name, descriptor</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> oldValue = descriptor.value;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> descriptor.value === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">    descriptor.value = <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">console</span>.log(oldValue.apply(<span class="built_in">this</span>, args));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(descriptor.value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> foodCategory = <span class="function">(<span class="params">target, name, descriptor</span>) =&gt;</span> &#123;</span><br><span class="line">  target.category = <span class="string">&quot;food&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@foodCategory</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cola</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @log</span><br><span class="line">  <span class="function"><span class="title">color</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`red`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cola = <span class="keyword">new</span> Cola(<span class="string">&quot;Coca Cola&quot;</span>);</span><br><span class="line">cola.color(); <span class="comment">// red</span></span><br><span class="line"><span class="built_in">console</span>.log(Cola.category); <span class="comment">// food</span></span><br></pre></td></tr></table></figure><p><strong>è£…é¥°æ–¹æ³•æœ¬è´¨ä¸Šæ˜¯é€šè¿‡ <code>Object.defineProperty()</code> æ¥å®ç°çš„</strong></p><p>ç»è¿‡babelè½¬æ¢ä¹‹å(åº•ä¸‹æœ‰babelè¯¦ç»†æ“ä½œ):</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@function </span></span></span><br><span class="line"><span class="comment"> * è¯¥å‡½æ•°çš„ä½œç”¨å°±æ˜¯å°†æ•°ç»„ä¸­çš„æ–¹æ³•æ·»åŠ åˆ°æ„é€ å‡½æ•°æˆ–è€…æ„é€ å‡½æ•°çš„åŸå‹ä¸­</span></span><br><span class="line"><span class="comment"> * æœ€åè¿”å›è¿™ä¸ªæ„é€ å‡½æ•°ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> _createClass = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†propsæ•°ç»„ä¸Šçš„æ¯ä¸€ä¸ªå¯¹è±¡éƒ½é€šè¿‡Object.defineProperty()æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * å®šä¹‰åˆ°ç›®æ ‡å¯¹è±¡targetä¸Šå»</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">defineProperties</span>(<span class="params">target, props</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;</span><br><span class="line">            props.length; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> descriptor = props[i];</span><br><span class="line">            <span class="comment">// ç±»çš„å†…éƒ¨æ‰€æœ‰å®šä¹‰çš„æ–¹æ³•,éƒ½æ˜¯ä¸å¯æšä¸¾çš„</span></span><br><span class="line">            descriptor.enumerable = descriptor.enumerable || <span class="literal">false</span>;</span><br><span class="line">            descriptor.configurable = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;value&quot;</span> <span class="keyword">in</span> descriptor) descriptor.writable = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">Object</span>.defineProperty(target, descriptor.key, descriptor);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;protoProps&#125;</span> </span>åŸå‹å±æ€§æ•°ç»„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;protoProps&#125;</span> </span>é™æ€å±æ€§æ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">Constructor, protoProps, staticProps</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ä¸ºæ„é€ å‡½æ•°prototypeæ·»åŠ å±æ€§</span></span><br><span class="line">        <span class="comment">// (å³ä¸ºç”¨æ„é€ å‡½æ•°ç”Ÿæˆçš„å®ä¾‹åŸå‹æ·»åŠ å±æ€§,å¯ä»¥è¢«å®ä¾‹é€šè¿‡åŸå‹é“¾è®¿é—®åˆ°)</span></span><br><span class="line">        <span class="keyword">if</span> (protoProps) defineProperties(Constructor.prototype, protoProps);</span><br><span class="line">        <span class="comment">// ä¸ºæ„é€ å‡½æ•°æ·»åŠ å±æ€§</span></span><br><span class="line">        <span class="keyword">if</span> (staticProps) defineProperties(Constructor, staticProps);</span><br><span class="line">        <span class="keyword">return</span> Constructor;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _class, _desc, _value, _class2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@function </span></span></span><br><span class="line"><span class="comment"> * ä½œç”¨æ˜¯æ£€æŸ¥ Person æ˜¯å¦æ˜¯é€šè¿‡ new çš„æ–¹å¼è°ƒç”¨</span></span><br><span class="line"><span class="comment"> * é˜²æ­¢æ„é€ å‡½æ•°è¢«å½“åšæ™®é€šå‡½æ•°æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_classCallCheck</span>(<span class="params">instance, Constructor</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!(instance <span class="keyword">instanceof</span> Constructor)) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&quot;Cannot call a class as a function&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_applyDecoratedDescriptor</span>(<span class="params">target, property, decorators, descriptor, context</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> desc = &#123;&#125;;</span><br><span class="line">    <span class="comment">// è¿™é‡Œå¯¹ descriptor å±æ€§åšäº†ä¸€å±‚æ‹·è´</span></span><br><span class="line">    <span class="built_in">Object</span>[<span class="string">&#x27;keys&#x27;</span>](descriptor).forEach(<span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>&#123;</span><br><span class="line">        desc[key] = descriptor[key];</span><br><span class="line">    &#125;);</span><br><span class="line">    desc.enumerable = !!desc.enumerable;</span><br><span class="line">    desc.configurable = !!desc.configurable;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ²¡æœ‰ value æˆ–è€… initializer å±æ€§çš„,è¡¨æ˜æ˜¯ get å’Œ set æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// initializeræ˜¯ Babel çš„ Class ä¸ºäº†ä¸ decorator é…åˆè€Œäº§ç”Ÿçš„ä¸€ä¸ªå±æ€§</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&#x27;value&#x27;</span> <span class="keyword">in</span> desc || desc.initializer) &#123;</span><br><span class="line">        desc.writable = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™é‡Œå¤„ç†å¤šä¸ª decorator çš„æƒ…å†µ,ç”±ç±»å†…å‘ç±»å¤–æ‰§è¡Œ</span></span><br><span class="line">    desc = decorators.slice().reverse().reduce(<span class="function"><span class="keyword">function</span> (<span class="params">desc, decorator</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> decorator(target, property, desc) || desc;</span><br><span class="line">    &#125;, desc);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// voidå…¶å®æ˜¯javascriptä¸­çš„ä¸€ä¸ªå‡½æ•°,æ¥å—ä¸€ä¸ªå‚æ•°,è¿”å›å€¼æ°¸è¿œæ˜¯undefined</span></span><br><span class="line">    <span class="keyword">if</span> (context &amp;&amp; desc.initializer !== <span class="keyword">void</span> <span class="number">0</span>) &#123;</span><br><span class="line">        desc.value = desc.initializer ? desc.initializer.call(context) : <span class="keyword">void</span> <span class="number">0</span>;</span><br><span class="line">        desc.initializer = <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (desc.initializer === <span class="keyword">void</span> <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">Object</span>[<span class="string">&#x27;defineProperty&#x27;</span>](target, property, desc);</span><br><span class="line">        desc = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> desc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> log = <span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">target, name, descriptor</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> oldValue = descriptor.value;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> descriptor.value === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">        descriptor.value = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> _len = <span class="built_in">arguments</span>.length, args = <span class="built_in">Array</span>(_len), _key = <span class="number">0</span>; _key &lt; _len; _key++) &#123;</span><br><span class="line">                args[_key] = <span class="built_in">arguments</span>[_key];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">console</span>.log(oldValue.apply(<span class="built_in">this</span>, args));</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(descriptor.value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foodCategory = <span class="function"><span class="keyword">function</span> <span class="title">foodCategory</span>(<span class="params">target, name, descriptor</span>) </span>&#123;</span><br><span class="line">    target.category = <span class="string">&quot;food&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Cola = foodCategory(_class = (_class2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Cola</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">        _classCallCheck(<span class="built_in">this</span>, Cola);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    _createClass(Cola, [&#123;</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&quot;color&quot;</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="function"><span class="keyword">function</span> <span class="title">color</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;red&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Cola;</span><br><span class="line">&#125;(), (_applyDecoratedDescriptor(_class2.prototype, <span class="string">&quot;color&quot;</span>, [log], <span class="built_in">Object</span>.getOwnPropertyDescriptor(_class2.prototype, <span class="string">&quot;color&quot;</span>), _class2.prototype)), _class2)) || _class;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cola = <span class="keyword">new</span> Cola(<span class="string">&quot;Coca Cola&quot;</span>);</span><br><span class="line">cola.color();</span><br><span class="line"><span class="built_in">console</span>.log(Cola.category);</span><br></pre></td></tr></table></figure><h4 id="babelè¯¦ç»†æ“ä½œ"><a href="#babelè¯¦ç»†æ“ä½œ" class="headerlink" title="babelè¯¦ç»†æ“ä½œ"></a>babelè¯¦ç»†æ“ä½œ</h4><p>ä½¿ç”¨<code>npm init</code>åˆå§‹åŒ–é¡¹ç›®:<br>ç”Ÿæˆæ–‡ä»¶<code>pakeage.json</code>,å®ƒä¼šå°†è®°å½•é¡¹ç›®å¼€å‘ä¸­æ‰€è¦ç”¨åˆ°çš„åŒ…,ä»¥åŠé¡¹ç›®çš„è¯¦ç»†ä¿¡æ¯</p><p>babel-cliæ˜¯ä¸€ç§åœ¨å‘½ä»¤è¡Œä¸‹ä½¿ç”¨Babelç¼–è¯‘æ–‡ä»¶çš„ç®€å•æ–¹æ³•,ä¸»è¦ç”¨äºæ–‡ä»¶çš„è¾“å…¥è¾“å‡º<br>å®‰è£…babelå‘½ä»¤è¡Œå·¥å…·:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --<span class="built_in">global</span> babel-cli</span><br></pre></td></tr></table></figure><p>å®‰è£…è£…é¥°å™¨ä¾èµ–:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save-dev babel-plugin-transform-decorators-legacy</span><br></pre></td></tr></table></figure><p>é¡¹ç›®ä¸­åˆ›å»º**.babelrc**æ–‡ä»¶:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;presets&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;es2015&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;plugins&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;transform-decorators-legacy&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶è¯´æ˜:</p><ul><li><p>.babelrc<br>babelæ‰€æœ‰çš„æ“ä½œåŸºæœ¬éƒ½ä¼šæ¥è¯»å–è¿™ä¸ªé…ç½®æ–‡ä»¶,é™¤äº†ä¸€äº›åœ¨å›è°ƒå‡½æ•°ä¸­è®¾ç½®optionså‚æ•°çš„,å¦‚æœæ²¡æœ‰è¿™ä¸ªé…ç½®æ–‡ä»¶,ä¼šä»package.jsonæ–‡ä»¶çš„babelå±æ€§ä¸­è¯»å–é…ç½®</p></li><li><p>presets<br>å¯ä»¥ç®€å•çš„æŠŠå®ƒè§†ä¸º Babel Plugin çš„é›†åˆ</p></li><li><p>plugins<br>babelä¸­çš„æ’ä»¶,é€šè¿‡é…ç½®ä¸åŒçš„æ’ä»¶å‘Šè¯‰babel,ä»£ç ä¸­æœ‰å“ªäº›æ˜¯éœ€è¦è½¬è¯‘çš„</p></li></ul><p>ä½¿ç”¨babelå‘½ä»¤è½¬ç :</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">babel [fileName].js</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;è£…é¥°å™¨æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#è£…é¥°å™¨æ¦‚å¿µ&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptä¸­offsetã€clientã€scroll</title>
    <link href="http://example.com/2020/06/10/JavaScript%E4%B8%ADoffset%E3%80%81client%E3%80%81scroll/"/>
    <id>http://example.com/2020/06/10/JavaScript%E4%B8%ADoffset%E3%80%81client%E3%80%81scroll/</id>
    <published>2020-06-10T13:49:20.000Z</published>
    <updated>2021-08-07T05:59:13.848Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>åœ¨webå‰ç«¯å¼€å‘ä¸­ç»å¸¸ä¼šç¢°åˆ°offsetã€clientã€scroll,å®¹æ˜“æ··ä¹±,è¿™é‡Œè®°å½•ä¸€ç•ª.<br>å…ˆæ”¾ä¸¤å¼ å›¾,æœªæ¥å¥½æŸ¥é˜… :smile:<br><img src="JavaScript%E4%B8%ADoffset%E3%80%81client%E3%80%81scroll/1.png" alt="JavaScriptä¸­offsetã€clientã€scroll.md"><br><img src="JavaScript%E4%B8%ADoffset%E3%80%81client%E3%80%81scroll/2.png" alt="JavaScriptä¸­offsetã€clientã€scroll.md"></p><h2 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h2><p>offset: åç§»é‡<br>å®ƒåŒ…æ‹¬å…ƒç´ åœ¨å±å¹•ä¸Šå ç”¨çš„æ‰€æœ‰å¯è§çš„ç©ºé—´.å…ƒç´ çš„å¯è§å¤§å°ç”±å…¶é«˜åº¦ã€å®½åº¦å†³å®š,åŒ…æ‹¬æ‰€æœ‰çš„å†…è¾¹è·<code>padding</code>,æ»šåŠ¨æ¡å’Œè¾¹æ¡†<code>border</code>å¤§å°(æ³¨æ„:ä¸åŒ…æ‹¬å¤–è¾¹è·).</p><p>é€šè¿‡ä»¥ä¸‹4ä¸ªå±æ€§å¯ä»¥å–å¾—å…ƒç´ çš„åç§»é‡:</p><ul><li>offsetHeight: offsetHeight = border-width * 2 + padding-top + padding-bottom + height</li><li>offsetWidth: offsetWidth = border-width * 2 + padding-left + padding-right + width</li><li>offsetLeft: offsetLeft = offsetParent çš„padding-left + ä¸­é—´å…ƒç´ çš„offsetWidth + å½“å‰å…ƒç´ çš„margin-left</li><li>offsetTop: offsetParent çš„padding-top + ä¸­é—´å…ƒç´ çš„offsetHeight + å½“å‰å…ƒç´ çš„margin-top</li></ul><p><strong>å®ƒä»¬éƒ½æ˜¯åªè¯»å±æ€§,æ¯æ¬¡è®¿é—®éƒ½è¦é‡æ–°è®¡ç®—,å¦‚æœç»å¸¸è®¿é—®,å¯ä»¥ç”¨å˜é‡å­˜èµ·æ¥,ä»¥æé«˜æ€§èƒ½</strong></p><p><img src="JavaScript%E4%B8%ADoffset%E3%80%81client%E3%80%81scroll/3.png" alt="JavaScriptä¸­offsetã€clientã€scroll.md"></p><h2 id="client"><a href="#client" class="headerlink" title="client"></a>client</h2><p>client: å®¢æˆ·åŒºå¤§å°<br>å®ƒåŒ…æ‹¬å…ƒç´ å†…å®¹åŠå…¶å†…è¾¹è·æ‰€å æ®çš„ç©ºé—´å¤§å°.</p><p>é€šè¿‡ä»¥ä¸‹2ä¸ªå±æ€§å¯ä»¥å–å¾—å…ƒç´ çš„å®¢æˆ·åŒº:</p><ul><li>clientHeight: padding-top + padding-bottom + height</li><li>clientWidth: padding-left + padding-right + width</li></ul><p><strong>å®ƒä»¬ä¹Ÿæ˜¯åªè¯»å±æ€§,æ¯æ¬¡è®¿é—®éƒ½è¦é‡æ–°è®¡ç®—</strong></p><p><img src="JavaScript%E4%B8%ADoffset%E3%80%81client%E3%80%81scroll/4.png" alt="JavaScriptä¸­offsetã€clientã€scroll.md"></p><h2 id="scroll"><a href="#scroll" class="headerlink" title="scroll"></a>scroll</h2><p>scroll: æ»šåŠ¨å¤§å°<br>å®ƒæŒ‡çš„æ˜¯æ»šåŠ¨å†…å®¹çš„å…ƒç´ çš„å¤§å°.<br>æœ‰äº›å…ƒç´ (æ¯”å¦‚<code>&lt;html&gt;</code>),å³ä½¿æ²¡æœ‰æ‰§è¡Œä»»ä½•ä»£ç ä¹Ÿèƒ½è‡ªåŠ¨åœ°æ·»åŠ æ»šåŠ¨æ¡;æœ‰äº›å…ƒç´ éœ€è¦é€šè¿‡è®¾ç½®CSSçš„<code>overflow</code>å±æ€§æ‰èƒ½æ»šåŠ¨.</p><p>é€šè¿‡ä»¥ä¸‹4ä¸ªå±æ€§å¯ä»¥å–å¾—æ»šåŠ¨çš„ç›¸å…³å±æ€§:</p><ul><li>scrollHeight: åœ¨æ²¡æœ‰æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹,å…ƒç´ å®é™…å†…å®¹çš„æ€»é«˜åº¦</li><li>scrollWidth: åœ¨æ²¡æœ‰æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹,å…ƒç´ å®é™…å†…å®¹çš„æ€»å®½åº¦</li><li>scrollLeft: è¢«éšè—åœ¨å†…å®¹åŒºåŸŸå·¦ä¾§çš„åƒç´ æ•°,è®¾ç½®è¯¥å±æ€§å¯ä»¥æ”¹å˜å…ƒç´ çš„æ»šåŠ¨ä½ç½®</li><li>scrollTop: è¢«éšè—åœ¨å†…å®¹åŒºåŸŸä¸Šæ–¹çš„åƒç´ æ•°,è®¾ç½®è¯¥å±æ€§å¯ä»¥æ”¹å˜å…ƒç´ çš„æ»šåŠ¨ä½ç½®</li></ul><p><strong>é€šå¸¸è®¤ä¸º<code>&lt;html&gt;</code>å…ƒç´ æ˜¯åœ¨webæµè§ˆå™¨çš„è§†å£ä¸­æ»šåŠ¨çš„å…ƒç´ ,æ‰€ä»¥å¸¦æœ‰å‚ç›´æ»šåŠ¨æ¡çš„é¡µé¢æ€»é«˜åº¦å°±æ˜¯<code>document.documentElement.scrollHeight</code>.</strong></p><p><img src="JavaScript%E4%B8%ADoffset%E3%80%81client%E3%80%81scroll/5.png" alt="JavaScriptä¸­offsetã€clientã€scroll.md"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ç›´å‡»æœ¬è´¨â€”â€”è¯»ä¹¦ç¬”è®°</title>
    <link href="http://example.com/2020/05/03/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0--%E7%9B%B4%E5%87%BB%E6%9C%AC%E8%B4%A8/"/>
    <id>http://example.com/2020/05/03/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0--%E7%9B%B4%E5%87%BB%E6%9C%AC%E8%B4%A8/</id>
    <published>2020-05-03T07:19:12.000Z</published>
    <updated>2021-08-07T05:59:13.622Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p><img src="%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0--%E7%9B%B4%E5%87%BB%E6%9C%AC%E8%B4%A8/%E7%9B%B4%E5%87%BB%E6%9C%AC%E8%B4%A8%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.JPG" alt="è¯»ä¹¦ç¬”è®°--ç›´å‡»æœ¬è´¨.md"></p><p>è¿™æœ¬ä¹¦è®©æˆ‘å—ç›Šå¾ˆå¤šï¼Œæ€ç»´å¯¼å›¾åˆ†äº«ç»™å¤§å®¶ã€‚<br>ä»¥ä¸‹å†å®Œå–„ä¸€äº›æ¦‚å¿µï¼š</p><ul><li>è¿ç§»æ€è€ƒï¼šè¿ç§»æ€è€ƒæ˜¯å…ˆæ‰¾åˆ°ç»è¿‡æŠ½è±¡ä¸å½“å‰é—®é¢˜â€œè¡¨é¢ä¸åŒã€æœ¬è´¨ç›¸ä¼¼â€çš„é—®é¢˜ï¼Œé€šè¿‡å€Ÿç”¨å‰é¢é—®é¢˜çš„è§£å†³æ–¹æ³•ï¼Œè§£å†³å½“ä¸‹é—®é¢˜çš„æ€ç»´æ–¹å¼ã€‚å®ƒçš„è¿ç§»å¯¹è±¡ä¸»è¦æ˜¯æ€ç»´æ¨¡å‹å’Œåº•å±‚é€»è¾‘ã€‚</li><li>å‡ç»´æ€è€ƒï¼šè·³å‡ºçœ¼å‰é—®é¢˜çš„é™åˆ¶å’Œå¸¸è§„è§£æ³•ï¼Œé€šè¿‡å±‚çº§ã€æ—¶é—´ã€è§†è§’ã€è¾¹ç•Œã€ä½ç½®ã€ç»“æ„çš„å˜æ¢ï¼Œé‡æ–°æ€è€ƒé—®é¢˜åŠå…¶è§£å†³ä¹‹é“çš„æ€è€ƒæ–¹å¼ã€‚å‡ç»´æ€è€ƒçš„æœ¬è´¨æ˜¯å¯¹ä»·å€¼è§‚ã€äººç”Ÿè§‚ã€ä¸–ç•Œè§‚çš„é‡æ–°å®¡è§†ï¼Œæ‹“å±•åŠé‡å¡‘ã€‚æ¯”å¦‚ï¼Œå±‚çº§æ€è€ƒæ³•å’Œæ—¶é—´è½´æ€è€ƒæ³•æ˜¯å¯¹è‡ªæˆ‘ä»·å€¼è§‚çš„å®¡è§†ï¼Œè§†è§’æ€è€ƒæ³•æ˜¯å¯¹ä¸–ç•Œè§‚çš„æ‹“å±•å’Œé‡å¡‘ï¼Œæ— è¾¹ç•Œæ€è€ƒæ³•æ˜¯å¯¹äººç”Ÿè§‚çš„æ‹“å±•å’Œé‡å¡‘ã€‚</li><li>é€†å‘æ€ç»´ï¼šå®ƒæ˜¯å¯¹å¸ç©ºè§æƒ¯çš„ã€ä¼¼ä¹å·²æˆå®šè®ºçš„äº‹ç‰©æˆ–è§‚ç‚¹åè¿‡æ¥æ€è€ƒçš„ä¸€ç§æ€ç»´æ–¹å¼ã€‚</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%</summary>
      
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="http://example.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="http://example.com/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    <category term="æ–‡å­¦" scheme="http://example.com/tags/%E6%96%87%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptä¸­Objectå¸¸ç”¨æ–¹æ³•</title>
    <link href="http://example.com/2020/04/30/JavaScript%E4%B8%ADObject%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/"/>
    <id>http://example.com/2020/04/30/JavaScript%E4%B8%ADObject%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/</id>
    <published>2020-04-30T14:34:24.000Z</published>
    <updated>2021-08-07T05:59:13.833Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>æœ¬ç¯‡æ–‡ç« å°šæœªå®Œæˆ!!</p><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p><code>Object</code>æ˜¯<code>JavaScript</code>ä¸­æ ‡å‡†å†…ç½®å¯¹è±¡ï¼Œå®ƒéå¸¸å¼ºå¤§ï¼Œè™½ç„¶åœ¨æ—¥å¸¸å¼€å‘ä¸­å´ç”¨çš„ä¸å¤šï¼Œä½†ååˆ†æœ‰å¿…è¦æ·±å…¥å­¦ä¹ ã€‚</p><h3 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create()"></a>Object.create()</h3><p>è¯¥æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æä¾›æ–°åˆ›å»ºå¯¹è±¡çš„__proto__.<br><code>Object.create(proto[, propertiesObject])</code><br>å‚æ•°ï¼š</p><ul><li>protoä¸ºæ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹å¯¹è±¡</li><li>propertiesObjectå¯é€‰ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šä¸ºundefinedï¼Œè¿™æ ·ä¼šæ·»åŠ åˆ°æ–°åˆ›å»ºå¯¹è±¡çš„ä¸å¯æšä¸¾ï¼ˆé»˜è®¤ï¼‰å±æ€§ï¼ˆå³å…¶è‡ªèº«å®šä¹‰çš„å±æ€§ï¼Œè€Œä¸æ˜¯å…¶åŸå‹é“¾ä¸Šçš„æšä¸¾å±æ€§ï¼‰å¯¹è±¡çš„å±æ€§æè¿°ç¬¦ä»¥åŠå“åº”çš„å±æ€§åç§°ã€‚<br>è¿”å›å€¼ï¼š</li><li>ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¸¦ç€æŒ‡å®šåŸå‹å¯¹è±¡å’Œå±æ€§</li></ul><h3 id="Object-defineProperty"><a href="#Object-defineProperty" class="headerlink" title="Object.defineProperty()"></a>Object.defineProperty()</h3><p>è¯¥æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›æ­¤å¯¹è±¡ã€‚</p><p>å…ˆçœ‹çœ‹å¸¸ç”¨çš„å¯¹è±¡å®šä¹‰å±æ€§å¹¶èµ‹å€¼çš„å†™æ³•ï¼šå¯†ç ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œã€‚xcccccccccccccccccc.mpo[yup]</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">obj.name = <span class="string">&#x27;Cola&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">// &#123; name: &#x27;Cola&#x27; &#125;</span></span><br><span class="line"><span class="string">``</span><span class="string">``</span></span><br><span class="line">è¿™ç§æ–¹å¼ç®€å•ç²—æš´ï¼Œä½†æ˜¯å¯¹è±¡å±æ€§çš„å€¼å¯ä»¥æƒ³æ”¹å°±æ”¹ï¼Œæƒ³åˆ å°±åˆ ï¼š</span><br><span class="line"><span class="string">``</span><span class="string">`javascript</span></span><br><span class="line"><span class="string">let obj = &#123;&#125;;</span></span><br><span class="line"><span class="string">obj.name = &#x27;Cola&#x27;;</span></span><br><span class="line"><span class="string">console.log(obj);// &#123; name: &#x27;Cola&#x27; &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">obj.name = &#x27;Coca cola&#x27;;</span></span><br><span class="line"><span class="string">console.log(obj);// &#123; name: &#x27;Coca cola&#x27; &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">delete obj.name;</span></span><br><span class="line"><span class="string">console.log(obj);// &#123;&#125;</span></span><br></pre></td></tr></table></figure><p>å†æ¥çœ‹çœ‹<code>Object.defineProperty(obj, prop, descriptor)</code><br>å‚æ•°ï¼š</p><ul><li>objä¸ºè¦å®šä¹‰å±æ€§çš„å¯¹è±¡</li><li>propä¸ºè¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°æˆ–Symbol</li><li>descriptorä¸ºè¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦<br>è¿”å›å€¼ï¼š</li><li>è¢«ä¼ é€’ç»™å‡½æ•°çš„å¯¹è±¡</li></ul><p><strong>ES6æ–°å¢Symbolç±»å‹ï¼Œï¼Œç”±äºå®ƒç‹¬ä¸€æ— äºŒçš„ç‰¹æ€§ï¼Œå¯ä»¥ç”¨è¯¥ç±»å‹ä½œä¸ºå¯¹è±¡çš„key</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.name);<span class="comment">// Cola</span></span><br><span class="line"></span><br><span class="line">obj.name = <span class="string">&#x27;Coca cola&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);<span class="comment">// Cola</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> obj.name;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);<span class="comment">// Cola</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡å®è·µå‘ç°ä»¥è¿™æ ·çš„å†™æ³•å®šä¹‰çš„å±æ€§æ˜¯æ— æ³•è¢«ä¿®æ”¹å’Œåˆ é™¤çš„ï¼Œä¸”è®¿é—®å¯¹è±¡ä¸ºç©ºã€‚<br>è¦æƒ³å’Œæˆ‘ä»¬å¸¸è§„å†™æ³•è¾¾åˆ°ç›¸åŒçš„æ•ˆæœï¼Œè¿˜éœ€è¦ä¿®æ”¹å±æ€§æè¿°ç¬¦ã€‚<br>å¯¹è±¡é‡Œç›®å‰å­˜åœ¨çš„å±æ€§æè¿°ç¬¦æœ‰ä¸¤ç§ä¸»è¦å½¢å¼ï¼š<strong>æ•°æ®æè¿°ç¬¦</strong>å’Œ<strong>å­˜å–æè¿°ç¬¦</strong>ï¼Œç”¨ä¸€å¼ è¡¨æ¥åŒºåˆ†äºŒè€…åŒºåˆ«ï¼š<br>|   |configurable   |enumerable   |value   |writable   |get   |set   |<br>| â€”â€”â€”â€” | â€”â€”â€”â€” | â€”â€”â€”â€” | â€”â€”â€”â€” | â€”â€”â€”â€” | â€”â€”â€”â€” | â€”â€”â€”â€” |<br>| æ•°æ®æè¿°ç¬¦  |âˆš   |âˆš   |âˆš   |âˆš   |Ã—   |Ã—   |<br>| å­˜å–æè¿°ç¬¦  |âˆš   |âˆš   |Ã—   |Ã—   |âˆš   |âˆš   |<br>å¦‚æœä¸€ä¸ªæè¿°ç¬¦ä¸å…·å¤‡<code>value</code>ã€<code>enumerable</code>ã€<code>writable</code>ã€<code>configurable</code>ä»»æ„ä¸€ä¸ªé”®ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ•°æ®æè¿°ç¬¦ï¼›<br>å¦‚æœä¸€ä¸ªæè¿°ç¬¦åŒæ—¶æ‹¥æœ‰<code>value</code>æˆ–<code>writable</code>å’Œ<code>get</code>ã€<code>set</code>ï¼Œåˆ™ä¼šäº§ç”Ÿä¸€ä¸ªå¼‚å¸¸ã€‚</p><p>ä¸‹é¢å†æ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">// &#123; name: &#x27;Cola&#x27; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.name);<span class="comment">// Cola</span></span><br><span class="line"></span><br><span class="line">obj.name = <span class="string">&#x27;Coca cola&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);<span class="comment">// Coca cola</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> obj.name;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);<span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°objå¯¹è±¡å’Œæˆ‘ä»¬ä»¥å¸¸ç”¨å†™æ³•è¾¾åˆ°çš„æ•ˆæœä¸€æ ·ï¼Œè¿™æ˜¯å› ä¸º<code>enumerable</code>æè¿°ç¬¦èƒ½å¤Ÿæ§åˆ¶å¯¹è±¡å±æ€§æ˜¯å¦å¯æšä¸¾;<code>writable</code>æè¿°ç¬¦èƒ½å¤Ÿæ§åˆ¶å¯¹è±¡å±æ€§æ˜¯å¦å¯å†™ï¼Œä¹Ÿå°±æ˜¯è¦†ç›–;<code>configurable</code>æè¿°ç¬¦èƒ½å¤Ÿæ§åˆ¶å¯¹è±¡å±æ€§æ˜¯å¦å¯é…ç½®ï¼Œä¹Ÿå°±æ˜¯å°†å±æ€§ä»å¯¹è±¡ä¸Šåˆ é™¤ã€‚<br>è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼šé™¤äº†<code>value</code>æè¿°ç¬¦ï¼Œå…¶ä»–æ•°æ®æè¿°ç¬¦çš„å€¼é»˜è®¤ä¸º<code>false</code>ã€‚</p><p>é‚£<code>get</code>å’Œ<code>set</code>å‘¢ï¼Œå†çœ‹çœ‹ä»¥ä¸‹çš„ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;Cola&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;&#125;,</span><br><span class="line">    <span class="function"><span class="title">set</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// TypeError: Invalid property descriptor. Cannot both specify accessors and a value or writable attribute </span></span><br></pre></td></tr></table></figure><p>å¯¹ç…§å‰æ–‡çš„è¡¨æ ¼ï¼Œä»£ç æŠ›å‡ºå¼‚å¸¸ï¼Œè¯å®äº†<code>value</code>æˆ–<code>writable</code>å’Œ<code>get</code>ã€<code>set</code>ä¸èƒ½åŒæ—¶å‡ºç°ã€‚<br>é‚£æ€ä¹ˆä½¿ç”¨å‘¢ï¼ŒæŒ‰ç…§å¼‚å¸¸æç¤ºä¿¡æ¯ï¼Œåˆ æ‰<code>value</code>å’Œ<code>writable</code>æè¿°ç¬¦ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;get!&#x27;</span>);</span><br><span class="line">        <span class="comment">// return obj;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">set</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">// &#123; name: [Getter/Setter] &#125;</span></span><br><span class="line">obj.name;<span class="comment">// get!</span></span><br><span class="line">obj.name = <span class="string">&#x27;Coca cola&#x27;</span>;<span class="comment">// Coca cola</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢ä»£ç ä¸­ï¼Œæ¯æ¬¡è®¿é—®<code>obj.name</code>æ€»æ˜¯è¿”å›åŒä¸€ä¸ªå€¼ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å¯¹è¿™ä¸ªå±æ€§åšäº†ç‰¹æ®Šå¤„ç†ï¼Œä¹Ÿå°±æ˜¯getæ–¹æ³•åšçš„äº‹æƒ…ï¼›æ¯æ¬¡å¯¹<code>obj.name</code>è¿›è¡Œèµ‹å€¼æ“ä½œï¼Œæ§åˆ¶å°æ€»æ˜¯æ‰“å°æ­¤æ¬¡èµ‹å€¼çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯setæ–¹æ³•åšçš„äº‹æƒ…ã€‚</p><h3 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h3><p>è¯¥æ–¹æ³•æ˜¯ES6æ–°æ·»åŠ çš„æ–¹æ³•ï¼Œç”¨äºå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼Œè¿”å›ç›®æ ‡å¯¹è±¡ã€‚<br><code>Object.assign(target, ...sources)</code><br>å‚æ•°ï¼š</p><ul><li>targetä¸ºç›®æ ‡å¯¹è±¡</li><li>sourcesä¸ºæºå¯¹è±¡<br>è¿”å›å€¼ï¼š</li><li>ç›®æ ‡å¯¹è±¡<br>ç”¨æ³•ç¤ºä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> manA = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;manA&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">23</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(manA, &#123;</span><br><span class="line">    <span class="string">&#x27;address&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;China&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;height&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;1.8m&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> manB = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;manB&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">13</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> manC = <span class="built_in">Object</span>.assign(&#123;&#125;, manA, manB, <span class="literal">null</span>, <span class="literal">undefined</span>);</span><br><span class="line"><span class="built_in">console</span>.log(manC);<span class="comment">// &#123; name: &#x27;manB&#x27;, age: 13, address: &#x27;China&#x27; &#125;</span></span><br></pre></td></tr></table></figure>å®è·µåå¯ä»¥å¾—å‡ºç»“è®ºï¼š</li><li>è¯¥æ–¹æ³•åªæ‹·è´æºå¯¹è±¡è‡ªèº«çš„å¹¶ä¸”å¯æšä¸¾çš„å±æ€§åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆå…¶å†…éƒ¨ä½¿ç”¨æºå¯¹è±¡å­˜å–æè¿°ç¬¦<code>get()</code>å’Œç›®æ ‡å¯¹è±¡çš„<code>set()</code>æ–¹æ³•ï¼Œå› æ­¤å®ƒä¼šè°ƒç”¨ç›¸å…³æ–¹æ³•ï¼‰ã€‚</li><li>è¯¥æ–¹æ³•ä¸ä¼šå› ä¸ºsourceså‚æ•°ä¸º<code>null</code>æˆ–<code>undefined</code>è€ŒæŠ¥é”™ã€‚</li></ul><p>æ·±æ‹·è´é—®é¢˜ï¼š<br><code>Object.assign()</code>æ–¹æ³•åªèƒ½å®ç°æµ…æ‹·è´ï¼šå‡å¦‚æºå¯¹è±¡çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œé‚£ä¹ˆè¿”å›å€¼ä¸­è¯¥å±æ€§å€¼ä¹Ÿç›´æŒ‡å‘è¿™ä¸ªå¼•ç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> manA = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;manA&#x27;</span>,</span><br><span class="line">    <span class="attr">address</span>: &#123;</span><br><span class="line">        <span class="attr">region</span>: <span class="string">&#x27;Asia&#x27;</span>,</span><br><span class="line">        <span class="attr">nationality</span>: <span class="string">&#x27;China&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> manB = <span class="built_in">Object</span>.assign(&#123;&#125;, manA);</span><br><span class="line"><span class="built_in">console</span>.log(manB);<span class="comment">// &#123; name: &#x27;manA&#x27;, address: &#123; region: &#x27;Asia&#x27;, nationality: &#x27;China&#x27; &#125; &#125;</span></span><br><span class="line">manB.address.nationality = <span class="string">&#x27;Japan&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(manA)ï¼›<span class="comment">// &#123; name: &#x27;manA&#x27;, address: &#123; region: &#x27;Asia&#x27;, nationality: &#x27;Japan&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptä¸­çš„é˜²æŠ–å’ŒèŠ‚æµ</title>
    <link href="http://example.com/2020/04/28/JavaScript%E4%B8%AD%E7%9A%84%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81/"/>
    <id>http://example.com/2020/04/28/JavaScript%E4%B8%AD%E7%9A%84%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81/</id>
    <published>2020-04-28T14:18:41.000Z</published>
    <updated>2021-08-07T05:59:13.785Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>é˜²æŠ–å’ŒèŠ‚æµæ˜¯ä¼˜åŒ–å‰ç«¯æ€§èƒ½çš„ä¸€ç§æ‰‹æ®µã€‚<br>ä»¥ä¸‹æƒ…å†µå¯ä»¥è€ƒè™‘ä½¿ç”¨é˜²æŠ–å’ŒèŠ‚æµï¼š</p><ul><li>DOM é¢‘ç¹é‡ç»˜</li><li>é¢‘ç¹è¯·æ±‚åç«¯æ¥å£</li><li>æµè§ˆå™¨çš„ resizeã€scrollï¼ˆé€‚åˆç”¨èŠ‚æµï¼‰</li><li>é¼ æ ‡çš„ mounsemoveã€mouseoverï¼ˆé€‚åˆç”¨èŠ‚æµï¼‰</li><li>input è¾“å…¥æ¡†çš„ keypressï¼ˆé€‚åˆç”¨é˜²æŠ–ï¼‰</li></ul><h2 id="é˜²æŠ–-debounce"><a href="#é˜²æŠ–-debounce" class="headerlink" title="é˜²æŠ–(debounce)"></a>é˜²æŠ–(debounce)</h2><p>æ ¸å¿ƒæ€æƒ³ï¼šå½“äº‹ä»¶è¢«è§¦å‘ï¼Œå»¶è¿Ÿ n ç§’åæ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œå¦‚æœåœ¨ n ç§’å†…å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶å»¶è¿Ÿæ—¶é—´ã€‚</p><p>ä»£ç å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> timer;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">var</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">    timer &amp;&amp; <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      fn.apply(that, args);</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h2><p>æ ¸å¿ƒæ€æƒ³ï¼šåœ¨è§„å®šçš„ä¸€ä¸ªå•ä½æ—¶é—´å†…åªèƒ½è§¦å‘ä¸€æ¬¡å‡½æ•°ï¼Œå¦‚æœåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…å‡ºå‘å¤šæ¬¡å‡½æ•°ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚</p><p>ä»£ç å®ç°:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> timer;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">var</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      fn.apply(that, args);</span><br><span class="line">      <span class="comment">// åœ¨æ‰§è¡Œå®Œfnåæ¸…ç©ºtimer,throttleè§¦å‘å¯ä»¥è¿›å…¥è®¡æ—¶å™¨</span></span><br><span class="line">      timer = <span class="literal">null</span>;</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="èŠ‚æµä¸é˜²æŠ–çš„å¼‚åŒ"><a href="#èŠ‚æµä¸é˜²æŠ–çš„å¼‚åŒ" class="headerlink" title="èŠ‚æµä¸é˜²æŠ–çš„å¼‚åŒ"></a>èŠ‚æµä¸é˜²æŠ–çš„å¼‚åŒ</h2><p>ç›¸åŒï¼šåœ¨ä¸€æ®µæ—¶é—´å†…é˜²æ­¢å‡½æ•°è¢«é¢‘ç¹è°ƒç”¨ï¼Œå‡å°‘èµ„æºæµªè´¹ï¼Œæå‡æ€§èƒ½ã€‚<br>ä¸åŒï¼šé˜²æŠ–æ˜¯å›ºå®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ï¼ŒèŠ‚æµæ˜¯é—´éš”å›ºå®šæ—¶é—´åæ‰§è¡Œã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#æ¦‚è¿°&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>MQTTåè®®è¯¦è§£</title>
    <link href="http://example.com/2020/04/26/MQTT%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/"/>
    <id>http://example.com/2020/04/26/MQTT%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/</id>
    <published>2020-04-26T05:18:56.000Z</published>
    <updated>2021-08-07T05:59:13.905Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>MQTT(Message Queuing Telemetry Transport,æ¶ˆæ¯é˜Ÿåˆ—é¥æµ‹ä¼ è¾“åè®®)ï¼Œæ˜¯ä¸€ç§åŸºäºå‘å¸ƒ/è®¢é˜…(public/subscribe)æ¨¡å¼çš„è½»é‡çº§ç‰©è”ç½‘æ¶ˆæ¯æ¨é€åè®®ã€‚<br>è¯¥åè®®æ„å»ºäºTCP/IPåè®®ä¸Šï¼Œæ˜¯ä¸ºç¡¬ä»¶æ€§èƒ½ä½ä¸‹çš„è¿œç¨‹è®¾å¤‡ä»¥åŠç½‘ç»œçŠ¶å†µç³Ÿç³•çš„æƒ…å†µä¸‹è€Œè®¾è®¡çš„åè®®ã€‚è¿™è®©å®ƒæˆä¸ºæ–°å…´çš„â€æœºå™¨åˆ°æœºå™¨ï¼ˆM2M)â€ï¼Œâ€ç‰©è”ç½‘(IoT)â€åœºæ™¯ä¸‹çš„ç†æƒ³é€‰æ‹©ã€‚</p><h2 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><ul><li>MQTTåè®®æ˜¯è½»é‡ã€ç®€å•ã€å¼€æ”¾å’Œæ˜“äºå®ç°çš„</li><li>æä¾›æœåŠ¡è´¨é‡ç®¡ç†</li><li>é‡‡ç”¨å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼Œæ–¹ä¾¿æ¶ˆæ¯ä¼ é€’</li><li>åŸºäºTCP/IPç½‘ç»œè¿æ¥ï¼Œæä¾›æœ‰åºï¼Œæ— æŸçš„åŒå‘è¿æ¥</li><li>å‡å¦‚æ•°æ®ä¸å¯çŸ¥ï¼Œä¸å¼ºæ±‚ä¼ è¾“æ•°æ®çš„ç±»å‹ä¸æ ¼å¼ï¼Œä¿æŒçµæ´»æ€§</li><li>1å­—èŠ‚å›ºå®šæŠ¥å¤´ï¼Œ2å­—èŠ‚å¿ƒè·³æŠ¥æ–‡ï¼Œæœ€å°åŒ–ä¼ è¾“å¼€é”€å’Œåè®®äº¤æ¢ï¼Œæœ‰æ•ˆå‡å°‘ç½‘ç»œæµé‡</li></ul><h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>MQTTåè®®å¹¿æ³›åº”ç”¨äºç‰©è”ç½‘ã€ç§»åŠ¨äº’è”ç½‘ã€æ™ºèƒ½ç¡¬ä»¶ã€è½¦è”ç½‘ã€ç”µåŠ›èƒ½æºç­‰é¢†åŸŸ</p><ul><li>ç‰©è”ç½‘M2Mé€šä¿¡ï¼Œç‰©è”ç½‘å¤§æ•°æ®é‡‡é›†</li><li>Androidæ¶ˆæ¯æ¨é€ï¼ŒWebæ¶ˆæ¯æ¨é€</li><li>ç§»åŠ¨å³æ—¶æ¶ˆæ¯ï¼Œä¾‹å¦‚Facebook Messenger</li><li>æ™ºèƒ½ç¡¬ä»¶ã€æ™ºèƒ½å®¶å±…</li><li>è½¦è”ç½‘é€šä¿¡ã€ç”µåŠ¨è½¦ç«™æ¡©é‡‡é›†</li><li>ç”µåŠ›ã€çŸ³æ²¹ä¸èƒ½æºç­‰è¡Œä¸šå¸‚åœº</li></ul><h2 id="ä¸»é¢˜å’Œè´Ÿè½½"><a href="#ä¸»é¢˜å’Œè´Ÿè½½" class="headerlink" title="ä¸»é¢˜å’Œè´Ÿè½½"></a>ä¸»é¢˜å’Œè´Ÿè½½</h2><p>MQTTä¼ è¾“çš„æ¶ˆæ¯åˆ†ä¸ºï¼šä¸»é¢˜ï¼ˆTopicï¼‰å’Œè´Ÿè½½ï¼ˆpayloadï¼‰</p><ul><li>Topicï¼šå¯ä»¥ç†è§£ä¸ºæ¶ˆæ¯çš„ç±»å‹ï¼Œè®¢é˜…è€…è®¢é˜…ï¼ˆSubscribe)åï¼Œå°±ä¼šæ”¶åˆ°è¯¥ä¸»é¢˜çš„æ¶ˆæ¯å†…å®¹ï¼ˆpayloadï¼‰</li><li>payloadï¼šå¯ä»¥ç†è§£ä¸ºæ¶ˆæ¯çš„å†…å®¹ï¼Œå¤±è‡´è®¢é˜…è€…å…·ä½“è¦ä½¿ç”¨çš„å†…å®¹</li></ul><h2 id="ä¸‰ç§æ¶ˆæ¯å‘å¸ƒæœåŠ¡è´¨é‡ï¼š"><a href="#ä¸‰ç§æ¶ˆæ¯å‘å¸ƒæœåŠ¡è´¨é‡ï¼š" class="headerlink" title="ä¸‰ç§æ¶ˆæ¯å‘å¸ƒæœåŠ¡è´¨é‡ï¼š"></a>ä¸‰ç§æ¶ˆæ¯å‘å¸ƒæœåŠ¡è´¨é‡ï¼š</h2><ul><li>è‡³å¤šä¸€æ¬¡ï¼šæ¶ˆæ¯å‘å¸ƒå®Œå…¨ä¾èµ–åº•å±‚TCP/IPç½‘ç»œï¼Œqos=0ã€‚ä¼šå‘ç”Ÿæ¶ˆæ¯ä¸¢å¤±æˆ–é‡å¤çš„æƒ…å†µï¼Œè¿™ä¸€çº§åˆ«å¯ç”¨äºå¦‚ä¸‹æƒ…å†µï¼Œç¯å¢ƒä¼ æ„Ÿå™¨æ•°æ®ï¼Œä¸¢å¤±ä¸€æ¬¡è¯»è®°å½•å½±å“ä¸å¤§</li><li>è‡³å°‘ä¸€æ¬¡ï¼šç¡®ä¿æ¶ˆæ¯åˆ°è¾¾ï¼Œqos=1ã€‚ä½†æ¶ˆæ¯é‡å¤å¯èƒ½ä¼šå‘ç”Ÿ</li><li>åªæœ‰ä¸€æ¬¡ï¼šç¡®ä¿æ¶ˆæ¯åˆ°åº•ä¸€æ¬¡ï¼Œqos=2ã€‚</li></ul><h2 id="åè®®åŸç†"><a href="#åè®®åŸç†" class="headerlink" title="åè®®åŸç†"></a>åè®®åŸç†</h2><ul><li><p>å®ç°æ–¹å¼<br><img src="./MQTT%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/1.jpg" alt="MQTTåè®®è¯¦è§£.md"><br>MQTTåè®®å…·æœ‰ä¸‰ç§èº«ä»½ï¼šå‘å¸ƒè€…ï¼ˆPublish)ã€ä»£ç†ï¼ˆBroker)ï¼ˆæœåŠ¡å™¨ï¼‰ã€è®¢é˜…è€…ï¼ˆSubscribeï¼‰<br>å…¶ä¸­ï¼Œæ¶ˆæ¯çš„å‘å¸ƒè€…å’Œè®¢é˜…è€…éƒ½æ˜¯å®¢æˆ·ç«¯ï¼Œæ¶ˆæ¯ä»£ç†æ˜¯æœåŠ¡å™¨ã€‚æ¶ˆæ¯çš„å‘å¸ƒè€…å¯ä»¥åŒæ—¶æ˜¯è®¢é˜…è€…</p></li><li><p>ç½‘ç»œä¼ è¾“ä¸åº”ç”¨æ¶ˆæ¯<br>MQTTä¼šæ„å»ºåº•å±‚ç½‘ç»œä¼ è¾“ï¼šå®ƒå°†ç®€å†å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„è¿æ¥ï¼Œæä¾›ä¸¤è€…ä¹‹é—´çš„ä¸€ä¸ªæœ‰åºçš„ã€æ— æŸçš„ã€åŸºäºå­—èŠ‚æµçš„åŒå‘ä¼ è¾“ã€‚<br>å½“åº”ç”¨æ•°æ®é€šè¿‡MQTTç½‘ç»œå‘é€æ—¶ï¼ŒMQTTä¼šæŠŠä¸ä¹‹ç›¸å…³çš„æœåŠ¡è´¨é‡ï¼ˆQoSï¼‰å’Œä¸»é¢˜åï¼ˆTopicï¼‰ç›¸å…³è”ã€‚</p></li><li><p>MQTTå®¢æˆ·ç«¯<br>ä¸€ä¸ªä½¿ç”¨MQTTåè®®çš„åº”ç”¨ç¨‹åºæˆ–è€…è®¾å¤‡ï¼Œå®ƒæ€»æ˜¯å»ºç«‹åˆ°æœåŠ¡å™¨çš„ç½‘ç»œè¿æ¥ã€‚å®¢æˆ·ç«¯å¯ä»¥ï¼š</p><ul><li>å‘å¸ƒå…¶ä»–å®¢æˆ·ç«¯å¯èƒ½ä¼šè®¢é˜…çš„æ¶ˆæ¯</li><li>è®¢é˜…å…¶ä»–å®¢æˆ·ç«¯å‘å¸ƒçš„æ¶ˆæ¯</li><li>é€€è®¢æˆ–åˆ é™¤åº”ç”¨ç¨‹åºçš„æ¶ˆæ¯</li><li>æ–­å¼€ä¸æœåŠ¡å™¨è¿æ¥</li></ul></li><li><p>MQTTæœåŠ¡ç«¯<br>MQTTæœåŠ¡å™¨å·²ç§°ä¸ºâ€æ¶ˆæ¯ä»£ç†â€(Broker)ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºæˆ–ä¸€å°è®¾å¤‡ã€‚å®ƒä½äºæ¶ˆæ¯å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸­é—´ï¼Œå®ƒå¯ä»¥ï¼š</p><ul><li>æ¥å—æ¥è‡ªå®¢æˆ·çš„ç½‘ç»œè¿æ¥</li><li>æ¥å—å®¢æˆ·å‘å¸ƒçš„åº”ç”¨æ¶ˆæ¯</li><li>å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„è®¢é˜…å’Œé€€è®¢è¯·æ±‚</li><li>å‘è®¢é˜…çš„å®¢æˆ·è½¬å‘åº”ç”¨ç¨‹åºæ¶ˆæ¯</li></ul></li><li><p>MQTTåè®®ä¸­çš„è®¢é˜…ã€ä¸»é¢˜ã€ä¼šè¯</p><ul><li>è®¢é˜…ï¼ˆSubscriptionï¼‰<br>è®¢é˜…åŒ…å«ä¸»é¢˜ç­›é€‰å™¨ï¼ˆTopic Filterï¼‰å’Œæœ€å¤§æœåŠ¡è´¨é‡ï¼ˆQoSï¼‰ã€‚è®¢é˜…ä¼šä¸ä¸€ä¸ªä¼šè¯ï¼ˆSessionï¼‰å…³è”ã€‚ä¸€ä¸ªä¼šè¯å¯ä»¥åŒ…å«å¤šä¸ªè®¢é˜…ã€‚æ¯ä¸ªä¼šè¯ä¸­çš„æ¯ä¸ªè®¢é˜…éƒ½æœ‰ä¸€ä¸ªä¸åŒçš„ä¸»é¢˜ç­›é€‰å™¨ã€‚</li><li>ä¼šè¯ï¼ˆSessionï¼‰<br>æ¯ä¸ªå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥åå°±æ˜¯ä¸€ä¸ªä¼šè¯ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´æœ‰çŠ¶æ€äº¤äº’ã€‚ç»˜ç”»å­˜åœ¨äºä¸€ä¸ªç½‘ç»œä¹‹é—´ï¼Œä¹Ÿå¯èƒ½åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´è·¨è¶Šå¤šä¸ªè¿ç»­çš„ç½‘ç»œè¿æ¥ã€‚</li><li>ä¸»é¢˜åï¼ˆTopic Nameï¼‰<br>è¿æ¥åˆ°ä¸€ä¸ªåº”ç”¨ç¨‹åºæ¶ˆæ¯çš„æ ‡ç­¾ï¼Œå¦‚æœè¯¥æ ‡ç­¾ä¸æœåŠ¡å™¨çš„è®¢é˜…ç›¸åŒ¹é…ï¼ŒæœåŠ¡å™¨å°±ä¼šå°†æ¶ˆæ¯å‘é€ç»™è®¢é˜…æ‰€åŒ¹é…æ ‡ç­¾çš„å®¢æˆ·ç«¯ã€‚</li><li>ä¸»é¢˜ç­›é€‰å™¨ï¼ˆTopic Filterï¼‰<br>ä¸€ä¸ªå¯¹ä¸»é¢˜åé€šé…ç¬¦ç­›é€‰å™¨ï¼Œåœ¨è®¢é˜…è¡¨è¾¾å¼ä¸­ä½¿ç”¨ï¼Œè¡¨ç¤ºè®¢é˜…æ‰€åŒ¹é…åˆ°çš„å¤šä¸ªä¸»é¢˜ã€‚</li></ul></li><li><p>MQTTåè®®ä¸­çš„æ–¹æ³•<br>MQTTåè®®ä¸­å®šä¹‰äº†ä¸€äº›æ–¹æ³•ï¼Œä¹Ÿè¢«ç§°ä¹‹ä¸ºåŠ¨ä½œï¼Œæ¥è¡¨ç¤ºå¯¹äºç¡®å®šèµ„æºè¿›è¡Œçš„æ“ä½œã€‚èµ„æºå¯ä»¥æ˜¯é¢„å…ˆå­˜åœ¨çš„æ•°æ®æˆ–è€…åŠ¨æ€ç”Ÿæˆçš„æ•°æ®ï¼Œè¿™å–å†³äºæœåŠ¡å™¨çš„å®ç°ï¼Œé€šå¸¸æ¥è¯´ï¼Œèµ„æºæŒ‡æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æˆ–è¾“å‡ºã€‚ä¸»è¦æ–¹æ³•æœ‰ï¼š</p><ul><li>Connectï¼šç­‰å¾…ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥</li><li>Disconnectï¼šç­‰å¾…MQTTå®¢æˆ·ç«¯å®Œæˆæ‰€ä½œçš„å·¥ä½œï¼Œå¹¶ä¸æœåŠ¡å™¨æ–­å¼€TCP/IPä¼šè¯</li><li>Subscribe:ç­‰å¾…å®Œæˆè®¢é˜…</li><li>UnSubscribe:ç­‰å¾…æœåŠ¡å™¨å–æ¶ˆå®¢æˆ·ç«¯çš„ä¸€ä¸ªæˆ–å¤šä¸ªtopicsè®¢é˜…</li><li>Publishï¼šMQTTå®¢æˆ·ç«¯å‘é€æ¶ˆæ¯è¯·æ±‚ï¼Œå‘é€å®Œæˆåè¿”å›åº”ç”¨ç¨‹åºçº¿ç¨‹</li></ul></li></ul><h2 id="MQTTåè®®æ•°æ®åŒ…ç»“æ„"><a href="#MQTTåè®®æ•°æ®åŒ…ç»“æ„" class="headerlink" title="MQTTåè®®æ•°æ®åŒ…ç»“æ„"></a>MQTTåè®®æ•°æ®åŒ…ç»“æ„</h2><p>åœ¨MQTTåè®®ä¸­ï¼Œä¸€ä¸ªMQTTæ•°æ®åŒ…ç”±ï¼šå›ºå®šå¤´ï¼ˆFixed headerï¼‰ã€å¯å˜å¤´ï¼ˆVaribale headerï¼‰ã€æ¶ˆæ¯ä½“ï¼ˆpayloadï¼‰ä¸‰éƒ¨åˆ†æ„æˆã€‚</p><ul><li><p>å›ºå®šå¤´ï¼ˆFixed headerï¼‰ï¼šå­˜åœ¨äºæ‰€æœ‰MQTTæ•°æ®åŒ…ä¸­ï¼Œè¡¨ç¤ºæ•°æ®åŒ…ç±»å‹åŠæ•°æ®åŒ…çš„åˆ†ç»„ç±»æ ‡è¯†<br><img src="MQTT%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/2.jpg" alt="MQTTåè®®è¯¦è§£.md"><br>æ•°æ®åŒ…ç±»å‹ä¸ºbyte 1ä¸­bits7-4,ç›¸å½“äºä¸€ä¸ª4ä½çš„æ— ç¬¦å·å€¼ï¼Œç±»å‹å¦‚ä¸‹ï¼š<br><img src="MQTT%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/3.jpg" alt="MQTTåè®®è¯¦è§£.md"><br>æ ‡è¯†ä½ä¸ºbyte 1ä¸­bits3-0,åœ¨ä¸ä½¿ç”¨æ ‡è¯†ä½çš„æ¶ˆæ¯ç±»å‹ä¸­ï¼Œæ ‡è¯†ä½è¢«åšä¸ºä¿ç•™ä½ã€‚å¦‚æœæ”¶åˆ°æ— æ•ˆçš„æ ‡å¿—æ—¶ï¼Œæ¥æ”¶ç«¯å¿…é¡»å…³é—­ç½‘ç»œè¿æ¥ï¼š<br><img src="MQTT%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/4.jpg" alt="MQTTåè®®è¯¦è§£.md"></p><ul><li>DUPï¼šå‘å¸ƒæ¶ˆæ¯çš„å‰¯æœ¬ï¼Œç”¨æ¥ä¿è¯æ¶ˆæ¯çš„å¯é ä¼ è¾“ã€‚å¦‚æœè®¾ç½®ä¸º 1ï¼Œåˆ™åœ¨ä¸‹é¢çš„å˜é•¿ä¸­å¢åŠ MessageIdï¼Œå¹¶ä¸”éœ€è¦å›å¤ç¡®è®¤ï¼Œä»¥ä¿è¯æ¶ˆæ¯ä¼ è¾“å®Œæˆï¼Œä½†ä¸èƒ½ç”¨äºæ£€æµ‹æ¶ˆæ¯é‡å¤å‘é€</li><li>QoSï¼šå‘å¸ƒæ¶ˆæ¯çš„æœåŠ¡è´¨é‡ï¼Œå³ï¼šä¿è¯æ¶ˆæ¯ä¼ é€’çš„æ¬¡æ•°<ul><li>00ï¼šæœ€å¤šä¸€æ¬¡ï¼Œå³ï¼š&lt;=1</li><li>01ï¼šè‡³å°‘ä¸€æ¬¡ï¼Œå³ï¼š&gt;=1</li><li>10ï¼šä¸€æ¬¡ï¼Œå³ï¼š=1</li><li>11ï¼šé¢„ç•™</li></ul></li><li>RETAINï¼š å‘å¸ƒä¿ç•™æ ‡è¯†ï¼Œè¡¨ç¤ºæœåŠ¡å™¨è¦ä¿ç•™è¿™æ¬¡æ¨é€çš„ä¿¡æ¯ï¼Œå¦‚æœæœ‰æ–°çš„è®¢é˜…è€…å‡ºç°ï¼Œå°±æŠŠè¿™æ¶ˆæ¯æ¨é€ç»™å®ƒï¼Œå¦‚æœè®¾æœ‰é‚£ä¹ˆæ¨é€è‡³å½“å‰è®¢é˜…è€…åé‡Šæ”¾<br>å‰©ä½™é•¿åº¦ï¼ˆRemaining Lengthï¼‰<br>å›ºå®šå¤´çš„ç¬¬äºŒå­—èŠ‚ç”¨æ¥ä¿å­˜å˜é•¿å¤´éƒ¨å’Œæ¶ˆæ¯ä½“çš„æ€»å¤§å°çš„ï¼Œä½†ä¸æ˜¯ç›´æ¥ä¿å­˜çš„ã€‚è¿™ä¸€å­—èŠ‚æ˜¯å¯ä»¥æ‰©å±•ï¼Œå…¶ä¿å­˜æœºåˆ¶ï¼Œå‰7ä½ç”¨äºä¿å­˜é•¿åº¦ï¼Œåä¸€éƒ¨ç”¨åšæ ‡è¯†ã€‚å½“æœ€åä¸€ä½ä¸º 1æ—¶ï¼Œè¡¨ç¤ºé•¿åº¦ä¸è¶³ï¼Œéœ€è¦ä½¿ç”¨äºŒä¸ªå­—èŠ‚ç»§ç»­ä¿å­˜ã€‚</li></ul></li><li><p>å¯å˜å¤´ï¼ˆVaribale headerï¼‰ï¼šå­˜åœ¨äºéƒ¨åˆ†MQTTæ•°æ®åŒ…ä¸­ï¼Œæ•°æ®åŒ…ç±»å‹å†³å®šäº†å¯å˜å¤´æ˜¯å¦å­˜åœ¨åŠå…¶å…·ä½“å†…å®¹<br>MQTTæ•°æ®åŒ…ä¸­åŒ…å«ä¸€ä¸ªå¯å˜å¤´ï¼Œå®ƒé©»ä½äºå›ºå®šçš„å¤´å’Œè´Ÿè½½ä¹‹é—´ã€‚å¯å˜å¤´çš„å†…å®¹å› æ•°æ®åŒ…ç±»å‹è€Œä¸åŒï¼Œè¾ƒå¸¸çš„åº”ç”¨æ˜¯ä½œä¸ºåŒ…çš„æ ‡è¯†ï¼š</p></li></ul><p>å¾ˆå¤šç±»å‹æ•°æ®åŒ…ä¸­éƒ½åŒ…æ‹¬ä¸€ä¸ª2å­—èŠ‚çš„æ•°æ®åŒ…æ ‡è¯†å­—æ®µï¼Œè¿™äº›ç±»å‹çš„åŒ…æœ‰ï¼šPUBLISH (QoS &gt; 0)ã€PUBACKã€PUBRECã€PUBRELã€PUBCOMPã€SUBSCRIBEã€SUBACKã€UNSUBSCRIBEã€UNSUBACK<br><img src="MQTT%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/5.jpg" alt="MQTTåè®®è¯¦è§£.md"></p><ul><li>æ¶ˆæ¯ä½“ï¼ˆpayloadï¼‰ï¼‰ï¼šå­˜åœ¨äºéƒ¨åˆ†MQTTæ•°æ®åŒ…ä¸­ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯æ”¶åˆ°çš„å…·ä½“å†…å®¹<br>Payloadæ¶ˆæ¯ä½“ä½MQTTæ•°æ®åŒ…çš„ç¬¬ä¸‰éƒ¨åˆ†ï¼ŒåŒ…å«CONNECTã€SUBSCRIBEã€SUBACKã€UNSUBSCRIBEå››ç§ç±»å‹çš„æ¶ˆæ¯ï¼š<ul><li>CONNECT:æ¶ˆæ¯ä½“å†…å®¹ä¸»è¦æ˜¯å®¢æˆ·ç«¯çš„ClientIDã€è®¢é˜…çš„Topicã€Messageä»¥åŠç”¨æˆ·åå’Œå¯†ç </li><li>SUBSCRIBE:æ¶ˆæ¯å†…å†…å®¹æ˜¯ä¸€ç³»åˆ—è¦è®¢é˜…çš„ä¸»é¢˜ä»¥åŠQoS</li><li>SUBACKï¼šæ¶ˆæ¯ä½“å†…å®¹æ˜¯æœåŠ¡å™¨å¯¹äºSUBSCRIBEæ‰€ç”³è¯·çš„ä¸»é¢˜åŠQoSè¿›è¡Œç¡®è®¤å’Œå›å¤</li><li>UNSUBSCRIBE:æ¶ˆæ¯ä½“å†…å®¹æ˜¯è¦è®¢é˜…çš„ä¸»é¢˜</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#æ¦‚è¿°&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    <category term="åè®®" scheme="http://example.com/categories/%E5%8D%8F%E8%AE%AE/"/>
    
    
    <category term="åè®®" scheme="http://example.com/tags/%E5%8D%8F%E8%AE%AE/"/>
    
  </entry>
  
  <entry>
    <title>éœä¹±æ—¶æœŸçš„çˆ±æƒ…â€”â€”è¯»ä¹¦ç¬”è®°</title>
    <link href="http://example.com/2020/04/20/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0--%E9%9C%8D%E4%B9%B1%E6%97%B6%E6%9C%9F%E7%9A%84%E7%88%B1%E6%83%85/"/>
    <id>http://example.com/2020/04/20/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0--%E9%9C%8D%E4%B9%B1%E6%97%B6%E6%9C%9F%E7%9A%84%E7%88%B1%E6%83%85/</id>
    <published>2020-04-20T13:12:03.000Z</published>
    <updated>2021-08-07T05:59:13.567Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p>æˆ‘ç›¸ä¿¡çˆ±æƒ…æ˜¯æœ‰è®¸å¤šæ¨¡æ ·çš„ï¼Œè¡—å¤´å··å°¾é‡Œäº’ç›¸æ€æ‰¶çš„è€å¤«è€å¦»ï¼Œå°å®¶é‡Œè¿‡ç€å¹³å¹³æ·¡æ·¡æ—¥å­çš„å¤«å¦‡ï¼Œå©šç¤¼ä¸Šå¾ˆç´¯å´éå¸¸ç”œèœœçš„æ–°äººï¼Œè¿˜æœ‰æ‹‰ç€å½¼æ­¤çš„æ‰‹åœ¨æš´é›¨å¤©ä¸€è·¯å¥”è·‘çš„æƒ…ä¾£ç­‰ã€‚å½“ç„¶ï¼Œæœ‰ç§¯ææ­£é¢çš„ï¼Œçƒ­æƒ…ä¼¼ç«çš„çˆ±ï¼Œä¹Ÿå¿…ç„¶æœ‰é˜´æš—æ‰­æ›²ï¼Œå‘åŠ£ç²—ä¿—çš„çˆ±ï¼Œè¿™æœ¬ä¹¦è®©æˆ‘çœ‹åˆ°å…³äºçˆ±æƒ…æ›´å¤šçš„ç»†ææœ«èŠ‚ã€‚<br>å½“å¹´è½»çš„é˜¿é‡Œè¨ç¬¬ä¸€æ¬¡è§åˆ°è´¹å°”æ˜å¨œï¼Œä¸€ç”Ÿå†…å¿ƒçš„çº è‘›å°±æ­¤å¼€å§‹ã€‚ä»æœ€åˆçš„æ‡µæ‡‚ç¾æ¶©ï¼Œåœ¨èŠ±å›­è£…ä½œçœ‹ä¹¦çœ‹è¯—é›†ï¼Œå®åˆ™ç­‰å¾…è´¹å°”æ˜å¨œè·¯è¿‡æ—¶çš„é‚£ä¸€æ’‡ï¼Œé‚£å°±æ˜¯å¿ƒåŠ¨çš„ç¬¬ä¸€ä¸ªé˜¶æ®µå§ã€‚å½¼æ—¶è´¹å°”æ˜å¨œä¹–å·§æ‡‚äº‹ï¼Œå¯¹çˆ¶äº²è¨€å¬è®¡ä»ï¼Œä½†åœ¨é˜¿é‡Œè¨é¼“èµ·å‹‡æ°”é€å‡ºä¿¡ä»¶çš„é‚£ä¸€å¤©ï¼Œå¥¹çš„å¿ƒæ€æ‚„ç„¶å˜åŒ–ã€‚è™½ç„¶äºŒäººå‡ ä¹æ²¡æœ‰æˆ–æ­£å¼çš„é¢å¯¹é¢çš„å¯¹è¯ï¼Œä½†æ˜¯åœ¨ä¿¡ä¸­ä»æ— è¯ä¸è°ˆåˆ°ç§å®šç»ˆèº«ï¼Œçœ‹åˆ°è¿™é‡Œæˆ‘è§‰å¾—æœ‰äº›è’è¯ï¼Œä½†ä¹Ÿä¸å¯å¦è®¤ï¼Œåœ¨é‚£ä¸ªå¹´ä»£è¿™æ˜¯å¯èƒ½å‘ç”Ÿçš„äº‹æƒ…ï¼Œæˆ–è®¸è¿™ä¸æ˜¯é è°±çš„çˆ±æƒ…ï¼Œä½†å®ƒä¸€å®šæ˜¯ä¸¤ä¸ªå°‘ç”·å°‘å¥³å‹‡æ•¢æ— ç•ï¼Œæ†§æ†¬çˆ±æƒ…çš„è¡¨ç°ã€‚<br>çº¸é‡ŒåŒ…ä¸ä½ç«ï¼Œæ´›ä¼¦ç´¢å‘ç°å¥³å„¿çš„åœ°ä¸‹æƒ…ï¼Œæ„¤æ€’ä¹‹ä½™å´ä¹Ÿæ‹¿å¥³å„¿æ²¡ä»€ä¹ˆåŠæ³•ï¼Œåªèƒ½å¸¦ç€å¥³å„¿å‡ºå»æ—…è¡Œä¸€åœºï¼Œä»¥æœŸè®©å¥¹å¿˜è®°é˜¿é‡Œè¨ã€‚åœ¨ç»å†æ—¶é—´å’Œç©ºé—´çš„è€ƒéªŒä¹‹åï¼Œè´¹å°”æ˜å¨œåœ¨ä»£ç¬”é—¨å»Šå¤„çœ‹è§é˜¿é‡Œè¨çš„ç¬¬ä¸€çœ¼æœæ–­å†³å®šæ”¾å¼ƒè¿™ä¸€æ®µé•¿è¾¾æ•°å¹´çš„æ„Ÿæƒ…ï¼Œå¥¹å®Œå…¨æ²¡æœ‰æƒ³åˆ°é˜¿é‡Œè¨æ˜¯è¿™èˆ¬æ¨¡æ ·ã€‚æˆ‘æƒ³è¿™æ˜¯çˆ±æƒ…çš„ä¸€ç§æ®‹é…·ï¼Œå‘ç°è‡ªå·±æœæ€æš®æƒ³çš„å¦ä¸€åŠå› ä¸ºæŸç§ä¸åˆçš„è§‚å¿µï¼Œå¤±æœ›å æ®å†…å¿ƒï¼Œæƒ³è¦è¿«åˆ‡å¸Œæœ›ç¦»å¼€ï¼Œä»¥é€ƒé¿ç»™è‡ªå·±å¸¦æ¥çš„æƒ…æ„Ÿå†²å‡»ã€‚è€Œé˜¿é‡Œè¨ä¹Ÿå› æ­¤é™·å…¥æ¼«é•¿çš„ç›¸æ€ä¹‹è‹¦ï¼Œåœ¨æ— æ•°ä¸ªæ—¥æ—¥å¤œå¤œå¹»æƒ³ç€æœªæ¥ç»§ç»­å’Œè´¹å°”æ˜å¨œç”Ÿæ´»ä¸‹å»çš„å¯èƒ½ã€‚<br>åŒ»ç”Ÿçš„å‡ºç°ï¼Œè®©æ•…äº‹æ›´åŠ æˆå‰§åŒ–ï¼Œä»–å’Œé˜¿é‡Œè¨æ˜¯å®Œå®Œå…¨å…¨ä¸¤ç§ä¸åŒçš„äººã€‚åŒ»ç”Ÿå…‰é²œäº®ä¸½ï¼Œæ‰åæ¨ªæº¢ï¼ŒåŒ»æœ¯é«˜è¶…ï¼Œå’Œé˜¿é‡Œè¨å¥‡æ€ªè£…æŸï¼Œä¸€èº«ä¸ºçˆ±æƒ…è¯—æ­Œæ‰€æµ¸æŸ“çš„æ°”æ¯å½¢æˆé²œæ˜å¯¹æ¯”ã€‚è´¹å°”æ˜å¨œå«ç»™äº†åŒ»ç”Ÿï¼Œç”œèœœæ—…è¡Œä¹‹åæ˜¯å¤šå¹´çš„ä¸å¼€å¿ƒï¼ŒæœŸé—´å¶å°”ç©¿æ’ç€è¿‡å¾€èœœæœˆçš„å›å¿†ã€‚æ¼«é•¿å²æœˆä¸è¿‡å¼¹æŒ‡é—´å°±è¿‡å»äº†ï¼Œé˜¿é‡Œè¨å¯¹å¥¹çš„æ„Ÿæƒ…æ—¥æ¸ç—…æ€ï¼Œä¸€è¾¹å¿ƒé‡Œè£…ç€å¥¹ï¼Œä¸€è¾¹å‹¾æ­æˆç™¾ä¸Šåƒçš„å¥³äººæ»¡è¶³ç”Ÿç†ä¸Šéœ€æ±‚ã€‚æ¼«é•¿å²æœˆé‡Œï¼Œé˜¿é‡Œè¨ä¹Ÿæœ‰é‚£ä¹ˆå‡ ä¸ªä¸­æ„çš„å¥³äººï¼Œå¥‡æ€ªçš„æ˜¯ä»–ä»æ¥æ²¡æœ‰æ”¾å¼ƒä¸€ç›´ç›˜è¸åœ¨å†…å¿ƒçš„å¿µæƒ³ï¼Œä¹Ÿä»æœªå¯¹å…¶ä»–äººæèµ·ï¼Œå°‘å¹´æ—¶çš„çˆ±æ…•ç»å—äº†äº”åå¤šå¹´å²æœˆçš„è€ƒéªŒï¼Œå°½ç®¡è¿™ç§æ„Ÿæƒ…é¢ç›®å…¨éï¼Œé˜¿é‡Œè¨è¿˜æ˜¯åšæŒäº†ä¸‹å»ï¼Œè¶³å¤Ÿä»¤äººæƒŠå¹ã€‚<br>é˜¿é‡Œè¨ç»ˆäºç­‰åˆ°åŒ»ç”Ÿæ­»äº¡çš„æ¶ˆæ¯ï¼Œä¸åƒä»–æƒ³è±¡ä¸­çš„ä½“é¢ç¦»ä¸–ï¼Œè·Œå€’æ­»äº¡è®©é˜¿é‡Œè¨æ²¡æœ‰æŠŠç«äº‰å¯¹æ‰‹æ¯”ä¸‹å»çš„å¿«æ„Ÿã€‚å³ä¾¿å¦‚æ­¤ï¼Œæš®å¹´çš„ä»–æ²¡æœ‰æµªè´¹å¤ªå¤šæ—¶é—´ï¼Œå†æ¬¡å‘è´¹å°”æ˜å¨œè¡¨æ˜å¿ƒæ„ï¼Œåœ¨åšæŒä¸æ‡ˆçš„åŠªåŠ›ä¸‹ï¼Œè´¹å°”æ˜å¨œæ„è¯†åˆ°è‡ªå·±æ˜¯å¯¹é˜¿é‡Œè¨é‚£ä¸€ä»½ç‰¹æ®Šæ„Ÿæƒ…ã€‚æœ€ç»ˆåœ¨ä»–ä»¬å‰©ä¸‹çš„ç”Ÿå‘½é‡Œå€ŸåŠ©éœä¹±çš„æ©æŠ¤ï¼Œé˜¿é‡Œè¨å¦‚æ„¿å’Œè´¹å°”æ˜å¨œä¸€èµ·åœ¨æµ·ä¸Šæ¼‚æµäº†ä¸‹å»ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘ç›¸ä¿¡çˆ±æƒ…æ˜¯æœ‰è®¸å¤šæ¨¡æ ·çš„ï¼Œè¡—å¤´å··å°¾é‡Œäº’ç›¸æ€æ‰¶çš„è€å¤«è€å¦»ï¼Œå°å®¶é‡Œè¿‡ç€å¹³å¹³æ·¡æ·¡æ—¥å­çš„å¤«å¦‡ï¼Œå©š</summary>
      
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="http://example.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="http://example.com/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    <category term="æ–‡å­¦" scheme="http://example.com/tags/%E6%96%87%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>ç½‘ç»œæ”»å‡»-XSSæ”»å‡»è¯¦è§£</title>
    <link href="http://example.com/2020/03/10/%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB-XSS%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3/"/>
    <id>http://example.com/2020/03/10/%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB-XSS%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3/</id>
    <published>2020-03-10T05:39:41.000Z</published>
    <updated>2021-08-07T05:59:13.652Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="XSS-æ¦‚å¿µ"><a href="#XSS-æ¦‚å¿µ" class="headerlink" title="XSS æ¦‚å¿µ"></a>XSS æ¦‚å¿µ</h2><p>è·¨ç«™è„šæœ¬æ”»å‡»(XSS),æ˜¯æœ€æ™®éçš„Webåº”ç”¨å®‰å…¨æ¼æ´.</p><p>è¿™ç±»æ¼æ´èƒ½å¤Ÿä½¿å¾—æ”»å‡»è€…åµŒå…¥æ¶æ„è„šæœ¬ä»£ç åˆ°æ­£å¸¸ç”¨æˆ·ä¼šè®¿é—®åˆ°çš„é¡µé¢ä¸­,å½“æ­£å¸¸ç”¨æˆ·è®¿é—®è¯¥é¡µé¢æ—¶,åˆ™å¯å¯¼è‡´åµŒå…¥çš„æ¶æ„è„šæœ¬ä»£ç çš„æ‰§è¡Œ,ä»è€Œè¾¾åˆ°æ¶æ„æ”»å‡»ç”¨æˆ·çš„ç›®çš„.</p><p>äººä»¬ç»å¸¸å°†è·¨ç«™è„šæœ¬æ”»å‡»(Cross Site Scripting)ç¼©å†™ä¸º CSS ,ä½†è¿™ä¼šä¸å±‚å æ ·å¼è¡¨(Cascading Style Sheet,CSS)çš„ç¼©å†™æ··æ·†,å› æ­¤å°†å…¶æ”¹ä¸º XSS .</p><h2 id="XSS-å±å®³"><a href="#XSS-å±å®³" class="headerlink" title="XSS å±å®³"></a>XSS å±å®³</h2><ul><li>ç›—ç”¨ cookie ,è·å–æ•æ„Ÿä¿¡æ¯</li></ul><h2 id="XSS-åŸç†"><a href="#XSS-åŸç†" class="headerlink" title="XSS åŸç†"></a>XSS åŸç†</h2><p>HTML æ˜¯ä¸€ç§è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€,é€šè¿‡ç‰¹æ®Šå¯¹å¾…ä¸€äº›å­—ç¬¦æ¥åŒºåˆ«æ–‡æœ¬å’Œæ ‡è®°:å°äºç¬¦å·(&lt;)è¢«çœ‹ä½œæ˜¯ HTML æ ‡ç­¾çš„å¼€å§‹,æµè§ˆå™¨ä¼šå°†ç‰¹å®šçš„å­—ç¬¦è¯¯è®¤ä¸ºHTML æ ‡ç­¾.å½“ HTMLæ ‡ç­¾å¼•å…¥äº† JavaScript è„šæœ¬æ—¶,æµè§ˆå™¨å°±ä¼šæ‰§è¡Œ.å› æ­¤,å½“è¿™äº›ç‰¹æ®Šå­—ç¬¦ä¸èƒ½è¢«åŠ¨æ€é¡µé¢æ£€æŸ¥æˆ–æ£€æŸ¥å‡ºé”™çš„æ—¶å€™,å°±ä¼šäº§ç”Ÿ XSS æ¼æ´</p><h2 id="XSS-ç±»å‹"><a href="#XSS-ç±»å‹" class="headerlink" title="XSS ç±»å‹"></a>XSS ç±»å‹</h2><ul><li>åå°„å‹(éæŒä¹…å‹):æŒ‡å‘ç”Ÿè¯·æ±‚æ—¶,XSSä»£ç å‡ºç°åœ¨è¯·æ±‚URLä¸­,ä½œä¸ºå‚æ•°æäº¤åˆ°æœåŠ¡å™¨,æœåŠ¡å™¨è§£æå¹¶å“åº”,å“åº”ç»“æœä¸­åŒ…å«XSSä»£ç ,æœ€åè¢«æµè§ˆå™¨è§£æå¹¶æ‰§è¡Œ.è¿™ä¸ªè¿‡ç¨‹åƒä¸€æ¬¡åå°„,æ•…å«åšåå°„å‹XSS.</li><li>å­˜å‚¨å‹(æŒä¹…å‹):å°†XSSä»£ç å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸­.</li><li>DOMè·¨ç«™:æŒ‡å—å®³è€…ç«¯çš„ç½‘é¡µè„šæœ¬åœ¨ä¿®æ”¹æœ¬åœ°é¡µé¢DOMç¯å¢ƒæ—¶æœªè¿›è¡Œåˆç†çš„å¤„ç½®,è€Œä½¿å¾—æ”»å‡»è„šæœ¬è¢«æ‰§è¡Œ.åœ¨æ•´ä¸ªæ”»å‡»è¿‡ç¨‹ä¸­,æœåŠ¡å™¨å“åº”çš„é¡µé¢å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–,å¼•èµ·å®¢æˆ·ç«¯è„šæœ¬æ‰§è¡Œç»“æœå·®å¼‚çš„åŸå› æ˜¯å¯¹æœ¬åœ°DOMçš„æ¶æ„ç¯¡æ”¹åˆ©ç”¨</li></ul><h2 id="å…·ä½“ç¤ºä¾‹"><a href="#å…·ä½“ç¤ºä¾‹" class="headerlink" title="å…·ä½“ç¤ºä¾‹"></a>å…·ä½“ç¤ºä¾‹</h2><ul><li><p>åå°„å‹XSS<br>å‡å¦‚ä¸€ä¸ªæ¥å£<code>http://www.test.com/xss/reflect.php</code>çš„ä»£ç å¦‚ä¸‹:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;x&#x27;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„xå€¼æ²¡æœ‰ç»è¿‡å¤„ç†ç›´æ¥è¾“å‡º,å½“å®¢æˆ·ç«¯æäº¤è¯·æ±‚<code>http://www.test.com/xss/reflect.php?x=&lt;script&gt;alert(1)&lt;/script&gt;</code>,æ­¤æ—¶æµè§ˆå™¨ä¼šè§¦å‘alert()å‡½æ•°.</p></li><li><p>å­˜å‚¨å‹XSS<br>æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ç•™è¨€æ¿XSS,å½“ç”¨æˆ·æäº¤äº†ä¸€æ¡åŒ…å«XSSä»£ç çš„ç•™è¨€å­˜å‚¨åˆ°æ•°æ®åº“,ç›®æ ‡ç”¨æˆ·æŸ¥çœ‹ç•™è¨€æ¿æ—¶,ç•™è¨€å†…å®¹ä¼šä»æ•°æ®åº“æå–å¹¶å±•ç¤ºåœ¨é¡µé¢ä¸Š,æµè§ˆå™¨å‘ç°æœ‰XSSä»£ç ,å°±å½“æˆHTMLå’ŒJavaScriptè§£ææ‰§è¡Œ,ä»è€Œè§¦å‘XSSæ”»å‡».ç®€å•çš„å¯ä»¥æ˜¯ä¸€ä¸ªalert()å¼¹çª—,å¤æ‚ä¸€äº›çš„å¯ä»¥æ˜¯ç›—ç”¨ç”¨æˆ·cookieç­‰æ“ä½œ.</p></li><li><p>DOM XSS<br>DOM XSSæ”»å‡»å¹¶ä¸éœ€è¦æœåŠ¡å™¨å‚ä¸,è§¦å‘æ”»å‡»é æµè§ˆå™¨çš„DOMè§£æ,æ ¸å¿ƒæ˜¯è¿ç”¨DOMå‡½æ•°.<br>æˆ‘ä»¬çŸ¥é“<code>eval()</code>å‡½æ•°æœ‰ä¸€ä¸ªä½œç”¨æ˜¯å°†ä¸€æ®µå­—ç¬¦ä¸²è½¬æ¢æˆ<code>JavaScript</code>è¯­å¥,å› æ­¤åœ¨<code>JavaScript</code>ä¸­ä½¿ç”¨<code>eval()</code>æ˜¯ä¸€ä»¶æœ‰é£é™©çš„äº‹æƒ…,å®¹æ˜“é€ æˆXSSæ”»å‡».</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;alert(&#x27;Hello world&#x27;)&quot;</span>)</span><br></pre></td></tr></table></figure><p>  å¯èƒ½è§¦å‘DOM XSSæ”»å‡»çš„å±æ€§æœ‰:</p><ul><li>document.refererå±æ€§</li><li>window.nameå±æ€§</li><li>locationå±æ€§</li><li>innerHTMLå±æ€§</li><li>documen.write</li></ul></li></ul><h2 id="é˜²èŒƒæ‰‹æ®µ"><a href="#é˜²èŒƒæ‰‹æ®µ" class="headerlink" title="é˜²èŒƒæ‰‹æ®µ"></a>é˜²èŒƒæ‰‹æ®µ</h2><ul><li>å…¥å‚å­—ç¬¦è¿‡æ»¤<br>å¯¹è¯¸å¦‚<code>&lt;script&gt;</code>ã€<code>&lt;img&gt;</code>ã€<code>&lt;a&gt;</code>ç­‰æ ‡ç­¾è¿›è¡Œè¿‡æ»¤.</li><li>å‡ºå‚è¿›è¡Œç¼–ç <br>åƒä¸€äº›å¸¸è§çš„ç¬¦å·,å¦‚<code>&lt;&gt;</code>åœ¨è¾“å…¥çš„æ—¶å€™è¦å¯¹å…¶è¿›è¡Œè½¬æ¢ç¼–ç ,è¿™æ ·åšæµè§ˆå™¨æ˜¯ä¸ä¼šå¯¹è¯¥æ ‡ç­¾è¿›è¡Œè§£é‡Šæ‰§è¡Œçš„,åŒæ—¶ä¹Ÿä¸å½±å“æ˜¾ç¤ºæ•ˆæœ.</li><li>å…¥å‚é•¿åº¦é™åˆ¶<br>xssæ”»å‡»è¦èƒ½è¾¾æˆå¾€å¾€éœ€è¦è¾ƒé•¿çš„å­—ç¬¦ä¸²,å› æ­¤å¯¹äºä¸€äº›å¯ä»¥é¢„æœŸçš„è¾“å…¥å¯ä»¥é€šè¿‡é™åˆ¶é•¿åº¦å¼ºåˆ¶æˆªæ–­æ¥è¿›è¡Œé˜²å¾¡.</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;XSS-æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#XSS-æ¦‚å¿µ&quot; class=&quot;header</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="ç½‘ç»œæ”»å‡»" scheme="http://example.com/tags/%E7%BD%91%E7%BB%9C%E6%94%BB%E5%87%BB/"/>
    
    <category term="Webå®‰å…¨" scheme="http://example.com/tags/Web%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptä¸­å¯¹è±¡çš„æ‹“å±•ã€å¯†å°åŠå†»ç»“ä¸‰å¤§ç‰¹æ€§</title>
    <link href="http://example.com/2020/03/02/JavaScript%E4%B8%AD%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8B%93%E5%B1%95%E3%80%81%E5%AF%86%E5%B0%81%E5%8F%8A%E5%86%BB%E7%BB%93%E4%B8%89%E5%A4%A7%E7%89%B9%E6%80%A7/"/>
    <id>http://example.com/2020/03/02/JavaScript%E4%B8%AD%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8B%93%E5%B1%95%E3%80%81%E5%AF%86%E5%B0%81%E5%8F%8A%E5%86%BB%E7%BB%93%E4%B8%89%E5%A4%A7%E7%89%B9%E6%80%A7/</id>
    <published>2020-03-02T09:24:20.000Z</published>
    <updated>2021-08-07T05:59:13.800Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="å±æ€§æè¿°ç¬¦"><a href="#å±æ€§æè¿°ç¬¦" class="headerlink" title="å±æ€§æè¿°ç¬¦"></a>å±æ€§æè¿°ç¬¦</h2><p>å±æ€§æè¿°ç¬¦æ˜¯ES5å¼•å…¥çš„æ¦‚å¿µ,å®ƒç”¨äºæè¿°å¯¹è±¡çš„ç‰¹å¾.</p><p>å¯¹è±¡é‡Œç›®å‰å­˜åœ¨çš„å±æ€§æè¿°ç¬¦æœ‰ä¸¤ç§ä¸»è¦å½¢å¼ï¼š<strong>æ•°æ®æè¿°ç¬¦</strong>å’Œ<strong>å­˜å–æè¿°ç¬¦</strong>.</p><blockquote><p>MDNä¸­çš„æè¿°ï¼š<br>æ•°æ®æè¿°ç¬¦æ˜¯ä¸€ä¸ªå…·æœ‰å€¼çš„å±æ€§ï¼Œè¯¥å€¼å¯èƒ½æ˜¯å¯å†™çš„ï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯å¯å†™çš„ã€‚<br>å­˜å–æè¿°ç¬¦æ˜¯ç”±getter-setterå‡½æ•°å¯¹æè¿°çš„å±æ€§ã€‚<br>æè¿°ç¬¦å¿…é¡»æ˜¯è¿™ä¸¤ç§å½¢å¼ä¹‹ä¸€ï¼›ä¸èƒ½åŒæ—¶æ˜¯ä¸¤è€…ã€‚</p></blockquote><p>æ•°æ®æè¿°ç¬¦å’Œå­˜å–æè¿°ç¬¦å‡å…·æœ‰ä»¥ä¸‹å¯é€‰é”®å€¼(é»˜è®¤å€¼æ˜¯åœ¨ä½¿ç”¨Object.defineProperty()å®šä¹‰å±æ€§çš„æƒ…å†µä¸‹)</p><ul><li><code>configurable</code>: <strong>å¯é…ç½®æ€§</strong>.å½“ä¸”ä»…å½“è¯¥å±æ€§çš„ configurable ä¸º true æ—¶,è¯¥å±æ€§æè¿°ç¬¦æ‰èƒ½å¤Ÿè¢«æ”¹å˜,åŒæ—¶è¯¥å±æ€§ä¹Ÿèƒ½ä»å¯¹åº”çš„å¯¹è±¡ä¸Šè¢«åˆ é™¤.é»˜è®¤ä¸º <code>false</code>.</li><li><code>enumerable</code>: <strong>å¯æšä¸¾æ€§</strong>.å½“ä¸”ä»…å½“è¯¥å±æ€§çš„enumerableä¸º<code>true</code>æ—¶,è¯¥å±æ€§æ‰èƒ½å¤Ÿå‡ºç°åœ¨å¯¹è±¡çš„æšä¸¾å±æ€§ä¸­.é»˜è®¤ä¸º <code>false</code>.</li></ul><p>æ•°æ®æè¿°ç¬¦åŒæ—¶å…·æœ‰ä»¥ä¸‹å¯é€‰é”®å€¼ï¼š</p><ul><li><code>writable</code>: <strong>å¯å†™æ€§</strong>.å½“ä¸”ä»…å½“è¯¥å±æ€§çš„writableä¸ºtrueæ—¶,valueæ‰èƒ½è¢«èµ‹å€¼è¿ç®—ç¬¦æ”¹å˜.é»˜è®¤ä¸º <code>false</code>.</li><li><code>value</code>: <strong>å±æ€§å€¼</strong>.è¯¥å±æ€§å¯¹åº”çš„å€¼.å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„ JavaScript å€¼(æ•°å€¼,å¯¹è±¡,å‡½æ•°ç­‰).é»˜è®¤ä¸º <code>undefined</code>.</li></ul><p>å­˜å–æè¿°ç¬¦åŒæ—¶å…·æœ‰ä»¥ä¸‹å¯é€‰é”®å€¼ï¼š</p><ul><li><code>get</code>: ä¸€ä¸ªç»™å±æ€§æä¾› getter çš„æ–¹æ³•,å¦‚æœæ²¡æœ‰ getter åˆ™ä¸º <code>undefined</code>.å½“è®¿é—®è¯¥å±æ€§æ—¶.è¯¥æ–¹æ³•ä¼šè¢«æ‰§è¡Œ,æ–¹æ³•æ‰§è¡Œæ—¶æ²¡æœ‰å‚æ•°ä¼ å…¥,ä½†æ˜¯ä¼šä¼ å…¥thiså¯¹è±¡ï¼ˆç”±äºç»§æ‰¿å…³ç³»,è¿™é‡Œçš„thiså¹¶ä¸ä¸€å®šæ˜¯å®šä¹‰è¯¥å±æ€§çš„å¯¹è±¡ï¼‰.</li><li><code>set</code>: ä¸€ä¸ªç»™å±æ€§æä¾› setter çš„æ–¹æ³•,å¦‚æœæ²¡æœ‰ setter åˆ™ä¸º <code>undefined</code>.å½“å±æ€§å€¼ä¿®æ”¹æ—¶,è§¦å‘æ‰§è¡Œè¯¥æ–¹æ³•.è¯¥æ–¹æ³•å°†æ¥å—å”¯ä¸€å‚æ•°,å³è¯¥å±æ€§æ–°çš„å‚æ•°å€¼.</li></ul><p>æè¿°ç¬¦å¯åŒæ—¶å…·æœ‰çš„é”®å€¼:<br>|            | configurable |  enumerable | value | writable | get | set<br>| â€”â€”â€“   | â€”â€“:  | :â€”-:  | :â€”-:  | :â€”-:  | :â€”-:  | :â€”-:  |<br>| <strong>æ•°æ®æè¿°ç¬¦</strong> | Yes | Yes | Yes | Yes | No | No |<br>| <strong>å­˜å–æè¿°ç¬¦</strong> | Yes | Yes | No | No | Yes | Yes |</p><p>å¦‚æœä¸€ä¸ªæè¿°ç¬¦ä¸å…·æœ‰value,writable,get å’Œ set ä»»æ„ä¸€ä¸ªå…³é”®å­—,é‚£ä¹ˆå®ƒå°†è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ•°æ®æè¿°ç¬¦.å¦‚æœä¸€ä¸ªæè¿°ç¬¦åŒæ—¶æœ‰(valueæˆ–writable)å’Œ(getæˆ–set)å…³é”®å­—,å°†ä¼šäº§ç”Ÿä¸€ä¸ªå¼‚å¸¸.</p><h4 id="å¸¸ç”¨API"><a href="#å¸¸ç”¨API" class="headerlink" title="å¸¸ç”¨API:"></a>å¸¸ç”¨API:</h4><blockquote><p>Object.defineProperty(obj, prop, descriptor)</p></blockquote><p>obj:åœ¨å…¶ä¸Šå®šä¹‰æˆ–ä¿®æ”¹å±æ€§çš„å¯¹è±¡.</p><p>prop:è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°.</p><p>descriptor:å°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦.</p><blockquote><p>Object.defineProperties(obj, props)</p></blockquote><p>obj:åœ¨å…¶ä¸Šå®šä¹‰æˆ–ä¿®æ”¹å±æ€§çš„å¯¹è±¡.</p><p>props:è¦å®šä¹‰å…¶å¯æšä¸¾å±æ€§æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦çš„å¯¹è±¡.å¯¹è±¡ä¸­å­˜åœ¨çš„å±æ€§æè¿°ç¬¦ä¸»è¦æœ‰ä¸¤ç§:æ•°æ®æè¿°ç¬¦å’Œè®¿é—®å™¨æè¿°ç¬¦</p><blockquote><p>Object.getOwnPropertyDescriptors(obj)</p></blockquote><p>obj:ä»»æ„å¯¹è±¡.</p><blockquote><p>Object.getOwnPropertyDescriptor(obj, prop)</p></blockquote><p>obj:éœ€è¦æŸ¥æ‰¾çš„ç›®æ ‡å¯¹è±¡.</p><p>prop:ç›®æ ‡å¯¹è±¡å†…å±æ€§åç§°</p><h4 id="ç”¨æ³•ç¤ºä¾‹"><a href="#ç”¨æ³•ç¤ºä¾‹" class="headerlink" title="ç”¨æ³•ç¤ºä¾‹:"></a>ç”¨æ³•ç¤ºä¾‹:</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperties(obj, &#123;</span><br><span class="line">    <span class="attr">color</span>: &#123;</span><br><span class="line">        <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;red&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">price</span>: &#123;</span><br><span class="line">        <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;3.5&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;updatePrice&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.capacity;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="function"><span class="keyword">function</span> (<span class="params">price</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//&#123; name: &#x27;Cola&#x27;, color: &#x27;red&#x27;, price: 3.5, updatePrice: [Getter/Setter] &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj.updatePrice = <span class="number">5</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//&#123; name: &#x27;Cola&#x27;, color: &#x27;red&#x27;, price: 5, updatePrice: [Getter/Setter] &#125;</span></span><br></pre></td></tr></table></figure><h4 id="è§„åˆ™ï¼š"><a href="#è§„åˆ™ï¼š" class="headerlink" title="è§„åˆ™ï¼š"></a>è§„åˆ™ï¼š</h4><ul><li><p>å¦‚æœå±æ€§ä¸å¯é…ç½®,åˆ™ä¸èƒ½ä¿®æ”¹å®ƒçš„å¯é…ç½®æ€§å’Œå¯æšä¸¾æ€§,å¦åˆ™æŠ›å‡ºå¼‚å¸¸</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;color&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;color&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">configurable</span>: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">//TypeError: Cannot redefine property: color</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;color&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">enumerable</span>: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">//TypeError: Cannot redefine property: color</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, <span class="string">&#x27;color&#x27;</span>));<span class="comment">//&#123; value: undefined, writable: false, enumerable: false, configurable: false &#125;</span></span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœå­˜å–å™¨å±æ€§æ˜¯ä¸å¯é…ç½®çš„ï¼Œåˆ™ä¸èƒ½ä¿®æ”¹<code>get</code>å’Œ<code>set</code>æ–¹æ³•ï¼Œä¹Ÿä¸èƒ½å°†å®ƒè½¬æ¢ä¸ºæ•°æ®å±æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;updateName&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;updateName&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;Coca &#x27;</span> + <span class="built_in">this</span>.name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">//TypeError: Cannot redefine property: updateName</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;updateName&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">set</span>: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.name = val + <span class="built_in">this</span>.name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">//TypeError: Cannot redefine property: updateName</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;updateName&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;Coco Cola&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">//TypeError: Cannot redefine property: updateName</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ•°æ®å±æ€§æ˜¯ä¸å¯é…ç½®çš„,åˆ™ä¸èƒ½å°†å®ƒè½¬æ¢ä¸ºå­˜å–å™¨å±æ€§;åŒæ—¶ä¹Ÿä¸èƒ½å°†å®ƒçš„å¯å†™æ€§ä»<code>false</code>ä¿®æ”¹æˆ<code>true</code>ï¼Œä½†å¯ä»¥ä»<code>true</code>ä¿®æ”¹ä¸º<code>false</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;color&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;red&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;color&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">writable</span>: <span class="literal">true</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">//TypeError: Cannot redefine property: color</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;color&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">//TypeError: Cannot redefine property: color</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;price&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;3.5&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;price&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;5&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;price&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;6&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, <span class="string">&#x27;color&#x27;</span>)); <span class="comment">//&#123; value: &#x27;red&#x27;, writable: false, enumerable: false, configurable: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, <span class="string">&#x27;price&#x27;</span>)); <span class="comment">//&#123; value: &#x27;5&#x27;, writable: false, enumerable: false, configurable: false &#125;</span></span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ•°æ®å±æ€§æ˜¯ä¸å¯é…ç½®ä¸”ä¸å¯å†™çš„,å°±ä¸èƒ½ä¿®æ”¹å®ƒçš„å€¼;å¦‚æœæ˜¯å¯é…ç½®ä½†ä¸å¯å†™ï¼Œåˆ™å¯ä»¥ä¿®æ”¹å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;color&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;red&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;color&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;blue&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">//TypeError: Cannot redefine property: color</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;price&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;3.5&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯ä»¥ç›´æ¥ä¿®æ”¹å€¼</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;price&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;12&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(obj.price); <span class="comment">//5</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, <span class="string">&#x27;price&#x27;</span>)); <span class="comment">//&#123; value: &#x27;12&#x27;, writable: false, enumerable: false, configurable: true &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯ä»¥ä¿®æ”¹writableä¸ºtrueåå†ä¿®æ”¹å€¼</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;price&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;3.5&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line">obj.price = <span class="number">5</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.price); <span class="comment">//5</span></span><br></pre></td></tr></table></figure></li><li><p>ä¸¥æ ¼æ¨¡å¼ä¸‹,åªæŒ‡å®š<code>get</code>æ—¶,å¦‚æœå¯¹è¯¥å±æ€§èµ‹å€¼å°†ä¼šæŠ›å‡ºç±»å‹é”™è¯¯å¼‚å¸¸,åªæŒ‡å®š<code>set</code>æ—¶,å¦‚æœè¯»å–è¯¥å±æ€§å°†è¿”å›undefined,éä¸¥æ ¼æ¨¡å¼ä¸‹éƒ½ä¸æŠ›å‡ºå¼‚å¸¸</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;color&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Coca &#x27;</span> + <span class="built_in">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    obj.color = <span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">//TypeError: Cannot set property color of #&lt;Object&gt; which has only a getter</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj.color); <span class="comment">//Coca Cola</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;price&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">set</span>: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj.price);<span class="comment">//undefined</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="æ‰©å±•ç‰¹æ€§"><a href="#æ‰©å±•ç‰¹æ€§" class="headerlink" title="æ‰©å±•ç‰¹æ€§"></a>æ‰©å±•ç‰¹æ€§</h2><p>å¦‚æœä¸€ä¸ªå¯¹è±¡å¯ä»¥æ·»åŠ æ–°çš„å±æ€§,é‚£ä¹ˆè¿™ä¸ªå¯¹è±¡æ˜¯å¯æ‰©å±•çš„.å¦‚ä½•æ£€éªŒå¯¹è±¡æ˜¯å¦å¯æ‰©å±•åŠå¦‚ä½•è®©å®ƒå˜å¾—ä¸å¯æ‰©å±•å‘¢ï¼Ÿ</p><h4 id="å¸¸ç”¨API-1"><a href="#å¸¸ç”¨API-1" class="headerlink" title="å¸¸ç”¨API:"></a>å¸¸ç”¨API:</h4><blockquote><p>Object.isExtensible(obj)</p></blockquote><p>objï¼šéœ€è¦æ£€æµ‹çš„å¯¹è±¡</p><blockquote><p>Object.preventExtensions(obj)</p></blockquote><p>objï¼šå°†è¦å˜å¾—ä¸å¯æ‰©å±•çš„å¯¹è±¡</p><h4 id="ç”¨æ³•ç¤ºä¾‹-1"><a href="#ç”¨æ³•ç¤ºä¾‹-1" class="headerlink" title="ç”¨æ³•ç¤ºä¾‹:"></a>ç”¨æ³•ç¤ºä¾‹:</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ–°åˆ›å»ºçš„å¯¹è±¡é»˜è®¤æ˜¯å¯æ‰©å±•çš„</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isExtensible(obj)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(obj);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isExtensible(obj)); <span class="comment">//false</span></span><br><span class="line">obj.color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">//&#123; name: &#x27;Cola&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;Coca Cola&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//ä½¿ç”¨`Object.defineProperty`æ–¹æ³•ä¸ºä¸å¯æ‰©å±•å¯¹è±¡æ·»åŠ æ–°å±æ€§ä¼šæŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, <span class="string">&quot;price&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">value</span>: <span class="number">3.5</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">//TypeError: Cannot define property price, object is not extensible</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj); <span class="comment">//&#123; name: &#x27;Coca Cola&#x27; &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, <span class="string">&#x27;name&#x27;</span>));<span class="comment">//&#123; value: &#x27;Coca Cola&#x27;, writable: true, enumerable: true, configurable: true &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//writableå±æ€§ä¸ºfalseæ—¶ï¼Œå±æ€§å€¼ä¸å¯ä¿®æ”¹</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&quot;name&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;Coca Cola&#x27;</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;);</span><br><span class="line">obj.name = <span class="string">&#x27;Sprite&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å¯†å°ç‰¹æ€§"><a href="#å¯†å°ç‰¹æ€§" class="headerlink" title="å¯†å°ç‰¹æ€§"></a>å¯†å°ç‰¹æ€§</h2><p>å¯†å°å¯¹è±¡æ˜¯æŒ‡ä¸å¯æ‰©å±•ï¼Œä¸”è‡ªèº«æ‰€æœ‰å±æ€§éƒ½ä¸å¯é…ç½®çš„å¯¹è±¡.</p><p>ä¹Ÿå°±æ˜¯è¯´å¯†å°å¯¹è±¡è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶:</p><ul><li>ä¸èƒ½æ·»åŠ æ–°å±æ€§</li><li>ä¸èƒ½åˆ é™¤å·²æœ‰å±æ€§</li><li>ä¸èƒ½ä¿®æ”¹å·²æœ‰å±æ€§çš„å¯æšä¸¾æ€§ã€å¯é…ç½®æ€§ã€å¯å†™æ€§,ä½†å¯èƒ½å¯ä»¥ä¿®æ”¹å·²æœ‰å±æ€§çš„å€¼çš„å¯¹è±¡</li></ul><h4 id="å¸¸ç”¨API-2"><a href="#å¸¸ç”¨API-2" class="headerlink" title="å¸¸ç”¨API:"></a>å¸¸ç”¨API:</h4><blockquote><p>Object.isSealed(obj)</p></blockquote><p>objï¼šéœ€è¦æ£€æµ‹çš„å¯¹è±¡</p><blockquote><p>Object.seal(obj)</p></blockquote><p>objï¼šéœ€è¦è¢«å¯†å°çš„å¯¹è±¡</p><h4 id="ç”¨æ³•ç¤ºä¾‹-2"><a href="#ç”¨æ³•ç¤ºä¾‹-2" class="headerlink" title="ç”¨æ³•ç¤ºä¾‹:"></a>ç”¨æ³•ç¤ºä¾‹:</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ–°å»ºçš„å¯¹è±¡é»˜è®¤ä¸æ˜¯å¯†å°çš„</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isSealed(obj)); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰‹åŠ¨å¯†å°</span></span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(obj);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isSealed(obj)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç©ºå¯¹è±¡çš„æ‰‹åŠ¨å¯†å°</span></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;&#125;</span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(obj2);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isSealed(obj2));<span class="comment">//true</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.seal(obj);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isSealed(obj)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯†å°åä¸å†èƒ½å¤Ÿæ·»åŠ æˆ–åˆ é™¤å±æ€§</span></span><br><span class="line">obj.color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line"><span class="keyword">delete</span> obj.name;</span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">//&#123; name: &#x27;Coca  Cola&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯†å°åå¦‚æœwritableä¸ºtrue</span></span><br><span class="line">obj.name = <span class="string">&#x27;Coca Cola&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">//&#123; name: &#x27;Pepsi  Cola&#x27; &#125;</span></span><br></pre></td></tr></table></figure><h2 id="å†»ç»“ç‰¹æ€§"><a href="#å†»ç»“ç‰¹æ€§" class="headerlink" title="å†»ç»“ç‰¹æ€§"></a>å†»ç»“ç‰¹æ€§</h2><p>å†»ç»“å¯¹è±¡è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶:</p><ul><li>ä¸èƒ½æ·»åŠ æ–°å±æ€§</li><li>ä¸èƒ½åˆ é™¤å·²æœ‰å±æ€§</li><li>ä¸èƒ½ä¿®æ”¹å·²æœ‰å±æ€§çš„å¯æšä¸¾æ€§ã€å¯é…ç½®æ€§ã€å¯å†™æ€§</li></ul><p>å³è¿™ä¸ªå¯¹è±¡æ°¸è¿œæ˜¯ä¸å¯å˜çš„.</p><h4 id="å¸¸ç”¨API-3"><a href="#å¸¸ç”¨API-3" class="headerlink" title="å¸¸ç”¨API:"></a>å¸¸ç”¨API:</h4><blockquote><p>Object.isFrozen(obj)</p></blockquote><p>objï¼šéœ€è¦æ£€æµ‹çš„å¯¹è±¡</p><blockquote><p>Object.freeze(obj)</p></blockquote><p>objï¼šéœ€è¦è¢«å†»ç»“çš„å¯¹è±¡</p><h4 id="ç”¨æ³•ç¤ºä¾‹-3"><a href="#ç”¨æ³•ç¤ºä¾‹-3" class="headerlink" title="ç”¨æ³•ç¤ºä¾‹:"></a>ç”¨æ³•ç¤ºä¾‹:</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ–°å»ºçš„å¯¹è±¡é»˜è®¤ä¸æ˜¯å†»ç»“çš„</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isFrozen(obj)); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å½“å¯¹è±¡å˜å¾—ä¸å¯æ‰©å±•ä¸”æ— å±æ€§æ—¶ï¼Œä¹Ÿæˆä¸ºå†»ç»“å¯¹è±¡</span></span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(obj);</span><br><span class="line"><span class="keyword">delete</span> obj.name;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isFrozen(obj));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸å¯æ‰©å±•çš„ç©ºå¯¹è±¡æ˜¯ä¸€ä¸ªå¯†å°å¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å†»ç»“å¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isSealed(<span class="built_in">Object</span>.preventExtensions(&#123;&#125;))); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isFrozen(<span class="built_in">Object</span>.preventExtensions(&#123;&#125;))); <span class="comment">//true</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">    name: &#x27;Cola&#x27;</span><br><span class="line">&#125;</span><br><span class="line">Object.freeze(obj);</span><br><span class="line">console.log(Object.isFrozen(obj)); //true</span><br><span class="line"></span><br><span class="line">//å¯¹å†»ç»“å¯¹è±¡çš„ä»»ä½•æ“ä½œéƒ½ä¼šå¤±è´¥</span><br><span class="line">obj.name = &#x27;Coca Cola&#x27;;</span><br><span class="line">delete obj.name;</span><br><span class="line">console.log(obj);</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„:å†ä¸¥æ ¼æ¨¡å¼ä¸‹,å¯¹å†»ç»“å¯¹è±¡çš„æ“ä½œä¼šæŠ›å‡ºç±»å‹å¼‚å¸¸</strong></p><h4 id="æµ…å†»ç»“"><a href="#æµ…å†»ç»“" class="headerlink" title="æµ…å†»ç»“"></a>æµ…å†»ç»“</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span>,</span><br><span class="line">    <span class="attr">color</span>: &#123;</span><br><span class="line">        <span class="attr">CocaCola</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">        <span class="attr">PepsiCola</span>: <span class="string">&#x27;blue&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.freeze(obj);</span><br><span class="line">obj.name = <span class="string">&#x27;Sprite&#x27;</span></span><br><span class="line">obj.color.CocaCola = <span class="string">&#x27;white&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//&#123; name: &#x27;Cola&#x27;, color: &#123; CocaCola: &#x27;white&#x27;, PepsiCola: &#x27;blue&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure><h4 id="æ·±å†»ç»“"><a href="#æ·±å†»ç»“" class="headerlink" title="æ·±å†»ç»“"></a>æ·±å†»ç»“</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">completelyFreezeObj</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(obj) != <span class="string">&quot;[object Object]&quot;</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.error(<span class="string">&quot;objä¸æ˜¯å¯¹è±¡&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Object</span>.freeze(obj);</span><br><span class="line">    <span class="built_in">Object</span>.keys(obj).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(obj[key]) == <span class="string">&quot;[object Object]&quot;</span>) &#123;</span><br><span class="line">            completelyFreezeObj(obj[key]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å±æ€§æè¿°ç¬¦&quot;&gt;&lt;a href=&quot;#å±æ€§æè¿°ç¬¦&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Google JavaScript ç¼–ç è§„èŒƒéƒ¨åˆ†æ•´ç†</title>
    <link href="http://example.com/2020/02/17/Google%20JavaScript%20%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83%E9%83%A8%E5%88%86%E7%BF%BB%E8%AF%91%E6%95%B4%E7%90%86/"/>
    <id>http://example.com/2020/02/17/Google%20JavaScript%20%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83%E9%83%A8%E5%88%86%E7%BF%BB%E8%AF%91%E6%95%B4%E7%90%86/</id>
    <published>2020-02-17T08:54:50.000Z</published>
    <updated>2021-08-07T05:59:13.704Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>æœ¬æ–‡å‚è€ƒ:</p><ul><li><a href="https://google.github.io/styleguide/jsguide.html">https://google.github.io/styleguide/jsguide.html</a></li><li><a href="http://alloyteam.github.io/JX/doc/specification/google-javascript.xml">http://alloyteam.github.io/JX/doc/specification/google-javascript.xml</a></li><li><a href="https://max.book118.com/html/2019/0202/7052110006002005.shtm">https://max.book118.com/html/2019/0202/7052110006002005.shtm</a></li><li><a href="https://segmentfault.com/a/1190000012916070#item-5-22">https://segmentfault.com/a/1190000012916070#item-5-22</a></li><li><a href="https://github.com/wayou/wayou.github.io/issues/21">https://github.com/wayou/wayou.github.io/issues/21</a></li></ul><p>å› æœ¬äººæ°´å¹³æœ‰é™,å¦‚æœ‰é”™è¯¯,å¯åŠæ—¶è”ç³»ä½œè€…ä¿®æ”¹.</p><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>JavaScript æ˜¯ä¸€ç§å®¢æˆ·ç«¯è„šæœ¬è¯­è¨€ï¼ŒGoogle çš„è®¸å¤šå¼€æºå·¥ç¨‹ä¸­éƒ½æœ‰ç”¨åˆ°å®ƒã€‚è¿™ä»½æŒ‡å—åˆ—å‡ºäº†ç¼–å†™ JavaScript æ—¶éœ€è¦éµå®ˆçš„è§„åˆ™ï¼Œå½“ä¸”ä»…å½“ JavaScript æºæ–‡ä»¶éµå®ˆæ­¤å¤„è§„åˆ™æ—¶ï¼Œå®ƒæ‰è¢«æè¿°ä¸º Google é£æ ¼ã€‚</p><h2 id="JavaScript-è¯­è¨€è§„èŒƒ"><a href="#JavaScript-è¯­è¨€è§„èŒƒ" class="headerlink" title="JavaScript è¯­è¨€è§„èŒƒ"></a>JavaScript è¯­è¨€è§„èŒƒ</h2><ul><li><p>å±€éƒ¨å˜é‡å£°æ˜</p><ul><li>ä½¿ç”¨<code>const</code> å’Œ<code>let</code><br>ç”¨ <code>const</code>æˆ– <code>let</code> å£°æ˜æ‰€æœ‰å±€éƒ¨å˜é‡ï¼Œé»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨<code>const</code>ï¼Œé™¤ééœ€è¦é‡æ–°åˆ†é…å˜é‡ã€‚</li><li>ä¸€ä¸ªå˜é‡ä¸€ä¸ªå£°æ˜<br>æ¯ä¸ªå±€éƒ¨å˜é‡å£°æ˜ä»…å£°æ˜ä¸€ä¸ªå˜é‡ã€‚ä¸ä½¿ç”¨è¯¸å¦‚ <code>let a = 1, b = 2;</code> è¿™æ ·çš„å£°æ˜å½¢å¼ã€‚</li><li>åœ¨éœ€è¦æ—¶è¿›è¡Œå£°æ˜ï¼Œå¹¶å°½å¿«åˆå§‹åŒ–<br>å±€éƒ¨å˜é‡ä¸æ˜¯åœ¨å…¶åŒ…å«çš„å—æˆ–ç±»ä¼¼å—çš„ç»“æ„çš„å¼€å¤´ä¹ æƒ¯æ€§åœ°å£°æ˜çš„ã€‚è€Œæ˜¯å°†å±€éƒ¨å£°æ˜åœ¨æ¥è¿‘é¦–æ¬¡ä½¿ç”¨å®ƒä»¬çš„åœ°æ–¹(åœ¨åˆç†èŒƒå›´å†…)ï¼Œä»¥æœ€å¤§ç¨‹åº¦åœ°å‡å°å…¶èŒƒå›´ã€‚</li><li>æ ¹æ®éœ€è¦å£°æ˜ç±»å‹<br>å¯ä»¥åœ¨å£°æ˜çš„å±€éƒ¨å˜é‡ä¸Šæ–¹æ·»åŠ JSDocç±»å‹æ³¨é‡Šï¼Œæˆ–è€…å¦‚æœä¸å­˜åœ¨å…¶ä»–JSDocï¼Œåˆ™å¯ä»¥åœ¨å˜é‡åç§°ä¹‹å‰å†…è”ã€‚</li></ul><p>  ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="comment">/**! Array &lt;number&gt; */</span> data = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸€äº›æè¿°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type <span class="type">&#123;! Array &lt;number&gt;&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span> </span><br><span class="line"><span class="keyword">const</span> data = [];</span><br></pre></td></tr></table></figure><p>  ä¸å…è®¸æ··åˆä½¿ç”¨å†…è”å’ŒJSDocæ ·å¼ï¼šå› ä¸ºç¼–è¯‘å™¨å°†ä»…å¤„ç†ç¬¬ä¸€ä¸ªJSDocï¼Œå³å†…è”æ³¨é‡Šä¼šä¸¢å¤±ï¼Œä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** ä¸€äº›æè¿°ã€‚*/</span> <span class="keyword">const</span> <span class="comment">/**ï¼Array &lt;number&gt; */</span> æ•°æ®= [];</span><br></pre></td></tr></table></figure><p>  <strong>æç¤ºï¼šåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å¯ä»¥æ¨æ–­å‡ºæ¨¡æ¿åŒ–ç±»å‹ï¼Œä½†ä¸èƒ½æ¨æ–­å…¶å‚æ•°ã€‚å½“åˆå§‹åŒ–å­—é¢é‡æˆ–æ„é€ å‡½æ•°è°ƒç”¨ä¸åŒ…å«æ¨¡æ¿å‚æ•°ç±»å‹çš„ä»»ä½•å€¼(ä¾‹å¦‚ï¼Œç©ºæ•°ç»„ï¼Œå¯¹è±¡ï¼ŒMapå’ŒSet)æˆ–å˜é‡åœ¨é—­åŒ…ä¸­ä¿®æ”¹æ—¶ï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå±€éƒ¨å˜é‡ç±»å‹æ³¨é‡Šç‰¹åˆ«æœ‰ç”¨ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šå°†æ¨¡æ¿å‚æ•°æ¨æ–­æˆæœªçŸ¥ã€‚</strong></p></li><li><p>æ•°ç»„å­—é¢é‡</p><ul><li>ä½¿ç”¨é€—å·ç»“å°¾<br>å¦‚æœæœ€åä¸€ä¸ªå…ƒç´ å’Œå³æ‹¬å·ä¹‹é—´æœ‰æ¢è¡Œç¬¦ï¼Œè¯·åœ¨ç»“å°¾åŠ ä¸Šé€—å·ï¼Œä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> values = [</span><br><span class="line"><span class="string">&#x27;first value&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;second value&#x27;</span>,</span><br><span class="line">];</span><br></pre></td></tr></table></figure></li><li>ä¸è¦ä½¿ç”¨å¯å˜å‚æ•°çš„ <code>Arrayæ„é€ å‡½æ•°</code><br>æ„é€ å‡½æ•°å¾ˆå®¹æ˜“å› ä¸ºä¼ å‚ä¸æ°å½“è€Œå¯¼è‡´é”™è¯¯ã€‚è¯·æ”¹ç”¨å­—é¢é‡å½¢å¼ã€‚<br>ä¸å»ºè®®çš„å½¢å¼ï¼Œä¾‹ï¼š</li></ul>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a1 = <span class="keyword">new</span> <span class="built_in">Array</span>(x1, x2, x3);</span><br><span class="line"><span class="keyword">const</span> a2 = <span class="keyword">new</span> <span class="built_in">Array</span>(x1, x2);</span><br><span class="line"><span class="keyword">const</span> a3 = <span class="keyword">new</span> <span class="built_in">Array</span>(x1);</span><br><span class="line"><span class="keyword">const</span> a4 = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br></pre></td></tr></table></figure><p>  é™¤äº†ç¬¬ä¸‰ç§æƒ…å†µå¤–ï¼Œè¿™å¯ä»¥æŒ‰ç…§é¢„æœŸå·¥ä½œï¼šå¦‚æœx1ä¸ºæ•´æ•°ï¼Œé‚£ä¹ˆa3åˆ™æ˜¯ä¸€ä¸ªé•¿åº¦ä¸ºx1çš„æ•°ç»„ï¼Œå…¶æ‰€æœ‰å…ƒç´ å‡ä¸º<code>undefined</code>ã€‚å¦‚æœx1ä¸ºå…¶ä»–ä»»ä½•æ•°å­—ï¼Œåˆ™å°†å¼•å‘å¼‚å¸¸ã€‚<br>  å»ºè®®çš„å†™æ³•ï¼Œä¾‹ï¼š</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a1 = [x1, x2, x3];</span><br><span class="line"><span class="keyword">const</span> a2 = [x1, x2];</span><br><span class="line"><span class="keyword">const</span> a3 = [x1];</span><br><span class="line"><span class="keyword">const</span> a4 = [];</span><br></pre></td></tr></table></figure><p>  åœ¨é€‚å½“çš„æ—¶å€™ï¼Œå…è®¸ç”¨<code>new Array(length)</code>æ˜¾ç¤ºåˆ†é…ä¸€ä¸ªç»™å®šé•¿åº¦çš„æ•°ç»„ã€‚</p><ul><li>éæ•°å­—å±æ€§<br>è¯·å‹¿åœ¨æ•°ç»„ä¸Šå®šä¹‰æˆ–ä½¿ç”¨éæ•°å­—å±æ€§ï¼ˆé™¤äº†<code>length</code>ï¼‰ã€‚ä½¿ç”¨<code>Map</code>ï¼ˆæˆ–<code>Object</code>ï¼‰ä»£æ›¿ã€‚</li><li>è§£æ„<br>æ•°ç»„å­—é¢é‡å¯ç”¨äºåˆ†é…çš„å·¦ä¾§ä»¥æ‰§è¡Œè§£æ„ï¼ˆä¾‹å¦‚ï¼Œä»å•ä¸ªæ•°ç»„ä¸­è§£å‹ç¼©å¤šä¸ªå€¼æˆ–å¯è¿­ä»£æ—¶ï¼‰ã€‚ å¯ä»¥åŒ…å«æœ€åä¸€ä¸ªrestå…ƒç´ ï¼ˆåœ¨â€¦å’Œå˜é‡åä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼‰,ä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b, c, ...rest] = generateResults();</span><br><span class="line"><span class="comment">//è§£æ„èµ‹å€¼è¿˜å¯ä»¥å¿½ç•¥æŸäº›å…ƒç´ </span></span><br><span class="line"><span class="keyword">let</span> [, b,, d] = someArray</span><br></pre></td></tr></table></figure>è§£æ„ä¹Ÿå¯ä»¥ç”¨äºå‡½æ•°å‚æ•°ï¼ˆè¯·æ³¨æ„ï¼Œå‚æ•°åç§°æ˜¯å¿…éœ€çš„ï¼Œä½†ä¼šè¢«å¿½ç•¥ï¼‰ã€‚å¦‚æœè§£æ„æ•°ç»„çš„å‚æ•°æ˜¯å¯é€‰çš„ï¼Œè¦å§‹ç»ˆæŒ‡å®š<code>[]</code>ä¸ºé»˜è®¤å€¼ï¼Œå¹¶åœ¨å·¦ä¾§æä¾›é»˜è®¤å€¼ï¼Œä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@param <span class="type">&#123;!Array&lt;number&gt;=&#125;</span> </span>param1 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">optionalDestructuring</span>(<span class="params">[a = <span class="number">4</span>, b = <span class="number">2</span>] = []</span>) </span>&#123; â€¦ &#125;;</span><br></pre></td></tr></table></figure>é”™è¯¯çš„å†™æ³•ï¼Œä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">badDestructuring</span>(<span class="params">[a, b] = [<span class="number">4</span>, <span class="number">2</span>]</span>) </span>&#123; â€¦ &#125;;</span><br></pre></td></tr></table></figure></li></ul><p>  <strong>æç¤ºï¼šå¯¹äºå°†å¤šä¸ªå€¼ï¼ˆè§£åŒ…ï¼‰åˆ°ä¸€ä¸ªå‡½æ•°çš„å‚æ•°æˆ–è¿”å›ä¸­ï¼Œåœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œä¼˜å…ˆé€‰æ‹©å¯¹è±¡åˆ†è§£è€Œä¸æ˜¯æ•°ç»„åˆ†è§£ï¼Œå› ä¸ºå®ƒå…è®¸å‘½åå•ä¸ªå…ƒç´ å¹¶ä¸ºæ¯ä¸ªå…ƒç´ æŒ‡å®šä¸åŒçš„ç±»å‹ã€‚</strong></p><ul><li>å±•å¼€è¿ç®—ç¬¦<br>æ•°ç»„å­—é¢é‡å¯ä»¥åŒ…å«å±•å¼€è¿ç®—ç¬¦ï¼ˆ<code>â€¦</code> ï¼‰ï¼Œä»¥å°†å…ƒç´ ä»ä¸€ä¸ªæˆ–å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ä¸­å±•å¼€ï¼Œè€Œä¸æ˜¯ç”¨æ›´ç¬¨æ‹™çš„æ„é€ <code>Array.prototype</code> ã€‚å˜é‡ç´§è·Ÿåœ¨å±•å¼€è¿ç®—ç¬¦åï¼Œæ²¡æœ‰ç©ºæ ¼ã€‚</li></ul></li><li><p>å¯¹è±¡å­—é¢é‡</p><ul><li>ä¸è¦ä½¿ç”¨<code>Objectæ„é€ å‡½æ•°</code><br>è™½ç„¶<code>Object æ„é€ å™¨</code>æ²¡æœ‰ä¸Šè¿°ç±»ä¼¼çš„é—®é¢˜, ä½†é‰´äºå¯è¯»æ€§å’Œä¸€è‡´æ€§è€ƒè™‘, æœ€å¥½è¿˜æ˜¯åœ¨å­—é¢ä¸Šæ›´æ¸…æ™°åœ°æŒ‡æ˜ï¼Œä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o2 = &#123; <span class="attr">a</span>: <span class="number">0</span>, <span class="attr">b</span>: <span class="number">1</span>, <span class="attr">c</span>: <span class="number">2</span> &#125;</span><br></pre></td></tr></table></figure></li><li>è¯·å‹¿æ··ç”¨å¸¦å¼•å·å’Œä¸å¸¦å¼•å·çš„é”®<br>å¯¹è±¡å­—é¢é‡å¯ä»¥è¡¨ç¤ºç»“æ„ï¼ˆå…·æœ‰æœªåŠ å¼•å·çš„é”®å’Œ/æˆ–ç¬¦å·ï¼‰æˆ–å­—å…¸ï¼ˆå…·æœ‰å¼•å·å’Œ/æˆ–è®¡ç®—çš„é”®ï¼‰ã€‚ä¸è¦å°†è¿™ä¸¤ç§é”®ç±»å‹æ··åˆåœ¨å•ä¸ªå¯¹è±¡å­—é¢é‡ä¸­ï¼Œä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line"><span class="attr">width</span>: <span class="number">42</span>,<span class="comment">// structé£æ ¼çš„æœªåŠ å¼•å·çš„é”®</span></span><br><span class="line"><span class="string">&#x27;maxWidth&#x27;</span>: <span class="number">43</span> <span class="comment">// dicté£æ ¼çš„åŠ å¼•å·çš„é”®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>è¿™è¿˜æ‰©å±•åˆ°å°†å±æ€§åç§°ä¼ é€’ç»™å‡½æ•°ï¼Œä¾‹å¦‚ <code>hasOwnProperty</code>ã€‚ç‰¹åˆ«æ˜¯è¿™æ ·åšä¼šç ´åç¼–è¯‘åçš„ä»£ç ï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•é‡å‘½å/æ··æ·†å­—ç¬¦ä¸²æ–‡å­—ã€‚<br>ä¸å»ºè®®çš„å†™æ³•ï¼Œä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@type <span class="type">&#123;&#123;width: number, maxWidth: (number|undefined)&#125;</span></span>&#125; */</span></span><br><span class="line"><span class="keyword">const</span> o = &#123;<span class="attr">width</span>: <span class="number">42</span>&#125;;</span><br><span class="line"><span class="keyword">if</span> (o.hasOwnProperty(<span class="string">&#x27;maxWidth&#x27;</span>)) &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>  æœ€å¥½è¿™æ ·å®ç°ï¼Œä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@type <span class="type">&#123;&#123;width: number, maxWidth: (number|undefined)&#125;</span></span>&#125; */</span></span><br><span class="line"><span class="keyword">const</span> o = &#123;<span class="attr">width</span>: <span class="number">42</span>&#125;;</span><br><span class="line"><span class="keyword">if</span> (o.maxWidth != <span class="literal">null</span>) &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>è®¡ç®—çš„å±æ€§åç§°<br>å…è®¸ä½¿ç”¨è®¡ç®—çš„å±æ€§åç§°ï¼ˆä¾‹å¦‚<code>&#123;[&#39;key&#39;+ fooï¼ˆï¼‰]ï¼š42&#125;</code>ï¼‰ï¼Œå¹¶ä¸”å°†å…¶è§†ä¸ºdictæ ·å¼ï¼ˆå¸¦å¼•å·çš„ï¼‰é”®ï¼ˆå³ï¼Œä¸å¾—ä¸éå¼•å·çš„é”®æ··åˆä½¿ç”¨ï¼‰ï¼Œé™¤éè®¡ç®—å‡ºçš„å±æ€§ æ˜¯ä¸€ä¸ªç¬¦å·ï¼ˆä¾‹å¦‚[Symbol.iterator]ï¼‰ã€‚ æšä¸¾å€¼ä¹Ÿå¯ä»¥ç”¨äºè®¡ç®—é”®ï¼Œä½†ä¸åº”ä¸åŒä¸€å­—é¢é‡ä¸­çš„éæšä¸¾é”®æ··åˆä½¿ç”¨,ä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;width&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line"><span class="attr">width</span>: <span class="number">42</span>,</span><br><span class="line">[<span class="string">&#x27;max&#x27;</span> + foo()] : <span class="number">43</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>æ–¹æ³•é€Ÿè®°<br>å¯ä»¥ä½¿ç”¨æ–¹æ³•ç®€å†™ï¼ˆ<code>&#123;methodï¼ˆï¼‰&#123;â€¦&#125;&#125;</code>ï¼‰ä»£æ›¿å†’å·åç´§è·Ÿå‡½æ•°æˆ–ç®­å¤´å‡½æ•°å¸¸é‡ï¼Œä»è€Œåœ¨å¯¹è±¡ä¸Šå®šä¹‰æ–¹æ³•ã€‚<br>ä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line"><span class="attr">width</span>: <span class="number">42</span>,</span><br><span class="line"><span class="function"><span class="title">getWidth</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">this</span>.width;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>é€Ÿè®°å±æ€§<br>å¯¹è±¡å­—é¢é‡å…è®¸ä½¿ç”¨é€Ÿè®°å±æ€§,ä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> bar = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">foo,</span><br><span class="line">bar,</span><br><span class="line"><span class="function"><span class="title">method</span>(<span class="params"></span>)</span> &#123; <span class="keyword">return</span> <span class="built_in">this</span>.foo + <span class="built_in">this</span>.bar; &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li>è§£æ„<br>å¯¹è±¡è§£æ„æ¨¡å¼å¯ä»¥åœ¨åˆ†é…çš„å·¦ä¾§ä½¿ç”¨ï¼Œä»¥æ‰§è¡Œè§£æ„å¹¶ä»å•ä¸ªå¯¹è±¡è§£å‹ç¼©å¤šä¸ªå€¼ã€‚<br>åˆ†è§£åçš„å¯¹è±¡ä¹Ÿå¯ä»¥ç”¨ä½œå‡½æ•°å‚æ•°ï¼Œä½†åº”ä¿æŒå°½å¯èƒ½çš„ç®€å•ï¼šå•ä¸ªçº§åˆ«çš„æœªå¼•ç”¨é€Ÿè®°å±æ€§ã€‚ å‚æ•°è§£æ„ä¸­å¯èƒ½ä¸ä½¿ç”¨æ›´æ·±å±‚çš„åµŒå¥—å’Œè®¡ç®—çš„å±æ€§ã€‚ åœ¨è§£æ„å‚æ•°çš„å·¦ä¾§æŒ‡å®šä»»ä½•é»˜è®¤å€¼ï¼ˆ<code>&#123;str =&#39;some default&#39;&#125; = &#123;&#125;</code>ï¼Œè€Œä¸æ˜¯<code>&#123;str&#125; = &#123;strï¼š&#39;some default&#39;&#125;</code>ï¼‰ï¼Œå¦‚æœè§£æ„å¯¹è±¡ä¸ºæœ¬èº«æ˜¯å¯é€‰çš„ï¼Œå®ƒå¿…é¡»é»˜è®¤ä¸º<code>&#123;&#125;</code>ã€‚ å¯ä»¥ä¸ºåˆ†è§£ç»“æ„å‚æ•°çš„JSDocæŒ‡å®šä»»ä½•åç§°ï¼ˆè¯¥åç§°æœªä½¿ç”¨ï¼Œä½†ç¼–è¯‘å™¨éœ€è¦ï¼‰,ä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">ordinary</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;&#123;num: (number|undefined), str: (string|undefined)&#125;</span></span>=&#125; param1</span></span><br><span class="line"><span class="comment">*     num: The number of times to do something.</span></span><br><span class="line"><span class="comment">*     str: A string to do stuff to.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">destructured</span>(<span class="params">ordinary, &#123;num, str = <span class="string">&#x27;some default&#x27;</span>&#125; = &#123;&#125;</span>)</span></span><br><span class="line"><span class="function">ä¸è¢«å…è®¸çš„å†™æ³•ï¼Œä¾‹ï¼š</span></span><br><span class="line"><span class="function">/** @<span class="title">param</span> </span>&#123;&#123;<span class="attr">x</span>: &#123;<span class="attr">num</span>: (number|<span class="literal">undefined</span>), <span class="attr">str</span>: (string|<span class="literal">undefined</span>)&#125;&#125;&#125; param1 */</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nestedTooDeeply</span>(<span class="params">&#123;x: &#123;num, str&#125;&#125;</span>) </span>&#123;&#125;;</span><br><span class="line"><span class="comment">/** <span class="doctag">@param <span class="type">&#123;&#123;num: (number|undefined), str: (string|undefined)&#125;</span></span>=&#125; param1 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nonShorthandProperty</span>(<span class="params">&#123;num: a, str: b&#125; = &#123;&#125;</span>) </span>&#123;&#125;;</span><br><span class="line"><span class="comment">/** <span class="doctag">@param <span class="type">&#123;&#123;a: number, b: number&#125;</span></span>&#125; param1 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">computedKey</span>(<span class="params">&#123;a, b, [a + b]: c&#125;</span>) </span>&#123;&#125;;</span><br><span class="line"><span class="comment">/** <span class="doctag">@param <span class="type">&#123;&#123;a: number, b: string&#125;</span></span>=&#125; param1 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nontrivialDefault</span>(<span class="params">&#123;a, b&#125; = &#123;a: <span class="number">2</span>, b: <span class="number">4</span>&#125;</span>) </span>&#123;&#125;;</span><br></pre></td></tr></table></figure></li><li>æšä¸¾<br>æšä¸¾æ˜¯é€šè¿‡å°†@enumæ‰¹æ³¨æ·»åŠ åˆ°å¯¹è±¡å­—é¢é‡ä¸­æ¥å®šä¹‰çš„ã€‚ å®šä¹‰æšä¸¾åï¼Œå¯èƒ½æ— æ³•å°†å…¶ä»–å±æ€§æ·»åŠ åˆ°æšä¸¾ä¸­ã€‚ æšä¸¾å¿…é¡»æ˜¯å¸¸é‡ï¼Œå¹¶ä¸”æ‰€æœ‰æšä¸¾å€¼éƒ½å¿…é¡»æ˜¯ä¸å¯å˜çš„,ä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Supported temperature scales.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@enum <span class="type">&#123;string&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> TemperatureScale = &#123;</span><br><span class="line"><span class="attr">CELSIUS</span>: <span class="string">&#x27;celsius&#x27;</span>,</span><br><span class="line"><span class="attr">FAHRENHEIT</span>: <span class="string">&#x27;fahrenheit&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* An enum with two options.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@enum <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> Option = &#123;</span><br><span class="line"><span class="comment">/** The option used shall have been the first. */</span></span><br><span class="line"><span class="attr">FIRST_OPTION</span>: <span class="number">1</span>,</span><br><span class="line"><span class="comment">/** The second among two options. */</span></span><br><span class="line"><span class="attr">SECOND_OPTION</span>: <span class="number">2</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>ç±»</p><ul><li>æ„é€ å‡½æ•°<br>æ„é€ å‡½æ•°æ˜¯å¯é€‰çš„,å­ç±»æ„é€ å‡½æ•°å¿…é¡»åœ¨è®¾ç½®ä»»ä½•å­—æ®µæˆ–ä»¥å…¶ä»–æ–¹å¼è®¿é—®<code>this</code>ä¹‹å‰è°ƒç”¨<code>superï¼ˆï¼‰</code>ã€‚<br>æ­£ç¡®çš„å†™æ³•,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">name, age, height</span>)</span> &#123;</span><br><span class="line"><span class="built_in">super</span>(name,age);</span><br><span class="line"><span class="built_in">this</span>.height = height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>é”™è¯¯çš„å†™æ³•,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">name, age, height</span>)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.height = height;</span><br><span class="line"><span class="built_in">super</span>(name,age);</span><br><span class="line"><span class="comment">//SyntaxError: &#x27;this&#x27; is not allowed before super()</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>å­—æ®µ<br>åœ¨æ„é€ å‡½æ•°ä¸­è®¾ç½®æ‰€æœ‰å…·ä½“å¯¹è±¡çš„å­—æ®µï¼ˆå³æ–¹æ³•ä»¥å¤–çš„æ‰€æœ‰å±æ€§ï¼‰ã€‚ä½¿ç”¨ @const ä¿®é¥°çš„å­—æ®µä»£è¡¨å¸¸é‡ï¼Œä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚ ä½¿ç”¨é€‚å½“çš„å¯è§æ€§æ³¨é‡Šï¼ˆ@privateï¼Œ@protectedï¼Œ@packageï¼‰æ³¨é‡Šéå…¬å…±å­—æ®µï¼Œå¹¶åœ¨æ‰€æœ‰@privateå­—æ®µçš„åç§°åé¢åŠ ä¸Šä¸‹åˆ’çº¿ã€‚ å­—æ®µæ°¸è¿œä¸ä¼šè®¾ç½®åœ¨å…·ä½“ç±»çš„åŸå‹ä¸Š,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="comment">/** <span class="doctag">@private </span><span class="doctag">@const <span class="type">&#123;!Bar&#125;</span> </span>*/</span></span><br><span class="line"><span class="built_in">this</span>.bar_ = computeBar();</span><br><span class="line"></span><br><span class="line"><span class="comment">/** <span class="doctag">@protected </span><span class="doctag">@const <span class="type">&#123;!Baz&#125;</span> </span>*/</span></span><br><span class="line"><span class="built_in">this</span>.baz = computeBaz();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>  <strong>æç¤º:ç±»åœ¨åˆå§‹åŒ–ä¹‹åï¼Œå°±ä¸èƒ½å†å‘å…¶æ·»åŠ æˆ–åˆ é™¤å±æ€§äº†ï¼Œå› ä¸ºè¿™ä¼šå½±å“è™šæ‹Ÿæœºå¯¹å…¶è¿›è¡Œä¼˜åŒ–ã€‚å¦‚æœå¿…è¦ï¼Œå¯ä»¥å°†ä¹‹åæ‰è¿›è¡Œåˆå§‹åŒ–çš„å­—æ®µå…ˆèµ‹å€¼ä¸º undefinedï¼Œè¿™æ ·å…ˆå ä½ä¹‹åï¼Œé˜²æ­¢åé¢å†æ·»åŠ æ–°å±æ€§ã€‚å¯¹è±¡èº«ä¸Šçš„@struct æ³¨é‡Šå¯ä»¥å¯¹ä¸å­˜åœ¨çš„å­—æ®µçš„è®¿é—®è¿›è¡Œæ£€æŸ¥ã€‚ç±»è‡ªå¸¦äº†è¿™ä¸€åŠŸèƒ½ã€‚</strong></p><ul><li>è®¡ç®—å±æ€§<br>è®¡ç®—å±æ€§åªèƒ½ç”¨äºç±»çš„å±æ€§æ˜¯ symbol çš„æƒ…å†µã€‚ Dict-style ç±»å‹çš„å±æ€§ï¼ˆå¸¦å¼•å·æˆ–é symbol çš„è®¡ç®—å±æ€§æ˜¯ä¸è¢«å…è®¸çš„ã€‚å¯¹äºå¯éå†çš„ç±»ï¼Œéœ€è¦å®šä¹‰å…¶ [Symbol.iterator] æ–¹æ³•ã€‚å…¶ä»–æƒ…å†µä¸‹å°‘ç”¨ Symbolã€‚</li></ul><p>  <strong>æ³¨æ„:ä½¿ç”¨å…¶ä»–å†…å»ºçš„ symbol æ—¶è¦æ ¼å¤–å°å¿ƒï¼ˆe.g. Symbol.isConcatSpreadableï¼‰,å› ä¸ºç¼–è¯‘å™¨æ²¡æœ‰å¯¹å®ƒè¿›è¡Œå«ç‰‡ï¼ˆå‘åå…¼å®¹ï¼‰å¤„ç†ï¼Œæ‰€ä»¥åœ¨æ—§ç‰ˆæµè§ˆå™¨ä¸­ä¼šæœ‰é—®é¢˜</strong></p><ul><li>é™æ€æ–¹æ³•<br>åœ¨ä¸å½±å“å¯è¯»æ€§çš„å‰æä¸‹ï¼Œæ¨èä½¿ç”¨æ¨¡å—å†…éƒ¨çš„å‡½æ•°è€Œä¸æ˜¯é™æ€æ–¹æ³•ã€‚</li></ul><p>  é™æ€æ–¹æ³•åº”è¯¥åªç”¨äºåŸºç±»ã€‚é™æ€æ–¹æ³•ä¸åº”è¯¥ä»ä¸€ä¸ªä¿å­˜äº†å®ä¾‹çš„å˜é‡èº«ä¸Šè°ƒç”¨ï¼Œè¿™ä¸ªå®ä¾‹æœ‰å¯èƒ½æ˜¯æ„é€ å™¨æˆ–è€…å­ç±»çš„æ„é€ å™¨åˆå§‹åŒ–è€Œæ¥ï¼ˆé™æ€æ–¹æ³•åº”è¯¥ä½¿ç”¨ @nocollapse æ¥æ³¨é‡Šï¼‰ï¼Œè€Œä¸”å¦‚æœå­ç±»æ²¡æœ‰å®šä¹‰è¯¥æ–¹æ³•çš„è¯ï¼Œä¸åº”è¯¥ä»å­ç±»ç›´æ¥è°ƒç”¨ã€‚<br>  é”™è¯¯çš„å†™æ³•,ä¾‹:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>&#123; <span class="comment">/** <span class="doctag">@nocollapse </span>*/</span> <span class="keyword">static</span> <span class="function"><span class="title">foo</span>(<span class="params"></span>)</span> &#123;&#125; &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sub</span> <span class="keyword">extends</span> <span class="title">Base</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callFoo</span>(<span class="params">cls</span>) </span>&#123; cls.foo(); &#125;  <span class="comment">// discouraged: don&#x27;t call static methods dynamically</span></span><br><span class="line">Sub.foo();  <span class="comment">// illegal: don&#x27;t call static methods on subclasses that don&#x27;t define it themselves</span></span><br></pre></td></tr></table></figure><ul><li>å£°æ˜ç±»çš„æ—§æ–¹å¼<br>ES6 æ–¹å¼çš„ç±»å£°æ˜æ˜¯é¦–é€‰ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ES6ç±»å¯èƒ½ä¸å¯è¡Œã€‚ä¾‹å¦‚ï¼š<ul><li>å¦‚æœå­˜åœ¨æˆ–å°†è¦å­˜åœ¨å­ç±»ï¼ŒåŒ…æ‹¬æ¡†æ¶åˆ›å»ºçš„å­ç±»ï¼Œè¿˜ä¸èƒ½ç«‹å³ä½¿ç”¨ ES6 é£æ ¼çš„ç±»å£°æ˜ã€‚å› ä¸ºå¦‚æœåŸºç±»ä½¿ç”¨ ES6 æ–¹å¼çš„è¯ï¼Œæ‰€æœ‰å­ç±»ä»£ç éƒ½éœ€è¦æ›´æ”¹ã€‚</li><li>æœ‰äº›æ¡†æ¶åœ¨è°ƒç”¨å­ç±»æ„é€ å™¨æ—¶éœ€è¦æ˜¾å¼æä¾› thisï¼Œè€Œ ES6 é£æ ¼çš„ç±»ä¸­åœ¨è°ƒç”¨ super å‰æ˜¯è·å–ä¸åˆ° this çš„ã€‚</li></ul></li></ul><p>  æ­¤è§„åˆ™è¿˜åº”ç”¨äºè¿™äº›ä»£ç ï¼š<code>let</code>ï¼Œ<code>const</code>ï¼Œé»˜è®¤å‚æ•°ï¼Œrest å’Œç®­å¤´å‡½æ•°ã€‚</p><p>  é€šè¿‡ goog.defineClass å¯ä»¥è¿›è¡Œç±» ES6 æ–¹å¼çš„ç±»å£°æ˜ï¼š</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> C = goog.defineClass(S, &#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">value</span>)</span> &#123;</span><br><span class="line">S.call(<span class="built_in">this</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">/** <span class="doctag">@const </span>*/</span></span><br><span class="line"><span class="built_in">this</span>.prop = value;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">param</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="title">method</span>(<span class="params">param</span>)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>  å¦å¤–ï¼Œå°½ç®¡<code>goog.defineClass</code>æ‰€æœ‰æ–°ä»£ç éƒ½åº”é¦–é€‰ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´ä¼ ç»Ÿçš„è¯­æ³•,ä¾‹:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@constructor </span><span class="doctag">@extends <span class="type">&#123;S&#125;</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">value</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">C</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">S.call(<span class="built_in">this</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">/** <span class="doctag">@const </span>*/</span></span><br><span class="line"><span class="built_in">this</span>.prop = value;</span><br><span class="line">&#125;</span><br><span class="line">goog.inherits(C, S);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">param</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">C.prototype.method = <span class="function"><span class="keyword">function</span>(<span class="params">param</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>  å¦‚æœæœ‰åŸºç±»çš„è¯ï¼Œå®ä¾‹ä¸­çš„å±æ€§éœ€è¦åœ¨åŸºç±»çš„æ„é€ å™¨ä¸­å®šä¹‰ã€‚è€Œæ–¹æ³•åˆ™éœ€è¦åœ¨æ„é€ å™¨çš„åŸå‹ä¸Šå®šä¹‰ã€‚</p><p>  ä¸€å¼€å§‹æ­£ç¡®åœ°å®šä¹‰æ„é€ å™¨çš„ç»§æ‰¿å…³ç³»å¹¶ä¸æ˜¯ä»¶å®¹æ˜“çš„äº‹ï¼æ‰€ä»¥ï¼Œæœ€å¥½ä½¿ç”¨ the Closure Library æä¾›çš„ <code>goog.inherits</code> æ–¹æ³•ã€‚</p><ul><li><p>ä¸è¦ç›´æ¥æ“ä½œ<code>prototype</code><br>é€šè¿‡ class å…³é”®å­—å®šä¹‰ç±»æ¯”æ“ä½œ prototype æ›´åŠ ç®€æ´å’Œç›´è§‚ã€‚ä¸€èˆ¬æƒ…å†µä¸‹çš„ä»£ç å¹¶æ²¡æœ‰å¿…è¦æ“ä½œåŸå‹ï¼Œå°½ç®¡å®ƒä»¬å¯¹äºå®šä¹‰æ—§å¼ç±»å£°æ˜ä¸­å®šä¹‰çš„ç±»ä»ç„¶æœ‰ç”¨ã€‚æ˜ç¡®ç¦æ­¢æ··å…¥å’Œä¿®æ”¹å†…ç½®å¯¹è±¡çš„åŸå‹.<br>ä¾‹å¤–:æ¡†æ¶ä»£ç (ä¾‹å¦‚Polymeræˆ–Angular)å¯èƒ½éœ€è¦ä½¿ç”¨<code>prototype</code>sï¼Œå¦åˆ™å®ç°èµ·æ¥ä¼šæ›´åŠ ä¸‘é™‹ã€‚</p></li><li><p>Getters and Setters<br>ä¸è¦ä½¿ç”¨ JavaScript <code>getter</code>å’Œ <code>setter</code>å±æ€§ã€‚å…¶è¡Œä¸ºä¸é€æ˜å‡ºé—®é¢˜éš¾è¿½æŸ¥ï¼Œç¼–è¯‘å™¨æ”¯æŒä¸Šä¹Ÿæœ‰å±€é™ã€‚æä¾›æ­£å¸¸çš„æ–¹æ³•æ¥ä»£æ›¿ä»–ä»¬ã€‚</p></li></ul><p>  ä¾‹å¤–ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ä¸å¯é¿å…åœ°ä¼šå®šä¹‰<code>getter</code>æˆ–<code>setter</code>ï¼ˆä¾‹å¦‚<code>Angular</code>å’Œ<code>Polymer</code>ç­‰æ•°æ®ç»‘å®šæ¡†æ¶ï¼Œæˆ–è€…æ— æ³•ä¸è°ƒæ•´çš„å¤–éƒ¨APIçš„å…¼å®¹æ—¶ï¼‰ã€‚ä»…åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨<code>getter</code>å’Œ<code>setter</code>æ—¶è¦æ ¼å¤–å°å¿ƒï¼Œå‰ææ˜¯å®ƒä»¬æ˜¯é€šè¿‡<code>get</code>å’Œ<code>set</code>ç®€å†™æ–¹æ³•å…³é”®å­—å®šä¹‰çš„<code>Object.defineProperties</code>ï¼ˆæˆ–ï¼ˆä¸æ˜¯ <code>Object.defineProperty</code>ï¼Œè¿™ä¼šå¹²æ‰°å±æ€§é‡å‘½åï¼‰ï¼‰ã€‚Gettersä¸å¾—æ›´æ”¹å¯è§‚å¯ŸçŠ¶æ€ã€‚<br>  ä¸å…è®¸çš„å†™æ³•,ä¾‹:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line"><span class="keyword">get</span> <span class="title">next</span>() &#123; <span class="keyword">return</span> <span class="built_in">this</span>.nextId++; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é‡å†™ toString<br>å¯ä»¥é‡å†™ toString æ–¹æ³•ï¼Œä½†å§‹ç»ˆåº”è¯¥è¿”å›æˆåŠŸï¼Œå¹¶ä¸”ä¸äº§ç”Ÿå‰¯ä½œç”¨ï¼ˆside effectsï¼‰ã€‚</li></ul><p>  <strong>æç¤º:éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç‰¹åˆ«æ˜¯åœ¨ toString ä¸­è°ƒç”¨å…¶ä»–æ–¹æ³•æ—¶ï¼Œç‰¹æ®Šæƒ…å†µå¯èƒ½å¯¼è‡´æ­»å¾ªç¯ã€‚</strong></p><ul><li><p>æ¥å£<br>æ¥å£å¯ä»¥é€šè¿‡ @interface æˆ– @record æ¥å£°æ˜ã€‚é€šè¿‡ @record å£°æ˜çš„æ¥å£èƒ½å¤Ÿè¢«æ˜¾å¼ï¼ˆi.e. é€šè¿‡ @implementsï¼‰æˆ–è€…éšå¼åœ°è¢«ç±»æˆ–å¯¹è±¡å®ç°ã€‚<br>æ¥å£ä¸Šçš„æ‰€æœ‰éé™æ€æ–¹æ³•ä¸»ä½“éƒ½å¿…é¡»ä¸ºç©ºå—ã€‚ å­—æ®µå¿…é¡»åœ¨ç±»æ„é€ å‡½æ•°ä¸­å£°æ˜ä¸ºæœªåˆå§‹åŒ–çš„æˆå‘˜,ä¾‹:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Something that can frobnicate.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@record</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Frobnicator</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="comment">/** <span class="doctag">@type <span class="type">&#123;number&#125;</span> </span>The number of attempts before giving up. */</span></span><br><span class="line"><span class="built_in">this</span>.attempts;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Performs the frobnication according to the given strategy.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;!FrobnicationStrategy&#125;</span> <span class="variable">strategy</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="title">frobnicate</span>(<span class="params">strategy</span>)</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æŠ½è±¡ç±»<br>é€‚å½“æ—¶ä½¿ç”¨æŠ½è±¡ç±»ã€‚æŠ½è±¡ç±»å’Œæ–¹æ³•å¿…é¡»ä½¿ç”¨æ³¨é‡Š@abstractã€‚ä¸è¦ä½¿ç”¨<code>goog.abstractMethod</code>ã€‚è¯·å‚é˜…<a href="https://github.com/google/closure-compiler/wiki/@abstract-classes-and-methods">æŠ½è±¡ç±»å’Œæ–¹æ³•</a>ã€‚</p></li></ul></li><li><p>å‡½æ•°</p><ul><li>é¡¶çº§å‡½æ•°<br>é¡¶çº§å‡½æ•°å¯ä»¥ç›´æ¥åœ¨å¯¼å‡ºå¯¹è±¡ä¸Šå®šä¹‰ï¼Œä¹Ÿå¯ä»¥åœ¨æœ¬åœ°å£°æ˜ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å¯¼å‡º,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>str */</span></span><br><span class="line"><span class="built_in">exports</span>.processString = <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// Process the string.</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>str */</span></span><br><span class="line"><span class="keyword">const</span> processString = <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// Process the string.</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span> = &#123;processString&#125;;</span><br></pre></td></tr></table></figure><ul><li><p>åµŒå¥—å‡½æ•°åŠé—­åŒ…<br>å‡½æ•°å†…å¯åŒ…å«åµŒå¥—å‡½æ•°çš„å®šä¹‰ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥èµ‹å€¼ç»™ä¸€ä¸ª const å˜é‡ã€‚</p></li><li><p>ç®­å¤´å‡½æ•°<br>ç®­å¤´å‡½æ•°æä¾›äº†ç®€æ´çš„å‡½æ•°è¯­æ³•ï¼Œå¹¶ç®€åŒ–äº†åµŒå¥—å‡½æ•°çš„ä½œç”¨åŸŸã€‚ ä¼˜å…ˆé€‰æ‹©ç®­å¤´å‡½æ•°è€Œä¸æ˜¯functionå…³é”®å­—ï¼Œç‰¹åˆ«æ˜¯å¯¹äºåµŒå¥—å‡½æ•°ã€‚</p></li></ul><p>  æ¨èä½¿ç”¨ç®­å¤´å‡½æ•°ä»£æ›¿ <code>f.bind(this)</code>ï¼Œç‰¹åˆ«æ˜¯ä»£æ›¿ <code>goog.bind(f,this)</code>ã€‚ é¿å…<code>const self = this</code>è¿™æ ·çš„å†™æ³•ã€‚ç®­å¤´å‡½æ•°ç‰¹åˆ«é€‚åˆç”¨äºå¯èƒ½ä¼šä¼ å‚å›è°ƒã€‚</p><p>  ç®­å¤´çš„å·¦ä¾§åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªæœªåˆ†è§£çš„å‚æ•°ï¼Œåˆ™å‚æ•°å‘¨å›´çš„æ‹¬å·æ˜¯å¯é€‰çš„ã€‚ä½¿ç”¨æ‹¬å·æ—¶ï¼Œå¯ä»¥æŒ‡å®šå†…è”å‚æ•°ç±»å‹</p><p>  <strong>æç¤º:å§‹ç»ˆéƒ½å†™æ‹¬å·æ˜¯ç§å¥½çš„åšæ³•ï¼Œå› ä¸ºåé¢å¦‚æœä¸€æ—¦æ–°åŠ äº†å‚æ•°åˆå¿˜è®°å†™æ‹¬å·åˆ™ä¼šæœ‰è¯­æ³•é”™è¯¯ã€‚</strong></p><p>  ç®­å¤´çš„å³ä¾§åŒ…å«å‡½æ•°çš„ä¸»ä½“ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸»ä½“ä¸ºblockè¯­å¥ï¼ˆé›¶ä¸ªæˆ–å¤šä¸ªç”¨èŠ±æ‹¬å·æ‹¬èµ·æ¥çš„è¯­å¥ï¼‰ã€‚ å¦‚æœå‘ç”Ÿä»¥ä¸‹æƒ…å†µä¹‹ä¸€ï¼Œåˆ™ä¸»ä½“ä¹Ÿå¯èƒ½æ˜¯éšå¼è¿”å›çš„å•ä¸ªè¡¨è¾¾å¼ï¼šç¨‹åºé€»è¾‘è¦æ±‚è¿”å›å€¼ï¼Œæˆ–è€…voidè¿ç®—ç¬¦ä½äºå•ä¸ªå‡½æ•°æˆ–æ–¹æ³•è°ƒç”¨ä¹‹å‰ï¼ˆä½¿ç”¨voidç¡®ä¿æœªå®šä¹‰è¿”å›ï¼Œé˜²æ­¢æ³„æ¼å€¼å¹¶ä¼ è¾¾æ„å›¾ï¼‰ã€‚ å¦‚æœå•ä¸€è¡¨è¾¾å½¢å¼æé«˜äº†å¯è¯»æ€§ï¼ˆä¾‹å¦‚ï¼Œå¯¹äºç®€çŸ­è¡¨è¾¾æˆ–ç®€å•è¡¨è¾¾ï¼‰ï¼Œåˆ™å®ƒæ˜¯é¦–é€‰,ä¾‹:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Arrow functions can be documented just like normal functions.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>numParam A number to add.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>strParam Another number to add that happens to be a string.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return <span class="type">&#123;number&#125;</span> </span>The sum of the two parameters.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> moduleLocalFunc = <span class="function">(<span class="params">numParam, strParam</span>) =&gt;</span> numParam + <span class="built_in">Number</span>(strParam);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Uses the single expression syntax with `void` because the program logic does</span></span><br><span class="line"><span class="comment">// not require returning a value.</span></span><br><span class="line">getValue(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="keyword">void</span> alert(<span class="string">`Got <span class="subst">$&#123;result&#125;</span>`</span>));</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CallbackExample</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="comment">/** <span class="doctag">@private <span class="type">&#123;number&#125;</span> </span>*/</span></span><br><span class="line"><span class="built_in">this</span>.cachedValue_ = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// For inline callbacks, you can use inline typing for parameters.</span></span><br><span class="line"><span class="comment">// Uses a block statement because the value of the single expression should</span></span><br><span class="line"><span class="comment">// not be returned and the expression is not a single function call.</span></span><br><span class="line">getNullableValue(<span class="function">(<span class="params"><span class="comment">/** ?number */</span> result</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.cachedValue_ = result == <span class="literal">null</span> ? <span class="number">0</span> : result;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  ä¸å»ºè®®çš„å†™æ³•,ä¾‹:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* A function with no params and no returned value.</span></span><br><span class="line"><span class="comment">* This single expression body usage is illegal because the program logic does</span></span><br><span class="line"><span class="comment">* not require returning a value and we&#x27;re missing the `void` operator.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> moduleLocalFunc = <span class="function">() =&gt;</span> anotherFunction();</span><br></pre></td></tr></table></figure><ul><li>ç”Ÿæˆå™¨(Generators)<br>ç”Ÿæˆå™¨å¸¦æ¥è®¸å¤šæœ‰ç”¨çš„æŠ½è±¡æ¦‚å¿µï¼Œå¿…è¦æ—¶å¯ä»¥ä½¿ç”¨ã€‚</li></ul><p>  é€šè¿‡åœ¨<code>function</code>å…³é”®å­—åé¢åŠ <code>*</code>å·æ¥å®šä¹‰ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œåé¢åŠ ç©ºæ ¼ä¸ç”Ÿæˆå™¨åç§°éš”å¼€ã€‚ä½¿ç”¨ä»£ç†çš„<code>yield</code>æ—¶ï¼Œåœ¨<code>yield</code>å…³é”®å­—ååŠ <code>*</code>å·,ä¾‹:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@return <span class="type">&#123;!Iterator&lt;number&gt;&#125;</span> </span>*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">yield</span> <span class="number">42</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** <span class="doctag">@return <span class="type">&#123;!Iterator&lt;number&gt;&#125;</span> </span>*/</span></span><br><span class="line"><span class="keyword">const</span> gen2 = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">yield</span>* gen1();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span> </span>&#123;</span><br><span class="line"><span class="comment">/** <span class="doctag">@return <span class="type">&#123;!Iterator&lt;number&gt;&#125;</span> </span>*/</span></span><br><span class="line">* <span class="function"><span class="title">gen</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="keyword">yield</span> <span class="number">42</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>å‚æ•°å’Œè¿”å›ç±»å‹<br>å‡½æ•°å‚æ•°å’Œè¿”å›ç±»å‹é€šå¸¸åº”ä½¿ç”¨JSDocæ³¨é‡Šè®°å½•ã€‚</p><ul><li>é»˜è®¤å‚æ•°<br>å‚æ•°åˆ—è¡¨ä¸­é€šè¿‡ç­‰å·æ¥æŒ‡å®šå¯é€‰å‚æ•°ã€‚å¯é€‰å‚æ•°å¿…é¡»åœ¨<code>=</code>è¿ç®—ç¬¦çš„ä¸¤ä¾§éƒ½åŒ…å«ç©ºæ ¼ï¼Œå‘½åä¸Šä¸æ­£å¸¸å‚æ•°ä¸€æ ·ï¼ˆä¸ä½¿ç”¨ opt_ å‰ç¼€ï¼‰ï¼ŒJSDoc æŒ‡å®šç±»å‹æ—¶ä½¿ç”¨<code>=</code>åç¼€ï¼Œé¡ºåºä¸Šç½®äºæ­£å¸¸å‚æ•°ä¹‹åï¼Œä¸è¦ç”¨åˆå§‹åŒ–ä»¥ç¡®ä¿ä»£ç æ˜ç¡®ã€‚æ‰€æœ‰å¯é€‰å‚æ•°éƒ½éœ€è¦æŒ‡å®šé»˜è®¤å€¼ï¼Œå“ªæ€•å®ƒæ˜¯<code>undefined</code>ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>required This parameter is always needed.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string=&#125;</span> </span>optional This parameter can be omitted.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;!Node=&#125;</span> </span>node Another optional parameter.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maybeDoSomething</span>(<span class="params">required, optional = <span class="string">&#x27;&#x27;</span>, node = <span class="literal">undefined</span></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** <span class="doctag">@interface </span>*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInterface</span> </span>&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Interface and abstract methods must omit default parameter values.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string=&#125;</span> <span class="variable">optional</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="title">someMethod</span>(<span class="params">optional</span>)</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>å°½é‡å°‘åœ°ä½¿ç”¨å¯é€‰å‚æ•°ã€‚å‚æ•°ä¸å®šçš„æƒ…å†µä¸‹æ¨èä½¿ç”¨è§£æ„çš„æ–¹å¼ï¼Œè¿™æ ·æ‰€å®šä¹‰å‡ºæ¥çš„ API æ›´åŠ å¯è¯»ã€‚</li></ul><p>  <strong>æ³¨æ„ï¼šä¸ Python ä¸åŒï¼Œåˆå§‹åŒ–å¯é€‰å‚æ•°æ—¶è¿”å›æ–°çš„éå¯å˜å¯¹è±¡ï¼ˆ[] æˆ– {}ï¼‰æ˜¯å¯ä»¥çš„ã€‚å› ä¸ºæ¯æ¬¡å¯é€‰å‚æ•°è¢«ä½¿ç”¨æ—¶ï¼Œéƒ½æ˜¯é‡æ–°èµ‹å€¼ï¼Œä¸ä¼šä¸ä¸Šä¸€æ¬¡çš„å¤ç”¨ã€‚åŒ…æ‹¬å‡½æ•°è°ƒç”¨çš„ä»»ä½•è¡¨è¾¾å¼éƒ½ä¼šç”¨åˆ°åˆå§‹åŒ–æ¨¡å—ï¼Œæ‰€ä»¥åˆå§‹åŒ–æ¨¡å—åº”è¯¥å°½é‡ç®€å•ã€‚é¿å…åˆå§‹åŒ–æ¨¡å—æš´éœ²å…±äº«å¯å˜åŸŸï¼Œè¿™å®¹æ˜“å¯¼è‡´å‡½æ•°è°ƒç”¨ä¹‹é—´çš„æ— æ„è€¦åˆã€‚</strong></p><ul><li>å‰©ä½™å‚æ•°<br>ä½¿ç”¨å‰©ä½™å‚æ•°è€Œä¸æ˜¯ argumentsã€‚JSDoc ä¸­ä½¿ç”¨<code>...</code>æ ‡è¯†å‰©ä½™å‚æ•°ã€‚å‰©ä½™å‚æ•°å¿…éœ€ä½äºå‚æ•°åˆ—è¡¨æœ«å°¾ã€‚æ³¨æ„<code>...</code>ä¸å‚æ•°åé—´æ²¡æœ‰ç©ºæ ¼ã€‚ä¹Ÿä¸è¦ç»™å‰©ä½™å‚æ•°å‘½åã€‚åƒä¸‡ä¸è¦ç»™å˜é‡æˆ–å‚æ•°å–å<code>arguments</code>ï¼Œè¿™ä¼šè¦†ç›–å†…å»ºçš„åŒåå‚æ•°,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;!Array&lt;string&gt;&#125;</span> </span>array This is an ordinary parameter.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;...number&#125;</span> </span>numbers The remainder of arguments are all numbers.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">variadic</span>(<span class="params">array, ...numbers</span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>æ³›å‹<br>å®šä¹‰æ³›å‹å‡½æ•°æˆ–æ–¹æ³•æ—¶éœ€åœ¨JSæ³¨æ–‡ä¸­åŠ ä¸Š@template TYPEã€‚</p></li><li><p>æ‰©å±•è¿ç®—ç¬¦<br>å¯ä½¿ç”¨å±•ç¤ºæ“ä½œç¬¦ï¼ˆ<code>...</code>ï¼‰æ¥è°ƒç”¨å‡½æ•°ã€‚å½“ä½¿ç”¨æ•°ç»„æˆ–å¯éå†å¯¹è±¡è§£æåä½œä¸ºå‡½æ•°å…¥å‚æ—¶ï¼Œæ¨èä½¿ç”¨å±•å¼€æ“ä½œç¬¦æ¥æ›¿ä»£ <code>Function.prototype.apply</code>ã€‚æ³¨æ„<code>...</code>åé¢æ²¡æœ‰ç©ºæ ¼,ä¾‹:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params">...elements</span>) </span>&#123;&#125;</span><br><span class="line">myFunction(...array, ...iterable, ...generator());</span><br></pre></td></tr></table></figure></li></ul></li><li><p>å­—ç¬¦ä¸²å­—é¢é‡</p><ul><li>ä½¿ç”¨å•å¼•å·<br>å¸¸è§„å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·(<code>&#39;</code>)è€ŒéåŒå¼•å·(<code>&quot;</code>)æ¥å®šä¹‰ã€‚<br>é€šå¸¸æƒ…å†µä¸‹ï¼Œå­—ç¬¦ä¸²ä¸èƒ½è·¨è¡Œã€‚</li></ul><p>  <strong>æç¤º:å¦‚æœå­—ç¬¦ä¸²åŒ…å«å•å¼•å·å­—ç¬¦ï¼Œè¯·è€ƒè™‘ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œä»¥é¿å…ä¸å¾—ä¸å¯¹å¼•å·è¿›è¡Œè½¬ä¹‰ã€‚</strong></p><ul><li>æ¨¡æ¿å­—ç¬¦ä¸²<br>ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆ<code> </code> `ï¼‰æ›¿ä»£å¤æ‚çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œç‰¹åˆ«æ˜¯å‚ä¸æ‹¼æ¥çš„å˜é‡å¾ˆå¤šæ—¶ã€‚æ¨¡æ¿å­—ç¬¦ä¸²æ˜¯å¯ä»¥è·¨è¶Šå¤šè¡Œçš„ã€‚<br>æ¨¡æ¿å­—ç¬¦ä¸²è·¨è¶Šå¤šè¡Œæ—¶ï¼Œå¯ä¸å—ä»£ç å—ç¼©è¿›è§„åˆ™é™åˆ¶ï¼Œå¦‚æœåŠ ä¸Šç¼©è¿›å¥½çœ‹äº›çš„è¯ä¹Ÿå¯ä»¥,ä¾‹:</li></ul>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arithmetic</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">`Here is a table of arithmetic operations:</span></span><br><span class="line"><span class="string"><span class="subst">$&#123;a&#125;</span> + <span class="subst">$&#123;b&#125;</span> = <span class="subst">$&#123;a + b&#125;</span></span></span><br><span class="line"><span class="string"><span class="subst">$&#123;a&#125;</span> - <span class="subst">$&#123;b&#125;</span> = <span class="subst">$&#123;a - b&#125;</span></span></span><br><span class="line"><span class="string"><span class="subst">$&#123;a&#125;</span> * <span class="subst">$&#123;b&#125;</span> = <span class="subst">$&#123;a * b&#125;</span></span></span><br><span class="line"><span class="string"><span class="subst">$&#123;a&#125;</span> / <span class="subst">$&#123;b&#125;</span> = <span class="subst">$&#123;a / b&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸è¦ä½¿ç”¨å¤šè¡Œæ¥ç»­<br>æ— è®ºæ˜¯å¸¸è§„å­—ç¬¦ä¸²è¿˜æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­éƒ½ä¸è¦ä½¿ç”¨å¤šè¡Œæ¥ç»­ï¼ˆå³åœ¨è¡Œå°¾åŠ åæ–œæ \ï¼‰ã€‚è™½ç„¶ ES5 å…è®¸è¿™ä¹ˆæ“ä½œï¼Œä½†åæ–œæ åçš„ç©ºæ ¼ä¼šå¯¼è‡´é—®é¢˜ï¼Œå¹¶ä¸”è¿™ç§å½¢å¼ä¹Ÿä¸æ˜“è¯»ã€‚<br>é”™è¯¯çš„å†™æ³•,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> longString = <span class="string">&#x27;This is a very long string that far exceeds the 80 \</span></span><br><span class="line"><span class="string">column limit. It unfortunately contains long stretches of spaces due \</span></span><br><span class="line"><span class="string">to how the continued lines are indented.&#x27;</span>;</span><br></pre></td></tr></table></figure>æ­£ç¡®çš„å†™æ³•,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> longString = <span class="string">&#x27;This is a very long string that far exceeds the 80 &#x27;</span> +</span><br><span class="line"><span class="string">&#x27;column limit. It does not contain long stretches of spaces since &#x27;</span> +</span><br><span class="line"><span class="string">&#x27;the concatenated strings are cleaner.&#x27;</span>;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>æ•°å­—å­—é¢é‡<br>æ•°å­—å¯æœ‰å¤šç§å‘ˆç°å½¢å¼ï¼šåè¿›åˆ¶ï¼Œåå…­è¿›åˆ¶ï¼Œå…«è¿›åˆ¶æˆ–äºŒè¿›åˆ¶ã€‚åˆ†åˆ«ä½¿ç”¨å°å†™çš„ 0xï¼Œ0oï¼Œ0b å‰ç¼€è¡¨ç¤ºåå…­è¿›åˆ¶ï¼Œå…«è¿›åˆ¶ä»¥åŠäºŒè¿›åˆ¶æ•°å­—ã€‚é™¤æ­¤ä¹‹å¤–ä¸åº”è¯¥å‡ºç°ä»¥0å¼€å¤´çš„æ•°å­—ã€‚</p></li><li><p>æ§åˆ¶ç»“æ„</p><ul><li><p>forå¾ªç¯<br>ES6ä¹‹åä¸€å…±æœ‰ä¸‰ç§forå¾ªç¯,æ¨èä½¿ç”¨<code>for-of</code><br><code>for-in</code>é€‚ç”¨äºå­—å…¸ç±»å‹ï¼ˆdist-styleï¼‰è€Œä¸è¦ç”¨äºéå†æ•°ç»„ã€‚é…åˆ<code>Object.prototype.hasOwnProperty</code>æ¥è¿‡æ»¤æ‰éç›´æ¥çš„å±æ€§ã€‚æ¨èä½¿ç”¨<code>for-of </code>å’Œ<code> Object.keys</code>ï¼Œå…¶æ¬¡æ‰æ˜¯ <code>for-in</code>ã€‚</p></li><li><p>å¼‚å¸¸<br>å¼‚å¸¸æ˜¯è¯­è¨€ä¸­é‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œå‘ç”Ÿå¼‚å¸¸æ—¶åº”å°½å¯èƒ½æŠ›å‡ºã€‚å§‹ç»ˆæŠ›å‡ºErroræˆ–å­ç±»çš„Errorï¼Œè€Œä¸æ˜¯æŠ›å‡ºå­—ç¬¦ä¸²æˆ–å…¶ä»–å¯¹è±¡ä½œä¸ºå¼‚å¸¸ã€‚ä½¿ç”¨ <code>Error</code>æ—¶å§‹ç»ˆé€šè¿‡<code>new</code>æ¥åˆ›å»ºæ–°å®ä¾‹ã€‚</p></li></ul><p>  è¿™ç§å¤„ç†æ‰©å±•åˆ°<code>Promise</code>æ‹’ç»å€¼ï¼Œå› ä¸ºåœ¨å¼‚æ­¥å‡½æ•°ä¸­<code>Promise.rejectï¼ˆobjï¼‰</code>ç­‰æ•ˆäº<code>throw obj;</code> ã€‚</p><p>  è‡ªå®šä¹‰ç±»å‹çš„é”™è¯¯æä¾›äº†éå¸¸å¥½çš„æ–¹å¼å±•ç¤ºå‡½æ•°ä¸­çš„å¼‚å¸¸ã€‚å½“åŸç”Ÿé”™è¯¯ç±»å‹ä¸èƒ½æ»¡è¶³éœ€æ±‚æ—¶ï¼Œåº”å°½å¯èƒ½åˆ›å»ºè‡ªå®šä¹‰çš„å¼‚å¸¸ã€‚</p><p>  é‡åˆ°é”™è¯¯åç«‹å³æŠ›å‡ºä¼˜äºå°†é”™è¯¯è¿›è¡Œä¼ é€’ã€‚</p><p>  ç©ºçš„ catch å—</p><p>  å“åº”æ•è·åˆ°çš„å¼‚å¸¸ï¼Œä»€ä¹ˆä¹Ÿä¸åšæ˜¯éå¸¸æ­£ç¡®çš„ã€‚ å½“ç¡®å®åœ¨catchå—ä¸­ä¸æ‰§è¡Œä»»ä½•æ“ä½œæ—¶ï¼Œä½†è®°å¾—åŠ æ³¨é‡Šè§£é‡Šä¸€ä¸‹åŸå› ,ä¾‹:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">return</span> handleNumericResponse(response);</span><br><span class="line">&#125; <span class="keyword">catch</span> (ok) &#123;</span><br><span class="line"><span class="comment">// it&#x27;s not numeric; that&#x27;s fine, just continue</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> handleTextResponse(response);</span><br></pre></td></tr></table></figure><p>  é”™è¯¯çš„å†™æ³•,ä¾‹:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">shouldFail();</span><br><span class="line">fail(<span class="string">&#x27;expected an error&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (expected) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  <strong>æç¤º:ä¸åƒå…¶ä»–ä¸€äº›è¯­è¨€ï¼Œä¸Šé¢ç¤ºä¾‹è¡Œä¸é€šï¼Œå› ä¸ºä¼šé€šè¿‡<code>fail</code>æ¥æ•è·å¤„ç†ã€‚æ‰€ä»¥ä½¿ç”¨<code>assertThrows</code>ã€‚</strong></p><ul><li><p>switch è¯­å¥<br>æœ¯è¯­è§£é‡Šï¼šswitch è¯­å¥ä½“ä¸­å…¶å®æ˜¯å¾ˆå¤šç»„çš„ä»£ç å—ã€‚æ¯ä¸€ç»„åˆåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª switch æ ‡ç­¾ï¼ˆ<code>case Foo:</code> æˆ– <code>default:</code>ï¼‰ä»¥åŠæ ‡ç­¾åè·Ÿéšçš„ä»£ç è¯­å¥ã€‚</p><ul><li>Fall-throughï¼šè¦åŠ æ³¨é‡Š<br>æ¯ä¸ª switch æ ‡ç­¾è¦ä¹ˆé€šè¿‡<code>break</code>ï¼Œ<code>return</code>ï¼Œ<code>throw</code> ç»“æŸï¼Œè¦ä¹ˆé€šè¿‡æ³¨é‡Šç›´æ¥è·³è¿‡åˆ°ä¸‹ä¸€æ ‡ç­¾ã€‚åœ¨å‘ç”Ÿè·³è¿‡çš„æƒ…å†µæ—¶ï¼Œéšä¾¿åŠ ä¸ªæ³¨é‡Šéƒ½è¡Œã€‚å¦‚æœæ˜¯æœ€åä¸€ä¸ªæ ‡ç­¾å¯ä»¥ä¸åŠ ,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (input) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">prepareOneOrTwo();</span><br><span class="line"><span class="comment">// fall through</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">handleOneTwoOrThree();</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">handleLargeNumber(input);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>default æ˜¯ä¸èƒ½çœçš„<br>å³ä½¿ default æ ‡ç­¾ä¸­ä¸åŒ…å«é€»è¾‘ï¼Œä¹Ÿä¸è¦çœç•¥ã€‚</li></ul></li></ul></li><li><p>this<br>  åº”è¯¥åªåœ¨ç±»çš„æ„é€ å™¨æˆ–æ–¹æ³•ä¸­ä½¿ç”¨<code>this</code>ï¼Œæˆ–ç±»ä¸­çš„ç®­å¤´å‡½æ•°ã€‚å…¶ä»–æƒ…å†µä¸‹ä½¿ç”¨Â·thisÂ·éœ€è¦åœ¨å‡½æ•°çš„ JSDoc ç»“å°¾å¤„æ·»åŠ  @this æ³¨é‡Šã€‚<br>  ä¸è¦ä½¿ç”¨<code>this</code>æ¥å¼•ç”¨å…¨å±€å¯¹è±¡ï¼Œ<code>eval</code>çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œäº‹ä»¶çš„è§¦å‘å…ƒç´ ï¼Œä»¥åŠå‡½æ•°è¿™ç§ä¸å¿…è¦çš„ç”¨æ³•ä¸­ <code>call()</code>ï¼Œ<code>apply()</code> ã€‚</p></li><li><p>ç›¸ç­‰æ£€æŸ¥<br>ä½¿ç”¨æ’ç­‰è¿ç®—ç¬¦ï¼ˆ=== /ï¼==ï¼‰ï¼Œä½†ä»¥ä¸‹æƒ…å†µé™¤å¤–ã€‚</p><ul><li>éœ€è¦å¼ºåˆ¶è½¬æ¢çš„å¼‚å¸¸<br>æ•æ‰<code>null</code>å’Œ<code>undefined</code>å€¼ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (someObjectOrPrimitive == <span class="literal">null</span>) &#123;</span><br><span class="line"><span class="comment">// Checking for null catches both null and undefined for objects and primitives , </span></span><br><span class="line"><span class="comment">// but does not catch other falsy values like 0 or the empty string.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>ç¦æ­¢ä½¿ç”¨çš„ç‰¹æ€§</p><ul><li>with<br>æœç»ä½¿ç”¨<code>with</code>å…³é”®å­—ã€‚è¿™æ ·çš„ä»£ç ä¸æ˜“è¯»ï¼Œè€Œä¸” ES5 ä¹‹åå°±ç¦æ­¢æ‰äº†ã€‚</li><li>ä»£ç çš„åŠ¨æ€æ±‚å€¼<br>ä¸è¦ä½¿ç”¨<code>eval</code>æˆ–<code>Function(...string) æ„é€ å™¨</code>ä»£ç åŠ è½½å™¨ï¼ˆcode loaderï¼‰ä¸­é™¤å¤–ï¼‰ã€‚è¿™äº›å…³é”®å­—å¾ˆå±é™©å¹¶ä¸”åœ¨ CSP ç¯å¢ƒä¸­æ˜¯ä¸å·¥ä½œçš„ã€‚</li></ul><p>  <strong>CSP æŒ‡ <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">Content Security Policy (CSP)</a></strong></p><ul><li>è‡ªåŠ¨åˆ†å·æ·»åŠ <br>å§‹ç»ˆä»¥åˆ†å·ç»“æŸè¯­å¥ï¼ˆç±»ä¸å‡½æ•°çš„å£°æ˜é™¤å¤–ï¼‰ã€‚</li><li>éæ ‡å‡†çš„ç‰¹æ€§<br>ä¸è¦ä½¿ç”¨è¿˜ä¸æ˜¯æ ‡å‡†çš„ç‰¹æ€§ã€‚åŒ…æ‹¬å·²ç»è¢«ç§»é™¤çš„ç‰¹æ€§ï¼ˆe.g. WeakMap.clearï¼‰ï¼Œè¿˜æœªçº³å…¥æ ‡å‡†çš„æ–°ç‰¹æ€§ï¼ˆe.g. TC39 ç›®å‰çš„è‰ç¨¿ï¼Œæè®®ï¼Œé€šè¿‡æè®®ä½†è¿˜æœªå®Œæˆæ ‡å‡†åˆ¶å®šï¼‰ï¼Œæˆ–ä¸€äº›åªè¢«éƒ¨åˆ†æµè§ˆå™¨æ‰€å®ç°çš„ç‰¹æ€§ã€‚åªä½¿ç”¨åŒ…å«åœ¨ ECMA-262 æˆ– WHATWG standards æ ‡ç­¾ä¸­çš„ç‰¹æ€§ã€‚ä½†ä¸€äº›æœ‰è‡ªå·±è§„èŒƒçš„é¡¹ç›®æ˜¯å¯ä»¥ä½¿ç”¨è¿™äº›ç‰¹æ€§çš„ï¼Œæ¯”å¦‚ Chrome æ’ä»¶æˆ– Node.jsã€‚ä¸‰æ–¹è½¬è¯‘å™¨æä¾›çš„ç‰¹æ€§ä¹Ÿæ˜¯è¢«ç¦æ­¢çš„ã€‚</li><li>åŸå§‹ç±»å‹çš„åŒ…è£…å¯¹è±¡<br>å¯¹äºåŸå§‹å€¼çš„åŒ…è£…å¯¹è±¡ï¼ˆ<code>Boolean</code>, <code>Number</code>, <code>String</code>, <code>Symbol</code>ï¼‰ä¸èƒ½ç”¨<code>new</code>è°ƒç”¨ï¼Œä¹Ÿä¸èƒ½ç”¨æ¥ä½œç±»å‹å£°æ˜ã€‚<br>é”™è¯¯çš„å†™æ³•,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="comment">/** Boolean */</span> x = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">if</span> (x) alert(<span class="keyword">typeof</span> x);  <span class="comment">// alerts &#x27;object&#x27; - WAT?</span></span><br></pre></td></tr></table></figure>è¿™äº›åŒ…è£…å™¨å¯åœ¨éœ€è¦ç±»å‹è½¬æ¢æ—¶å½“ä½œå‡½æ•°æ¥è°ƒç”¨ï¼ˆè€Œä¸æ˜¯ä½¿ç”¨æ‹¼æ¥ç©ºå­—ç¬¦ä¸²çš„æ–¹å¼æ¥è½¬æˆå­—ç¬¦ä¸²ï¼‰ï¼Œæˆ–ç”¨äºåˆ›å»º symbolã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="comment">/** boolean */</span> x = <span class="built_in">Boolean</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span> (!x) alert(<span class="keyword">typeof</span> x);  <span class="comment">// alerts &#x27;boolean&#x27;, as expected</span></span><br></pre></td></tr></table></figure></li><li>ä¿®æ”¹åŸç”Ÿå¯¹è±¡<br>åƒä¸‡ä¸è¦ä¿®æ”¹åŸç”Ÿå¯¹è±¡ï¼Œå‘å…¶æ„é€ å™¨æˆ–åŸå‹æ·»åŠ æ–¹æ³•éƒ½æ˜¯ä¸è¡Œçš„ã€‚è¿›è¡Œäº†è¿™äº›æ“ä½œçš„ä¸‰æ–¹åº“ä¹Ÿè¦é¿å…ä½¿ç”¨ã€‚ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šå°½å¯èƒ½æä¾›è¿™äº›åŸç”Ÿå¯¹è±¡çš„åŸå§‹ç‰ˆæœ¬ï¼›æ‰€ä»¥åŸç”Ÿå¯¹è±¡çš„ä»»ä½•ä¸œè¥¿éƒ½ä¸è¦å»åŠ¨ã€‚</li></ul><p>  ä¸åˆ°ä¸‡ä¸å¾—å·²ï¼Œä¸è¦å‘å…¨å±€å¯¹è±¡æ·»åŠ å±æ€§ï¼ˆe.g. ä¸‰æ–¹åº“éœ€è¦è¿™æ ·åšï¼‰ã€‚</p></li></ul><h2 id="JavaScript-ç¼–ç é£æ ¼"><a href="#JavaScript-ç¼–ç é£æ ¼" class="headerlink" title="JavaScript ç¼–ç é£æ ¼"></a>JavaScript ç¼–ç é£æ ¼</h2><ul><li><p>JSDoc<br>JSDoc ä½¿ç”¨åœ¨äº†æ‰€æœ‰çš„ç±»ï¼Œå­—æ®µä»¥åŠæ–¹æ³•ä¸Šã€‚</p><ul><li>é€šç”¨å½¢å¼<br>JSDoc åŸºæœ¬çš„å½¢å¼å¦‚ä¸‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Multiple lines of JSDoc text are written here,</span></span><br><span class="line"><span class="comment">* wrapped normally.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>arg A number to do something to.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">arg</span>) </span>&#123; â€¦ &#125;</span><br></pre></td></tr></table></figure>æˆ–è€…è¿™ç§å•è¡Œçš„å½¢å¼ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@const </span><span class="doctag">@private <span class="type">&#123;!Foo&#125;</span> </span>A short bit of JSDoc. */</span></span><br><span class="line"><span class="built_in">this</span>.foo_ = foo;</span><br></pre></td></tr></table></figure>å¦‚æœå•è¡Œå½¢å¼é•¿åˆ°éœ€è¦æŠ˜è¡Œï¼Œåˆ™éœ€è¦åˆ‡æ¢åˆ°å¤šè¡Œæ¨¡å¼è€Œä¸æ˜¯ä½¿ç”¨å•è¡Œå½¢å¼ã€‚<br>æœ‰è®¸å¤šå·¥å…·ä¼šå¯¹ JSDoc æ–‡æ¡£è¿›è¡Œè§£æä»¥æå–å‡ºæœ‰æ•ˆçš„ä¿¡æ¯å¯¹ä»£ç è¿›è¡Œæ£€æŸ¥å’Œä¼˜åŒ–ã€‚æ‰€ä»¥è¿™äº›æ³¨é‡Šéœ€è¦å¥½å¥½å†™ã€‚</li><li>Markdown<br>JSDoc æ”¯æŒ Markdownï¼Œæ‰€ä»¥å¿…è¦æ—¶å¯åŒ…å« HTMLã€‚<br>å·¥å…·ä¼šè‡ªåŠ¨æå– JSDoc çš„å†…å®¹ï¼Œå…¶ä¸­è‡ªå·±ä¹¦å†™çš„æ ¼å¼ä¼šè¢«å¿½ç•¥ã€‚æ¯”å¦‚å¦‚æœä½ å†™æˆä¸‹é¢è¿™ä¸ªæ ·å­ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Computes weight based on three factors:</span></span><br><span class="line"><span class="comment">*   items sent</span></span><br><span class="line"><span class="comment">*   items received</span></span><br><span class="line"><span class="comment">*   last timestamp</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>æœ€ç»ˆæå–å‡ºæ¥æ˜¯è¿™æ ·çš„ï¼š<br><code>Computes weight based on three factors: items sent items received last timestamp</code><br>å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ markdown çš„è¯­æ³•æ¥æ ¼å¼åŒ–,ä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Computes weight based on three factors:</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*  - items sent</span></span><br><span class="line"><span class="comment">*  - items received</span></span><br><span class="line"><span class="comment">*  - last timestamp</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li><li>JSDocæ ‡ç­¾<br>æœ¬è§„åˆ™å¯ä½¿ç”¨ JSDoc tags çš„ä¸€ä¸ªå­é›†ã€‚è¯¦ç»†åˆ—è¡¨è§é™„å½•ã€‚å¤§éƒ¨åˆ† tags ç‹¬å ä¸€è¡Œã€‚<br>é”™è¯¯çš„å†™æ³•,ä¾‹ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* The &quot;param&quot; tag must occupy its own line and may not be combined.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>left <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">right</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">left, right</span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure></li></ul><p>  ç®€å•çš„ tag æ— éœ€é¢å¤–æ•°æ®ï¼ˆæ¯”å¦‚ @privateï¼Œ@constï¼Œ@finalï¼Œ@exportï¼‰ï¼Œå¯ä»¥åˆå¹¶åˆ°ä¸€è¡Œã€‚</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Place more complex annotations (like &quot;implements&quot; and &quot;template&quot;)</span></span><br><span class="line"><span class="comment">* on their own lines.  Multiple simple tags (like &quot;export&quot; and &quot;final&quot;)</span></span><br><span class="line"><span class="comment">* may be combined in one line.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@export </span><span class="doctag">@final</span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@implements <span class="type">&#123;Iterable&lt;TYPE&gt;&#125;</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@template <span class="variable">TYPE</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;!ObjType&#125;</span> </span>obj Some object.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;number=&#125;</span> </span>num An optional number.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">obj, num = <span class="number">42</span></span>)</span> &#123;</span><br><span class="line"><span class="comment">/** <span class="doctag">@private </span><span class="doctag">@const <span class="type">&#123;!Array&lt;!ObjType|number&gt;&#125;</span> </span>*/</span></span><br><span class="line"><span class="built_in">this</span>.data_ = [obj, num];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  å…³äºåˆå¹¶åŠåˆå¹¶åçš„é¡ºåºæ²¡æœ‰æ˜ç¡®çš„è§„èŒƒï¼Œä»£ç ä¸­ä¿æŒä¸€è‡´å³å¯ã€‚</p><ul><li>æ¢è¡Œ<br>æ¢è¡Œä¹‹åçš„ tag å—ä½¿ç”¨å››ä¸ªç©ºæ ¼è¿›è¡Œç¼©è¿›ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Illustrates line wrapping for long param/return descriptions.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>foo This is a param with a description too long to fit in</span></span><br><span class="line"><span class="comment">*     one line.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return <span class="type">&#123;number&#125;</span> </span>This returns something that has a description too long to</span></span><br><span class="line"><span class="comment">*     fit in one line.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">exports</span>.method = <span class="function"><span class="keyword">function</span>(<span class="params">foo</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>@fileoverview æ¢è¡Œæ—¶ä¸ç¼©è¿›ã€‚</li><li>æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š<br>ä¸€ä¸ªæ–‡ä»¶å¯ä»¥åœ¨å¤´éƒ¨æœ‰ä¸ªæ€»è§ˆã€‚åŒ…æ‹¬ç‰ˆæƒä¿¡æ¯ï¼Œä½œè€…ä»¥åŠé»˜è®¤å¯é€‰çš„å¯è§ä¿¡æ¯/visibility levelç­‰ã€‚æ–‡ä»¶ä¸­åŒ…å«å¤šä¸ªç±»æ—¶ï¼Œå¤´éƒ¨è¿™ä¸ªæ€»è§ˆæ˜¾å¾—å¾ˆæœ‰å¿…è¦ã€‚å®ƒå¯ä»¥å¸®åŠ©åˆ«äººå¿«é€Ÿäº†è§£è¯¥æ–‡ä»¶çš„å†…å®¹ã€‚å¦‚æœå†™äº†ï¼Œåˆ™åº”è¯¥æœ‰ä¸€ä¸ªæè¿°å­—æ®µç®€å•ä»‹ç»æ–‡ä»¶ä¸­çš„å†…å®¹ä»¥åŠä¸€äº›ä¾èµ–ï¼Œæˆ–è€…å…¶ä»–ä¿¡æ¯ã€‚æ¢è¡Œåä¸ç¼©è¿›,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@fileoverview </span>Description of file, its uses and information</span></span><br><span class="line"><span class="comment">* about its dependencies.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@package</span></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li><li>ç±»çš„æ³¨é‡Š<br>ç±»ï¼Œæ¥å£ä»¥åŠ records éœ€è¦æœ‰æè¿°ï¼Œå‚æ•°ï¼Œå®ç°çš„æ¥å£ä»¥åŠå¯è§æ€§æˆ–å…¶ä»–é€‚å½“çš„ tags æ³¨é‡Šã€‚ç±»çš„æè¿°éœ€è¦å‘Šè¯‰è¯»è€…ç±»çš„ä½œç”¨åŠä½•æ—¶ä½¿ç”¨è¯¥ç±»ï¼Œä»¥åŠå…¶ä»–ä¸€äº›å¯ä»¥å¸®åŠ©åˆ«äººæ­£ç¡®ä½¿ç”¨è¯¥ç±»çš„æœ‰ç”¨ä¿¡æ¯ã€‚æ„é€ å™¨ä¸Šçš„æ–‡æœ¬æè¿°å¯çœç•¥ã€‚@constructor å’Œ @extends ä¸ä¸ class ä¸€èµ·ä½¿ç”¨ï¼Œé™¤éè¯¥ç±»æ˜¯ç”¨æ¥å£°æ˜æ¥å£ @interface æˆ–è€…æ‰©å±•ä¸€ä¸ªæ³›å‹ç±»ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* A fancier event target that does cool things.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@implements <span class="type">&#123;Iterable&lt;string&gt;&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyFancyTarget</span> <span class="keyword">extends</span> <span class="title">EventTarget</span> </span>&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>arg1 An argument that makes this more interesting.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;!Array&lt;number&gt;&#125;</span> </span>arg2 List of numbers to be processed.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">arg1, arg2</span>)</span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Records are also helpful.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@extends <span class="type">&#123;Iterator&lt;TYPE&gt;&#125;</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@record</span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@template <span class="variable">TYPE</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Listable</span> </span>&#123;</span><br><span class="line"><span class="comment">/** <span class="doctag">@return <span class="type">&#123;TYPE&#125;</span> </span>The next item in line to be returned. */</span></span><br><span class="line"><span class="function"><span class="title">next</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>æšä¸¾å’Œ typedef æ³¨é‡Š<br>æ‰€æœ‰æšä¸¾å’Œtypedefå¿…é¡»åœ¨ä¸Šä¸€è¡Œç”¨é€‚å½“çš„JSDocæ ‡è®°ï¼ˆ@typedefæˆ–@enumï¼‰è¿›è¡Œè®°å½•ã€‚ å…¬å…±æšä¸¾å’Œtypedefä¹Ÿå¿…é¡»æœ‰æè¿°ã€‚ å•ä¸ªæšä¸¾é¡¹å¯èƒ½åœ¨ä¸Šä¸€è¡Œå¸¦æœ‰JSDocæ³¨é‡Šçš„æ–‡æ¡£ä¸­ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* A useful type union, which is reused often.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@typedef <span class="type">&#123;!Bandersnatch|!BandersnatchType&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">let</span> CoolUnionType;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Types of bandersnatches.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@enum <span class="type">&#123;string&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> BandersnatchType = &#123;</span><br><span class="line"><span class="comment">/** This kind is really frumious. */</span></span><br><span class="line"><span class="attr">FRUMIOUS</span>: <span class="string">&#x27;frumious&#x27;</span>,</span><br><span class="line"><span class="comment">/** The less-frumious kind. */</span></span><br><span class="line"><span class="attr">MANXOME</span>: <span class="string">&#x27;manxome&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>Typedefs å¯æ–¹ä¾¿åœ°ç”¨äºå®šä¹‰ records ç±»å‹ï¼Œæˆ– unions çš„åˆ«åï¼Œå¤æ‚å‡½æ•°ï¼Œæˆ–è€… æ³›å‹ç±»å‹ã€‚Typedefs ä¸é€‚åˆç”¨æ¥å®šä¹‰å­—æ®µå¾ˆå¤šçš„ recordsï¼Œå› ä¸ºå…¶ä¸æ”¯æŒå¯¹æ¯ä¸ªå­—æ®µè¿›è¡Œæ–‡æ¡£ä¹¦å†™ï¼Œä¹Ÿä¸é€‚åˆç”¨äºæ¨¡æ¿æˆ–é€’å½’å¼•ç”¨ä¸­ã€‚å¯¹äºå¤§å‹ records ä½¿ç”¨ @recordã€‚</li><li>æ–¹æ³•ä¸å‡½æ•°æ³¨é‡Š<br>åœ¨æ–¹æ³•å’Œå‘½åå‡½æ•°ä¸­ï¼Œå¿…é¡»è®°å½•å‚æ•°å’Œè¿”å›ç±»å‹ï¼Œé™¤éç›¸åŒç­¾å@overridesçœç•¥æ‰€æœ‰ç±»å‹ã€‚å¿…è¦æ—¶åº”è®°å½•æ­¤ç±»å‹ã€‚å¦‚æœå‡½æ•°æ²¡æœ‰éç©ºçš„returnè¯­å¥ï¼Œåˆ™å¯ä»¥çœç•¥è¿”å›ç±»å‹ã€‚</li></ul><p>  å¦‚æœæ–¹æ³•ï¼Œå‚æ•°å’Œè¿”å›æè¿°ï¼ˆä½†ä¸æ˜¯ç±»å‹ï¼‰åœ¨æ–¹æ³•çš„å…¶ä½™JSDocæˆ–å…¶ç­¾åä¸­æ˜¾è€Œæ˜“è§ï¼Œåˆ™å¯ä»¥çœç•¥ã€‚</p><p>  æ–¹æ³•çš„æè¿°åº”ä½¿ç”¨ç¬¬ä¸‰äººç§°ã€‚</p><p>  å¦‚æœæ–¹æ³•è¦†ç›–è¶…ç±»æ–¹æ³•ï¼Œåˆ™å®ƒå¿…é¡»åŒ…å«@overrideæ³¨é‡Šã€‚è¦†ç›–çš„æ–¹æ³•ä»è¶…ç±»æ–¹æ³•ç»§æ‰¿æ‰€æœ‰JSDocæ³¨é‡Šï¼ˆåŒ…æ‹¬å¯è§æ€§æ³¨é‡Šï¼‰ï¼Œå¹¶ä¸”åº”åœ¨è¦†ç›–çš„æ–¹æ³•ä¸­å°†å…¶çœç•¥ã€‚ä½†æ˜¯ï¼Œå¦‚æœåœ¨ç±»å‹æ³¨é‡Šä¸­å®Œå–„äº†ä»»ä½•ç±»å‹ï¼Œåˆ™å¿…é¡»æ˜¾å¼æŒ‡å®šæ‰€æœ‰@paramå’Œ@returnæ³¨é‡Šã€‚</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** A class that does something. */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span> <span class="keyword">extends</span> <span class="title">SomeBaseClass</span> </span>&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Operates on an instance of MyClass and returns something.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;!MyClass&#125;</span> </span>obj An object that for some reason needs detailed</span></span><br><span class="line"><span class="comment">*     explanation that spans multiple lines.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;!OtherClass&#125;</span> <span class="variable">obviousOtherClass</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@return <span class="type">&#123;boolean&#125;</span> </span>Whether something occurred.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="title">someMethod</span>(<span class="params">obj, obviousOtherClass</span>)</span> &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** <span class="doctag">@override </span>*/</span></span><br><span class="line"><span class="function"><span class="title">overriddenMethod</span>(<span class="params">param</span>)</span> &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Demonstrates how top-level functions follow the same rules.  This one</span></span><br><span class="line"><span class="comment">* makes an array.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;TYPE&#125;</span> <span class="variable">arg</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@return <span class="type">&#123;!Array&lt;TYPE&gt;&#125;</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@template <span class="variable">TYPE</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeArray</span>(<span class="params">arg</span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure><p>  å¦‚æœåªéœ€è¦è®°å½•å‡½æ•°çš„å‚æ•°å’Œè¿”å›ç±»å‹ï¼Œåˆ™å¯ä»¥é€‰æ‹©åœ¨å‡½æ•°ç­¾åä¸­ä½¿ç”¨å†…è”JSDocsã€‚ è¿™äº›å†…è”JSDocsæŒ‡å®šä¸å¸¦æ ‡ç­¾çš„returnå’Œparamç±»å‹,ä¾‹:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> /** <span class="title">string</span> */ <span class="title">foo</span>(<span class="params"><span class="comment">/** number */</span> arg</span>) </span>&#123;...&#125;</span><br></pre></td></tr></table></figure><p>  å¦‚æœéœ€è¦æè¿°æˆ–æ ‡ç­¾ï¼Œè¯·åœ¨æ–¹æ³•ä¸Šæ–¹ä½¿ç”¨å•ä¸ªJSDocæ³¨é‡Šã€‚ ä¾‹å¦‚ï¼Œè¿”å›å€¼çš„æ–¹æ³•éœ€è¦@returnæ ‡è®°ã€‚</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">arg</span></span></span></span><br><span class="line"><span class="comment">* <span class="doctag">@return <span class="type">&#123;string&#125;</span></span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="title">bar</span>(<span class="params">arg</span>)</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  ä»¥ä¸‹å†™æ³•æ˜¯é”™è¯¯çš„:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Illegal inline JSDocs.</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line"><span class="comment">/** <span class="doctag">@return <span class="type">&#123;string&#125;</span> </span>*/</span> <span class="function"><span class="title">foo</span>(<span class="params"></span>)</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Function description. */</span> <span class="function"><span class="title">bar</span>(<span class="params"></span>)</span> &#123;...&#125;</span><br></pre></td></tr></table></figure><p>  åœ¨åŒ¿åå‡½æ•°ä¸­ï¼Œæ³¨é‡Šé€šå¸¸æ˜¯å¯é€‰çš„ã€‚ å¦‚æœè‡ªåŠ¨ç±»å‹æ¨æ–­ä¸è¶³æˆ–æ˜¾å¼æ³¨é‡Šæé«˜äº†å¯è¯»æ€§ï¼Œåˆ™å¯¹paramè¿›è¡Œæ³¨é‡Šå¹¶è¿”å›å¦‚ä¸‹ç±»å‹ï¼š</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">promise.then(</span><br><span class="line"><span class="comment">/** <span class="doctag">@return <span class="type">&#123;string&#125;</span> </span>*/</span></span><br><span class="line"><span class="function">(<span class="params"><span class="comment">/** !Array&lt;string&gt; */</span> items</span>) =&gt;</span> &#123;</span><br><span class="line">doSomethingWith(items);</span><br><span class="line"><span class="keyword">return</span> items[<span class="number">0</span>];</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>å‘½å</p><ul><li>é€‚ç”¨äºæ‰€æœ‰æ ‡è¯†ç¬¦çš„è§„åˆ™<br>å¯ç”¨äºæ ‡è¯†ç¬¦çš„æœ‰ ASCII å­—ç¬¦ï¼Œæ•°å­—ï¼Œè¿˜æœ‰ä¸‹åˆ’çº¿ _ ä»¥åŠä¸å¤ªå¸¸ç”¨çš„ $ (ä¸€äº›æ¡†æ¶é‡Œé¢æ¯”å¦‚ Angular ä¼šç”¨)ã€‚</li></ul><p>  æ ‡è¯†ç¬¦å–åå°½é‡è¡¨æ„ã€‚ä¸è¦æ€•åå­—å¤ªé•¿ï¼Œå› ä¸ºä»£ç æ˜¯ç»™äººçœ‹çš„ï¼Œåˆ«äººèƒ½çœ‹æ‡‚æœ€é‡è¦ã€‚ä¸è¦ä½¿ç”¨å¸¦æ­§ä¹‰çš„ç¼©å†™æˆ–è€…é¡¹ç›®ä¹‹å¤–çš„äººçœ‹ä¸æ‡‚çš„ç¼©å†™ï¼Œä¹Ÿä¸è¦é€šè¿‡åˆ é™¤æŸä¸ªå•è¯ä¸­çš„å­—ç¬¦æ¥å‘æ˜ç¼©å†™ï¼Œä¾‹:</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">errorCount          <span class="comment">// No abbreviation.</span></span><br><span class="line">dnsConnectionIndex  <span class="comment">// Most people know what &quot;DNS&quot; stands for.</span></span><br><span class="line">referrerUrl         <span class="comment">// Ditto for &quot;URL&quot;.</span></span><br><span class="line">customerId          <span class="comment">// &quot;Id&quot; is both ubiquitous and unlikely to be misunderstood.</span></span><br></pre></td></tr></table></figure><p>  ä¸å»ºè®®çš„å†™æ³•ä¾‹ï¼š</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">n                   <span class="comment">// Meaningless.</span></span><br><span class="line">nErr                <span class="comment">// Ambiguous abbreviation.</span></span><br><span class="line">nCompConns          <span class="comment">// Ambiguous abbreviation.</span></span><br><span class="line">wgcConnections      <span class="comment">// Only your group knows what this stands for.</span></span><br><span class="line">pcReader            <span class="comment">// Lots of things can be abbreviated &quot;pc&quot;.</span></span><br><span class="line">cstmrId             <span class="comment">// Deletes internal letters.</span></span><br><span class="line">kSecondsPerDay      <span class="comment">// Do not use Hungarian notation.</span></span><br></pre></td></tr></table></figure><ul><li><p>æ ‡è¯†ç¬¦ç±»å‹çš„å‘½åè§„åˆ™</p><ul><li>åŒ…å<br>åŒ…åå…¨æ˜¯<strong>lowerCamelCase</strong>ã€‚ä¾‹å¦‚ï¼Œ<code> my.exampleCode.deepSpace</code>ä½†ä¸æ˜¯<code>my.examplecode.deepspace</code>æˆ–<code>my.example_code.deep_space</code>ã€‚</li><li>ç±»å<br>å®šä¹‰ç±»ï¼Œæ¥å£ï¼Œè®°å½•å’Œ typedef åç§°æ—¶,ä½¿ç”¨å¤§å†™å¼€å¤´çš„é©¼å³°<strong>UpperCamelCase</strong>ã€‚</li></ul><p>  æœªè¢«å¯¼å‡ºçš„ç±»åªæœ¬åœ°ä½¿ç”¨ï¼Œå¹¶æ²¡æœ‰ç”¨ @private æ ‡è¯†ï¼Œæ‰€ä»¥å‘½åä¸Šä¸éœ€è¦ä»¥ä¸‹åˆ’çº¿ç»“å°¾ã€‚</p><p>  ç±»å‹åç§°é€šå¸¸ä¸ºåè¯æˆ–åè¯çŸ­è¯­ã€‚æ¯”å¦‚ï¼ŒRequestï¼ŒImmutableListï¼Œæˆ–è€… VisibilityModeã€‚æ­¤å¤–ï¼Œæ¥å£åæœ‰æ—¶ä¼šæ˜¯ä¸€ä¸ªå½¢å®¹è¯æˆ–å½¢å®¹çŸ­è¯­ï¼ˆæ¯”å¦‚ Readableï¼‰ã€‚</p><ul><li>æ–¹æ³•å<br>æ–¹æ³•åä½¿ç”¨å°å†™å¼€å¤´çš„é©¼å³°ã€‚ç§æœ‰æ–¹æ³•éœ€ä»¥ä¸‹åˆ’çº¿ç»“å°¾ã€‚</li></ul><p>  æ–¹æ³•åä¸€èˆ¬ä¸ºåŠ¨è¯æˆ–åŠ¨è¯çŸ­è¯­ã€‚æ¯”å¦‚<code>sendMessage</code>æˆ–è€…<code>stop_</code>ã€‚å±æ€§çš„ Getter æˆ– Setter ä¸æ˜¯å¿…éœ€çš„ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œä¹Ÿæ˜¯å°å†™é©¼å³°å‘½åä¸”éœ€è¦ç±»ä¼¼è¿™æ · <code>getFoo</code>(å¯¹äºå¸ƒå°”å€¼ä½¿ç”¨ isFoo æˆ– hasFoo å½¢å¼)ï¼Œ <code>setFoo(value)</code>ã€‚</p><p>  å•å…ƒæµ‹è¯•ä»£ç ä¸­çš„æ–¹æ³•åä¼šå‡ºç°ç”¨ä¸‹åˆ’çº¿æ¥åˆ†éš”ç»„ä»¶å½¢å¼ã€‚ä¸€ç§å…¸å‹çš„å½¢å¼æ˜¯è¿™æ ·çš„ <code>test&lt;MethodUnderTest&gt;_&lt;state&gt;</code>ï¼Œä¾‹å¦‚ <code>testPop_emptyStack</code>ã€‚å¯¹äºè¿™ç§æµ‹è¯•ä»£ç ä¸­çš„æ–¹æ³•ï¼Œå‘½åä¸Šæ²¡æœ‰ç»Ÿä¸€çš„è¦æ±‚ã€‚</p><ul><li>æšä¸¾å<br>æšä¸¾ä½¿ç”¨å¤§å†™å¼€å¤´çš„é©¼å³°ï¼Œå’Œç±»ç›¸ä¼¼ï¼Œä¸€èˆ¬ä¸€ä¸ªå•æ•°å½¢å¼çš„åè¯ã€‚æšä¸¾ä¸­çš„å…ƒç´ å†™æˆ<code>CONSTANT_CASE</code>ã€‚</li><li>å¸¸é‡å<br>å¸¸é‡å†™æˆ CONSTANT_CASEï¼šæ‰€æœ‰å­—æ¯ä½¿ç”¨å¤§å†™ï¼Œä»¥ä¸‹åˆ’çº¿åˆ†éš”å•è¯ã€‚ç§æœ‰é™æ€å±æ€§å¯ä»¥ç”¨å†…éƒ¨å˜é‡ä»£æ›¿ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ä½¿ç”¨ç§æœ‰æšä¸¾çš„æƒ…å†µï¼Œä¹Ÿå°±æ— éœ€å°†å¸¸é‡ä»¥ä¸‹åˆ’çº¿ç»“å°¾æ¥å‘½åã€‚<ul><li>å¸¸é‡çš„å®šä¹‰<br>æ¯ä¸ªå¸¸é‡éƒ½æ˜¯ @const æ ‡è¯†çš„é™æ€å±æ€§æˆ–æ¨¡å—å†…éƒ¨é€šè¿‡<code>const</code>å£°æ˜çš„å˜é‡ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰ @const æ ‡è¯†çš„é™æ€å±æ€§æˆ– <code>const</code>å£°æ˜çš„å˜é‡éƒ½æ˜¯å¸¸é‡ã€‚éœ€è¦å¸¸é‡æ—¶ï¼Œå…ˆæƒ³æ¸…æ¥šè¯¥å¯¹è±¡æ˜¯å¦çœŸçš„ä¸å¯å˜ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¯¥å¯¹è±¡ä¸­å¯è§‚å¯ŸçŠ¶æ€ä¸­ä»»ä½•ä¸€ä¸ªå¯è¢«æ”¹å˜ï¼Œé‚£ä¹ˆå‡ ä¹å¯ä»¥è‚¯å®šå®ƒä¸æ˜¯å¸¸æ•°ã€‚åªæ˜¯æƒ³ç€ä¸å»æ”¹å˜å®ƒçš„å€¼æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è¦æ±‚å®ƒéœ€è¦ä»æœ¬è´¨ä¸Šæ¥è¯´åº”è¯¥ä¸€æˆä¸å˜,ä¾‹:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Constants</span></span><br><span class="line"><span class="keyword">const</span> NUMBER = <span class="number">5</span>;</span><br><span class="line"><span class="comment">/** <span class="doctag">@const </span>*/</span> <span class="built_in">exports</span>.NAMES = ImmutableList.of(<span class="string">&#x27;Ed&#x27;</span>, <span class="string">&#x27;Ann&#x27;</span>);</span><br><span class="line"><span class="comment">/** <span class="doctag">@enum </span>*/</span> <span class="built_in">exports</span>.SomeEnum = &#123; <span class="attr">ENUM_CONSTANT</span>: <span class="string">&#x27;value&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Not constants</span></span><br><span class="line"><span class="keyword">let</span> letVariable = <span class="string">&#x27;non-const&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123; <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123; <span class="comment">/** <span class="doctag">@const <span class="type">&#123;string&#125;</span> </span>*/</span> <span class="built_in">this</span>.nonStatic = <span class="string">&#x27;non-static&#x27;</span>; &#125; &#125;;</span><br><span class="line"><span class="comment">/** <span class="doctag">@type <span class="type">&#123;string&#125;</span> </span>*/</span> MyClass.staticButMutable = <span class="string">&#x27;not @const, can be reassigned&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="comment">/** Set&lt;string&gt; */</span> mutableCollection = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="keyword">const</span> <span class="comment">/** ImmutableSet&lt;SomeMutableType&gt; */</span> mutableElements = ImmutableSet.of(mutable);</span><br><span class="line"><span class="keyword">const</span> Foo = goog.require(<span class="string">&#x27;my.Foo&#x27;</span>);  <span class="comment">// mirrors imported name</span></span><br><span class="line"><span class="keyword">const</span> logger = log.getLogger(<span class="string">&#x27;loggers.are.not.immutable&#x27;</span>);</span><br></pre></td></tr></table></figure>å¸¸é‡çš„åç§°é€šå¸¸æ˜¯åè¯æˆ–åè¯çŸ­è¯­ã€‚</li><li>æœ¬åœ°åˆ«å<br>ç»™å¯¼å…¥çš„å˜é‡èµ·åˆ«åæ¥æé«˜å¯è¯»æ€§æ˜¯å¯è¡Œçš„ã€‚å‡½æ•°ä¸­ä¹Ÿæœ‰ä½¿ç”¨åˆ«åçš„æƒ…å†µã€‚åˆ«åå¿…éœ€æ˜¯<code>const</code>ç±»å‹ã€‚</li></ul></li><li>éå¸¸é‡å­—æ®µå<br>éå¸¸é‡å­—æ®µï¼ˆé™æ€æˆ–å…¶ä»–ï¼‰ä½¿ç”¨å°å†™å¼€å¤´çš„é©¼å³°ï¼Œå¦‚æœæ˜¯ç§æœ‰çš„ç§æœ‰çš„åˆ™ä»¥ä¸‹åˆ’çº¿ç»“å°¾ã€‚</li></ul><p>  ä¸€èˆ¬æ˜¯åè¯æˆ–åè¯çŸ­è¯­ã€‚ä¾‹å¦‚ <code>computedValues</code>ï¼Œ<code>index_</code>ã€‚</p><ul><li>å‚æ•°å<br>å‚æ•°ä½¿ç”¨å°å†™å¼€å¤´çš„é©¼å³°å½¢å¼ã€‚å³ä½¿å‚æ•°éœ€è¦ä¸€ä¸ªæ„é€ å™¨æ¥åˆå§‹åŒ–æ—¶ï¼Œä¹Ÿæ˜¯è¿™ä¸€è§„åˆ™ã€‚</li></ul><p>  å…¬æœ‰æ–¹æ³•çš„å‚æ•°åä¸èƒ½åªä½¿ç”¨ä¸€ä¸ªå­—æ¯ã€‚</p><p>  <strong>ä¾‹å¤–ï¼š</strong>å¦‚æœä¸‰æ–¹åº“éœ€è¦ï¼Œå‚æ•°åå¯ä»¥ç”¨ $ å¼€å¤´ã€‚æ­¤ä¾‹å¤–ä¸é€‚ç”¨äºå…¶ä»–æ ‡è¯†ç¬¦ï¼ˆe.g. æœ¬åœ°å˜é‡æˆ–å±æ€§ï¼‰ã€‚</p><ul><li>å±€éƒ¨å˜é‡å<br>å¦‚ä¸Šæ‰€è¿°ï¼Œé™¤äº†æ¨¡å—æœ¬åœ°ï¼ˆé¡¶çº§ï¼‰å¸¸é‡å¤–ï¼Œæœ¬åœ°å˜é‡åç§°éƒ½ç”¨<strong>lowerCamelCase</strong>å½¢å¼ç¼–å†™ã€‚ å‡½æ•°ä½œç”¨åŸŸä¸­çš„å¸¸é‡ä»éµå¾ªlowerCamelCaseå½¢å¼ã€‚ è¯·æ³¨æ„ï¼Œå³ä½¿å˜é‡åŒ…å«æ„é€ å‡½æ•°ï¼Œä¹Ÿå°†ä½¿ç”¨<strong>lowerCamelCase</strong>å½¢å¼ã€‚</li><li>æ¨¡æ¿å‚æ•°å<br>æ¨¡æ¿å‚æ•°åŠ›æ±‚ç®€æ´ï¼Œç”¨ä¸€ä¸ªå•è¯ï¼Œä¸€ä¸ªå­—æ¯è¡¨ç¤ºï¼Œå…¨éƒ¨ä½¿ç”¨å¤§å†™ï¼Œä¾‹å¦‚ TYPEï¼ŒTHISã€‚</li><li>æ¨¡æ¿æœ¬åœ°å<br>æœªå¯¼å‡ºçš„æ¨¡å—æœ¬åœ°åç§°æ˜¯éšå¼ç§æœ‰çš„ã€‚ å®ƒä»¬æœªè¢«æ ‡è®°ä¸º@privateï¼Œå¹¶ä¸”ä¸ä»¥ä¸‹åˆ’çº¿ç»“å°¾ã€‚è¿™é€‚ç”¨äºç±»ï¼Œå‡½æ•°ï¼Œå˜é‡ï¼Œå¸¸é‡ï¼Œæšä¸¾å’Œå…¶ä»–æ¨¡å—æœ¬åœ°æ ‡è¯†ç¬¦ã€‚</li></ul></li><li><p>é©¼å³°ï¼šå®šä¹‰<br>æœ‰æ—¶å°†ä¸€ä¸ªè‹±æ–‡çŸ­è¯­è½¬æˆé©¼å³°æœ‰å¾ˆå¤šå½¢å¼ï¼Œä¾‹å¦‚é¦–å­—æ¯è¿›è¡Œç¼©ç•¥ï¼ŒIPv6 ä»¥åŠ iOS è¿™ç§éƒ½æœ‰å‡ºç°ã€‚ä¸ºä¿è¯ä»£ç å¯æ§ï¼Œæœ¬è§„èŒƒè§„å®šå‡ºå¦‚ä¸‹è§„åˆ™ã€‚</p><ul><li>å°†çŸ­è¯­ç§»é™¤æ’‡å·è½¬æˆ<strong>ASCII</strong>è¡¨ç¤ºã€‚ä¾‹å¦‚ MÃ¼llerâ€™s algorithm è¡¨ç¤ºæˆ Muellers algorithmã€‚</li><li>å°†ä¸Šè¿°ç»“æœæ‹†åˆ†æˆå•è¯ï¼Œä»¥ç©ºæ ¼æˆ–å…¶ä»–ä¸å‘éŸ³ç¬¦å·ï¼ˆä¸­æ¨ªçº¿ï¼‰è¿›è¡Œåˆ†éš”ã€‚<ul><li>æ¨èçš„åšæ³•ï¼šå¦‚æœå…¶ä¸­åŒ…å«ä¸€ä¸ªå·²ç»å¸¸ç”¨çš„é©¼å³°ç¿»è¯‘ï¼Œç›´æ¥æå–å‡ºæ¥ï¼ˆe.g. AdWords ä¼šæˆä¸º adwordsï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ iOS æœ¬èº«å¹¶ä¸æ˜¯ä¸ªé©¼å³°å½¢å¼ï¼Œå®ƒä¸å±æ€§ä»»ä½•å½¢å¼ï¼Œæ‰€ä»¥å®ƒä¸é€‚ç”¨æœ¬æ¡è§„åˆ™ã€‚</li></ul></li><li>å°†æ‰€æœ‰å­—æ¯è½¬æˆå°å†™ï¼Œç„¶åå°†ä»¥ä¸‹æƒ…å†µä¸­çš„é¦–å­—æ¯å¤§å†™ï¼š<ul><li>æ¯ä¸ªå•è¯çš„é¦–å­—æ¯ï¼Œè¿™æ ·ä¾¿å¾—åˆ°äº†å¤§å†™å¼€å¤´çš„é©¼å³°</li><li>é™¤é¦–ä¸ªå•è¯çš„å…¶ä»–æ‰€æœ‰å•è¯çš„é¦–å­—æ¯ï¼Œè¿™æ ·å¾—åˆ°å°å†™å¼€å¤´çš„é©¼å³°</li></ul></li><li>å°†ä¸Šè¿°ç»“æœåˆå¹¶ã€‚</li></ul></li></ul><p>  è¿‡ç¨‹ä¸­åŸæ¥åç§°ä¸­çš„å¤§å°å†™å‡è¢«å¿½ç•¥ï¼Œä¾‹ï¼š</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Prose form               | Correct            | Incorrect</span><br><span class="line">-------------            | -------------      | -------------</span><br><span class="line"><span class="string">&quot;XML HTTP request&quot;</span>       | XmlHttpRequest     | XMLHTTPRequest</span><br><span class="line"><span class="string">&quot;new customer ID&quot;</span>        | newCustomerId      | newCustomerID</span><br><span class="line"><span class="string">&quot;inner stopwatch&quot;</span>        | innerStopwatch     | innerStopWatch</span><br><span class="line"><span class="string">&quot;supports IPv6 on iOS?&quot;</span>  | supportsIpv6OnIos  | supportsIPv6OnIOS</span><br><span class="line"><span class="string">&quot;YouTube importe&quot;</span>        | YouTubeImporter    | YoutubeImporter</span><br></pre></td></tr></table></figure><p>  å¯ä»¥æ¥å—ï¼Œä½†ä¸æ¨èã€‚</p><p>  <strong>æ³¨æ„ï¼šä¸€äº›è‹±æ–‡è¯æ±‡é€šè¿‡ä¸­æ¨ªçº¿è¿æ¥çš„æ–¹å¼æ˜¯æœ‰æ­§ä¹‰çš„ï¼Œæ¯”å¦‚ â€œnonemptyâ€ å’Œ â€œnon-emptyâ€ éƒ½æ˜¯æ­£ç¡®å†™æ³•ï¼Œæ‰€ä»¥æ–¹æ³•å checkNonempty checkNonEmpty éƒ½ç®—æ­£ç¡®ã€‚</strong></p></li><li><p>æ ¼å¼åŒ–</p></li></ul><p><strong>æœ¯è¯­è§£é‡Šï¼š</strong>ä»£ç å—ï¼ˆblock-like constructï¼‰æŒ‡ç±»ï¼Œå‡½æ•°ï¼Œæ–¹æ³•è¿™äº›å…ƒç´ çš„æ­£æ–‡éƒ¨åˆ†ï¼Œæˆ–èŠ±æ‹¬å·åŒ…è£¹çš„ä»£ç éƒ¨åˆ†ã€‚å‚è€ƒæ•°ç»„å­—é¢é‡,å¯¹è±¡å­—é¢é‡çš„å®šä¹‰ï¼Œæ•°ç»„æˆ–å¯¹è±¡ä¹Ÿå¯ä»¥è¢«è§†ä½œä¸€ä¸ªç±»ä¼¼äºå—çš„æ„é€ ã€‚<br><strong>æç¤º:ä½¿ç”¨ clang-formatã€‚ç¤¾åŒºå·²ç»åšäº†å¤§é‡åŠªåŠ›ä»¥ä½¿å¾— clang-format èƒ½å¤Ÿå¾ˆå¥½åœ°å¤„ç† JavaScript æ–‡ä»¶ã€‚å…¶ä¸­ä¹Ÿé›†æˆäº†å‡ ä½è‘—åä»£ç å¼€å‘è€…çš„åŠªåŠ›ã€‚</strong><br>    - å¤§æ‹¬å·(èŠ±æ‹¬å·)<br>        - æ‹¬å·ç”¨äºå„ç§æµç¨‹æ§åˆ¶ç»“æ„<br>        æ‹¬å·ç”¨åœ¨å„ç§æ§åˆ¶ç»“æ„ä¸­ï¼ˆè­¬å¦‚ ifï¼Œelseï¼Œforï¼Œdoï¼Œwhile ç­‰ï¼‰ï¼Œå³ä½¿ç»“æ„ä¸­åªåŒ…å«ä¸€å¥ä»£ç ã€‚ç¬¬ä¸€æ¡æŒ‡ä»¤çš„éç©ºå—çŠ¶ç»“æ„å¿…é¡»å¦èµ·ä¸€è¡Œã€‚<br>        é”™è¯¯çš„å†™æ³•,ä¾‹:<br>        <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (someVeryLongCondition())</span><br><span class="line">doSomething();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; foo.length; i++) bar(foo[i]);</span><br></pre></td></tr></table></figure><br>        **ä¾‹å¤–:**å¦‚æœæŒ‡ä»¤å¯ä»¥å®Œå…¨åœ°ç”¨å†™åœ¨ä¸€è¡Œé‡Œï¼Œé‚£ä¹ˆå¯ä»¥ä¸ç”¨å¤§æ‹¬å·ä»¥å¢åŠ å¯è¯»æ€§,ä¾‹:â€™if (shortCondition()) foo();`</p><pre><code>    - éç©ºä»£ç å—ï¼šK&amp;R é£æ ¼    éç©ºä»£ç å—ä½¿ç”¨çš„èŠ±æ‹¬å·éµå¾ª Kernighan and Ritchie é£æ ¼ (ä¹Ÿå³ [Egyptian brackets](https://blog.codinghorror.com/new-programming-jargon/))ï¼š        - å·¦èŠ±æ‹¬å·ä¸å¦èµ·æ–°è¡Œ        - å·¦èŠ±æ‹¬å·åç´§è·Ÿæ¢è¡Œ        - å³èŠ±æ‹¬å·å‰éœ€è¦æ¢è¡Œ        - å¦‚æœå³èŠ±æ‹¬å·ç»“æŸäº†è¯­å¥ï¼Œæˆ–è€…å®ƒæ˜¯å‡½æ•°ã€ç±»ã€ç±»ä¸­çš„æ–¹æ³•çš„ç»“æŸæ‹¬å·ï¼Œåˆ™å…¶åé¢éœ€è¦æ¢è¡Œã€‚å¦‚æœåé¢ç´§è·Ÿçš„æ˜¯ elseï¼Œcatch æˆ– whileï¼Œæˆ–é€—å·ï¼Œåˆ†å·ä»¥åŠå³æ‹¬å·ï¼Œåˆ™ä¸éœ€è¦è·Ÿä¸€ä¸ªæ¢è¡Œã€‚        ä¾‹:    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InnerClass</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** <span class="doctag">@param <span class="type">&#123;number&#125;</span> </span>foo */</span></span><br><span class="line"><span class="function"><span class="title">method</span>(<span class="params">foo</span>)</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (condition(foo)) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// Note: this might fail.</span></span><br><span class="line">something();</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">recover();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>    - ç©ºä»£ç å—ï¼šåº”ç´§å‡‘    å¯¹äºç©ºä»£ç å—æ‰“å¼€çš„æ—¶å€™å°±åº”ç«‹å³é—­åˆï¼Œä¸­é—´ä¸ç•™ç©ºæ ¼ï¼Œæ¢è¡Œä»¥åŠå…¶ä»–ä»»ä½•å­—ç¬¦ï¼ˆ`&#123;&#125;`ï¼‰ï¼Œé™¤éè¯¥ä»£ç å—å¤„äºä¸€ä¸ªè¿ç»­çš„å£°æ˜è¯­å¢ƒä¸­ï¼ˆè­¬å¦‚è¿™äº›å¸¦æœ‰å¤šä¸ªä»£ç å—çš„è¯­å¥ `if/else`ï¼Œ`try/catch/finally`ï¼‰,ä¾‹:`function doNothing() &#123;&#125;`ã€‚    é”™è¯¯çš„å†™æ³•ï¼Œä¾‹ï¼š    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line"><span class="comment">// â€¦</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (otherCondition) &#123;&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// â€¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// â€¦</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br></pre></td></tr></table></figure>- ä»£ç å—ä¸­çš„ç¼©è¿›ï¼š2ä¸ªç©ºæ ¼æ¯å½“æ–°å¼€ä¸€ä¸ªåŒºå—æˆ–å—çŠ¶ç»“æ„ï¼Œå¢åŠ ä¸¤ä¸ªç©ºæ ¼çš„ç¼©è¿›ã€‚åŒºå—ç»“æŸä¹‹åï¼Œç¼©è¿›æ¢å¤åˆ°å‰ä¸€çº§æ°´å¹³ã€‚ç¼©è¿›å¯¹è¯¥åŒºå—å†…çš„ä»£ç å’Œæ³¨é‡ŠåŒæ ·æœ‰è¦æ±‚ã€‚    - æ•°ç»„å­—é¢é‡ï¼šå¯ä½œä¸ºå—çŠ¶ç»“æ„    ä»»ä½•æ•°ç»„éƒ½å¯ä»¥æŒ‰å—çŠ¶ç»“æ„çš„æ ¼å¼ä¹¦å†™ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹çš„å†™æ³•éƒ½æ˜¯æœ‰æ•ˆï¼ˆä¸ä»£è¡¨å…¨éƒ¨å†™æ³•ï¼‰ï¼š    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [</span><br><span class="line"><span class="number">0</span>,</span><br><span class="line"><span class="number">1</span>,</span><br><span class="line"><span class="number">2</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b =</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">someMethod(foo, [</span><br><span class="line"><span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>,</span><br><span class="line">], bar);</span><br></pre></td></tr></table></figure>    å…è®¸å…¶ä»–ç»„åˆï¼Œå°¤å…¶æ˜¯åœ¨å¼ºè°ƒå…ƒç´ ä¹‹é—´çš„è¯­ä¹‰åˆ†ç»„æ—¶ï¼Œè€Œä¸æ˜¯åªç”¨æ¥å‡å°è¾ƒå¤§æ•°ç»„çš„å‚ç›´å¤§å°ã€‚    - å¯¹è±¡å­—é¢é‡ï¼šå¯ä½œä¸ºå—çŠ¶ç»“æ„    å¯¹è±¡å­—é¢é‡ä¹Ÿå¯ä»¥å½“ä½œä»£ç å—å¤„ç†ï¼Œè§„åˆ™ä¸ä¸Šé¢æ•°ç»„å­—é¢é‡ç±»ä¼¼ã€‚ä»¥ä¸‹å†™æ³•éƒ½æ˜¯åˆæ³•çš„ï¼š    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line"><span class="attr">a</span>: <span class="number">0</span>,</span><br><span class="line"><span class="attr">b</span>: <span class="number">1</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b =</span><br><span class="line">&#123;<span class="attr">a</span>: <span class="number">0</span>, <span class="attr">b</span>: <span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = &#123;<span class="attr">a</span>: <span class="number">0</span>, <span class="attr">b</span>: <span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line">someMethod(foo, &#123;</span><br><span class="line"><span class="attr">a</span>: <span class="number">0</span>, <span class="attr">b</span>: <span class="number">1</span>,</span><br><span class="line">&#125;, bar);</span><br></pre></td></tr></table></figure>    - ç±»    ç±»çš„å£°æ˜ï¼ˆæ— è®ºæ˜¯å†…å®¹å£°æ˜[declarations]è¿˜æ˜¯è¡¨è¾¾å¼å£°æ˜[expressions]ï¼‰éƒ½åƒå—çŠ¶ç»“æ„ä¸€æ ·ç¼©è¿›ã€‚åœ¨ç±»çš„æ–¹æ³•å£°æ˜å’Œç±»ä¸­çš„å†…å®¹å£°æ˜ï¼ˆè¡¨è¾¾å¼ç»“æŸæ—¶ä»ç„¶éœ€è¦åŠ åˆ†å·ï¼‰çš„å³å¤§æ‹¬å·ï¼ˆåä¸€ä¸ªå¤§æ‹¬å·ï¼‰ä¹‹åä¸åŠ åˆ†å·ã€‚å…¶ä¸­å¯ä»¥ä½¿ç”¨å…³é”®å­—extendsï¼Œä½†æ˜¯ä¸è¦ç”¨@extendsçš„JSæ³¨æ–‡ï¼ˆJSDocï¼‰ï¼Œé™¤éä½ ç»§æ‰¿äº†ä¸€ä¸ªæ¨¡æ¿ç±»å‹ï¼ˆtemplatized typeï¼‰,ä¾‹ï¼š    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="comment">/** <span class="doctag">@type <span class="type">&#123;number&#125;</span> </span>*/</span></span><br><span class="line"><span class="built_in">this</span>.x = <span class="number">42</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** <span class="doctag">@return <span class="type">&#123;number&#125;</span> </span>*/</span></span><br><span class="line"><span class="function"><span class="title">method</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">this</span>.x;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Foo.Empty = <span class="class"><span class="keyword">class</span> </span>&#123;&#125;;</span><br></pre></td></tr></table></figure>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@extends <span class="type">&#123;Foo&lt;string&gt;&#125;</span> </span>*/</span></span><br><span class="line">foo.Bar = <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line"><span class="comment">/** <span class="doctag">@override </span>*/</span></span><br><span class="line"><span class="function"><span class="title">method</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">super</span>.method() / <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** <span class="doctag">@interface </span>*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Frobnicator</span> </span>&#123;</span><br><span class="line"><span class="comment">/** <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>message */</span></span><br><span class="line"><span class="function"><span class="title">frobnicate</span>(<span class="params">message</span>)</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>    - å‡½æ•°è¡¨è¾¾å¼    å½“å£°æ˜åŒ¿åå‡½æ•°æ—¶ï¼Œå‡½æ•°æ­£æ–‡åœ¨åŸæœ‰ç¼©è¿›æ°´å¹³ä¸Šå¢åŠ ä¸¤ä¸ªç©ºæ ¼çš„ç¼©è¿›ï¼Œä¾‹ï¼š    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">prefix.something.reallyLongFunctionName(<span class="string">&#x27;whatever&#x27;</span>, <span class="function">(<span class="params">a1, a2</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// Indent the function body +2 relative to indentation depth</span></span><br><span class="line"><span class="comment">// of the &#x27;prefix&#x27; statement one line above.</span></span><br><span class="line"><span class="keyword">if</span> (a1.equals(a2)) &#123;</span><br><span class="line">someOtherLongFunctionName(a1);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">andNowForSomethingCompletelyDifferent(a2.parrot);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">some.reallyLongFunctionCall(arg1, arg2, arg3)</span><br><span class="line">.thatsWrapped()</span><br><span class="line">.then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// Indent the function body +2 relative to the indentation depth</span></span><br><span class="line"><span class="comment">// of the &#x27;.then()&#x27; call.</span></span><br><span class="line"><span class="keyword">if</span> (result) &#123;</span><br><span class="line">result.use();</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>    - Switchè¯­å¥    å°±åƒå…¶ä»–å—çŠ¶ç»“æ„ï¼Œè¯¥è¯­å¥çš„ç¼©è¿›æ–¹å¼ä¹Ÿæ˜¯+2ã€‚        å¼€å§‹æ–°çš„ä¸€æ¡Switchæ ‡ç­¾ï¼Œæ ¼å¼è¦åƒå¼€å§‹ä¸€ä¸ªæ–°çš„å—çŠ¶ç»“æ„ï¼Œæ–°èµ·ä¸€è¡Œï¼Œç¼©è¿›+2ã€‚é€‚å½“æ—¶å€™å¯ä»¥ç”¨å—çŠ¶ç»“æ„æ¥æ˜ç¡®Switchå…¨æ–‡èŒƒå›´ã€‚è€Œåˆ°ä¸‹ä¸€æ¡Switchæ ‡ç­¾çš„å¼€å§‹è¡Œï¼Œç¼©è¿›ï¼ˆæš‚æ—¶ï¼‰è¿˜åŸåˆ°åŸç¼©è¿›æ°´å¹³ã€‚        åœ¨breakå’Œä¸‹ä¸€æ¡Switchæ ‡ç­¾ä¹‹é—´å¯ä»¥é€‚å½“åœ°ç©ºä¸€è¡Œã€‚    ä¾‹ï¼š    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (animal) &#123;</span><br><span class="line"><span class="keyword">case</span> Animal.BANDERSNATCH:</span><br><span class="line">handleBandersnatch();</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> Animal.JABBERWOCK:</span><br><span class="line">handleJabberwock();</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Unknown animal&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>- å£°æ˜è¯­å¥    - ä¸€ä¸ªå£°æ˜å ä¸€è¡Œ    æ¯ä¸ªå£°æ˜è¯­å¥åéƒ½è·Ÿæ¢è¡Œã€‚    - åˆ†å·æ˜¯å¿…éœ€çš„    è¯­å¥åéœ€ç”¨åˆ†å·ç»“æŸã€‚ä¸èƒ½ä¾èµ–äºç¼–è¾‘å™¨çš„è‡ªåŠ¨åˆ†å·æ’å…¥åŠŸèƒ½ã€‚- æœ€å¤§åˆ—å®½ï¼š80å¯¹äº JavaScript æºç ï¼Œè§„å®šå…¶å•è¡Œé•¿åº¦ä¸è¶…è¿‡ 80 å­—ç¬¦ã€‚é™¤ä»¥ä¸‹åˆ—å‡ºçš„æƒ…å½¢å¤–ï¼Œè¶…å‡ºçš„æ—¶å€™éœ€è¦æ ¹æ®ä¸‹é¢çš„æ¢è¡Œè§„åˆ™æ¥è¿›è¡Œæ¢è¡Œæ“ä½œã€‚ä¾‹å¤–çš„æƒ…å½¢ï¼š    - `goog.module`ï¼Œ`goog.require`å’Œ`goog.requireType`è¯­å¥    - ESæ¨¡å—çš„`import`å’Œ`export from`è¯­å¥- æ¢è¡Œ**æœ¯è¯­è§£é‡Šï¼š**æ¢è¡ŒæŒ‡å°†ä¸€ä¸ªè¡¨è¾¾å¼æ‹†åˆ†æˆå¤šè¡Œå±•ç¤ºã€‚    å¹¶æ²¡æœ‰ä¸€ä¸ªå…¨é¢å‡†ç¡®çš„çš„è§„åˆ™æ¥æŒ‡å¯¼æ¯ç§åœºæ™¯ä¸‹è¯¥å¦‚ä½•æ¢è¡Œï¼Œç›¸åï¼Œå¯¹åŒä¸€æ®µä»£ç å¾€å¾€å­˜åœ¨å¤šç§åˆæ³•çš„æ¢è¡Œæ–¹å¼ã€‚    **æç¤ºï¼šå°½ç®¡æ¢è¡Œå¤§å¤šæ—¶å€™æ˜¯ä¸ºäº†æ»¡è¶³åˆ—å®½é™åˆ¶ï¼Œä½†åœ¨æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œç¼–ç è¿‡ç¨‹ä¸­æ¯ä¸ªäººåšæ³•ä¹Ÿä¸å°½ç›¸åŒï¼Œè¿™æ˜¯å¯ä»¥çš„ã€‚æŠ½å–æ–¹æ³•æˆ–å˜é‡æœ‰å¯èƒ½ä¼šè§„é¿æ‰æ¢è¡Œçš„é—®é¢˜ã€‚**        - ä½•å¤„è¯¥æ¢è¡Œ        æ¢è¡Œçš„çš„å‡†åˆ™æ˜¯ï¼šå°½é‡åœ¨ä¼˜å…ˆçº§é«˜çš„è¯­æ³•å±‚é¢ï¼ˆhigher syntactic levelï¼‰è¿›è¡Œï¼Œä¾‹ï¼š        <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">currentEstimate =</span><br><span class="line">calc(currentEstimate + x * currentEstimate) /</span><br><span class="line"><span class="number">2.0</span>;</span><br></pre></td></tr></table></figure>        ä¸æ¨èçš„å†™æ³•ï¼Œä¾‹ï¼š            <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">currentEstimate = calc(currentEstimate + x *</span><br><span class="line">currentEstimate) / <span class="number">2.0</span>;</span><br></pre></td></tr></table></figure>        ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè¯­æ³•ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ä¾æ¬¡ä¸ºï¼šèµ‹å€¼ï¼Œé™¤æ³•ï¼Œå‡½æ•°è°ƒç”¨ï¼Œå‚æ•°ï¼Œæ•°å­—å¸¸é‡ã€‚        æ“ä½œç¬¦çš„è§„åˆ™ï¼š        - è¯·åœ¨è¿ç®—ç¬¦ä¹‹åæ¢è¡Œï¼ˆæ³¨æ„è¿™å’ŒJAVAè°·æ­Œä»£ç é£æ ¼ä¸åŒï¼‰ã€‚â€œ.â€å¹¶ä¸æ˜¯ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œæ‰€ä»¥ä¸é€‚ç”¨ä¸Šè¿°è§„åˆ™ã€‚        - æ–¹æ³•å’Œæ„é€ å‡½æ•°ä¹‹åçš„å·¦åœ†æ‹¬å·ä¸èƒ½æ¢è¡Œã€‚        - é€—å·ç´§è·Ÿå‰é¢çš„ä»£ç ã€‚        **æ³¨æ„ï¼šæ¢è¡Œé¦–è¦ç›®çš„æ˜¯ä¿æŒä»£ç æ•´æ´ï¼Œå½“æœ€å°è¡Œæ•°èƒ½æ»¡è¶³éœ€æ±‚æ—¶ï¼Œæ¢è¡Œæ˜¯ä¸éœ€è¦çš„ã€‚**    - æ¢è¡Œååç»­è¡Œè‡³å°‘æœ‰4ä¸ªç©ºæ ¼çš„ç¼©è¿›    å½“å‘ç”Ÿæ¢è¡Œæ—¶ï¼Œç¬¬ä¸€è¡Œåé¢è·Ÿç€çš„å…¶ä»–è¡Œè‡³å°‘ç¼©è¿› 4 ä¸ªç©ºæ ¼ï¼Œé™¤éæ»¡è¶³ä»£ç å—çš„ç¼©è¿›è§„åˆ™ï¼Œå¯å¦è¯´ã€‚    æ¢è¡Œååç»­è·Ÿéšå¤šè¡Œæ—¶ï¼Œç¼©è¿›å¯é€‚å½“å¤§äº 4 ä¸ªç©ºæ ¼ã€‚é€šå¸¸ï¼Œè¯­æ³•ä¸­ä½ä¼˜å…ˆçº§çš„åç»­è¡Œä»¥ 4 çš„å€æ•°è¿›è¡Œç¼©è¿›ï¼Œå¦‚æœåªæœ‰ä¸¤è¡Œå¹¶ä¸”å¤„äºåŒä¸€ä¼˜å…ˆçº§ï¼Œåˆ™ä¿æŒä¸€æ ·çš„ç¼©è¿›å³å¯ã€‚- ç©ºæ ¼    - å‚ç›´æ–¹å‘çš„ç©ºæ ¼    ä»¥ä¸‹åœºæ™¯éœ€è¦æœ‰ä¸€ä¸ªç©ºè¡Œï¼š        - ç±»æˆ–å¯¹è±¡ä¸­çš„æ–¹æ³•é—´        ä¾‹å¤–çš„æƒ…å½¢ï¼šå¯¹è±¡ä¸­å±æ€§é—´çš„ç©ºè¡Œæ˜¯å¯é€‰çš„ã€‚å¦‚æœæœ‰çš„è¯ï¼Œä¸€èˆ¬æ˜¯ç”¨æ¥å°†å±æ€§è¿›è¡Œåˆ†ç»„ã€‚                - æ–¹æ³•ä½“ä¸­ï¼Œå°½é‡å°‘åœ°ä½¿ç”¨ç©ºè¡Œæ¥è¿›è¡Œä»£ç çš„åˆ†éš”ã€‚å‡½æ•°ä½“å¼€å§‹å’Œç»“æŸéƒ½ä¸è¦åŠ ç©ºè¡Œã€‚                - ç±»æˆ–å¯¹è±¡ä¸­é¦–ä¸ªæ–¹æ³•å‰åŠæœ€åä¸€ä¸ªæ–¹æ³•åçš„ç©ºè¡Œï¼Œæ—¢ä¸æå€¡ä¹Ÿä¸åå¯¹ã€‚            è¿ç»­å¤šä¸ªç©ºè¡Œæ˜¯å…è®¸çš„ï¼Œä½†ä¸é¼“åŠ±è¿™ä¹ˆåšã€‚    - æ°´å¹³æ–¹å‘çš„ç©ºæ ¼    æ°´å¹³æ–¹å‘çš„ç©ºæ ¼æ ¹æ®å‡ºç°çš„ä½ç½®ä¸åŒåˆ†ä¸ºä¸‰ç±»ï¼šè¡Œé¦–ï¼ˆä¸€è¡Œçš„å¼€å§‹ï¼‰ï¼Œè¡Œå°¾ï¼ˆä¸€è¡Œçš„ç»“æŸï¼‰ä»¥åŠè¡Œé—´ï¼ˆä¸€è¡Œä¸­é™¤å»è¡Œé¦–åŠè¡Œå°¾çš„éƒ¨åˆ†ï¼‰ã€‚è¡Œé¦–çš„ç©ºæ ¼ï¼ˆi.e. ç¼©è¿›ï¼‰æ— å¤„ä¸åœ¨ã€‚è¡Œå°¾çš„ç©ºæ ¼æ˜¯ç¦æ­¢çš„ã€‚        é™¤äº† Javascript æœ¬èº«åŠå…¶ä»–è§„åˆ™çš„è¦æ±‚ï¼Œè¿˜æœ‰å­—é¢é‡ï¼Œæ³¨é‡Šï¼ŒJSDoc ç­‰éœ€è¦çš„ç©ºæ ¼å¤–ï¼Œå•ä¸ªçš„ ASCII ç±»å‹çš„ç©ºæ ¼åœ¨ä»¥ä¸‹æƒ…å½¢ä¸­ä¹Ÿæ˜¯éœ€è¦çš„ã€‚    - å°†å…³é”®å­—ï¼ˆæ¯”å¦‚ `if`ï¼Œ`for`ï¼Œ`catch`ï¼‰ä¸æ‹¬å·ï¼ˆ`(`ï¼‰åˆ†éš”ã€‚        - å°†å…³é”®å­—ï¼ˆ`else`ï¼Œ`catch`ï¼‰ä¸é—­åˆæ‹¬å·ï¼ˆ`&#125;`ï¼‰ åˆ†éš”ã€‚        - å¯¹äºå·¦èŠ±æ‹¬å·æœ‰ä¸¤ç§ä¾‹å¤–ï¼š            - ä½œä¸ºå‡½æ•°é¦–ä¸ªå‚æ•°çš„å¯¹è±¡ä¹‹å‰ï¼Œæ•°ç»„ä¸­é¦–ä¸ªå¯¹è±¡å…ƒç´  ï¼ˆ`foo(&#123;a: [&#123;c: d&#125;]&#125;)`ï¼‰ã€‚                - åœ¨æ¨¡æ¿è¡¨è¾¾å¼ä¸­ï¼Œå› ä¸ºæ¨¡æ¿è¯­æ³•çš„é™åˆ¶ä¸èƒ½åŠ ç©ºæ ¼ï¼ˆ`abc$&#123;1 + 2&#125;def`ï¼‰ã€‚            - äºŒå…ƒï¼Œä¸‰å…ƒæ“ä½œç¬¦çš„ä¸¤è¾¹ã€‚        - é€—å·æˆ–åˆ†å·åï¼Œä½†å…¶å‰é¢æ˜¯ä¸å…è®¸æœ‰ç©ºæ ¼çš„ã€‚        - å¯¹è±¡å­—é¢é‡ä¸­å†’å·åé¢ã€‚        - åŒæ–œçº¿ï¼ˆ//ï¼‰ä¸¤è¾¹ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨å¤šä¸ªç©ºæ ¼ï¼Œä½†ä¹Ÿä¸æ˜¯å¿…éœ€çš„ã€‚        - JSDoc æ³¨é‡ŠåŠå…¶ä¸¤è¾¹        æ¯”å¦‚ç®€å†™çš„ç±»å‹å£°æ˜`this.foo = /** @type &#123;number&#125; */ (bar);` æˆ– `function(/** string */ foo) &#123;;` æˆ– `baz(/* buzz= */ true)`    - æ°´å¹³å¯¹é½:ä¸é¼“åŠ±    **æœ¯è¯­è§£é‡Šï¼š**æ°´å¹³å¯¹é½æ˜¯åœ¨ä»£ç ä¸­æ·»åŠ å¯å˜æ•°é‡çš„é™„åŠ ç©ºæ ¼çš„ä¸€ç§åšæ³•ï¼Œç›®çš„æ˜¯ä½¿æŸäº›æ ‡è®°ç›´æ¥å‡ºç°åœ¨å‰å‡ è¡Œä¸­å…¶ä»–æ ‡è®°çš„ä¸‹é¢ã€‚    ä¸‹é¢çš„ç¤ºä¾‹ä¸­å±•ç¤ºäº†æ­£å¸¸çš„ä»£ç åŠå¸¦æ°´å¹³å¯¹é½çš„ä»£ç ï¼Œåè€…æ˜¯ä¸æ¨èçš„:    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">tiny</span>: <span class="number">42</span>, <span class="comment">// this is great</span></span><br><span class="line"><span class="attr">longer</span>: <span class="number">435</span>, <span class="comment">// this too</span></span><br><span class="line">&#125;;</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">tiny</span>:   <span class="number">42</span>,  <span class="comment">// permitted, but future edits</span></span><br><span class="line"><span class="attr">longer</span>: <span class="number">435</span>, <span class="comment">// may leave it unaligned</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>    è¿™ç§åšæ³•æ˜¯å…è®¸çš„ï¼Œä½† Google é£æ ¼é‡Œé¢ä¸æ¨èã€‚ç”šè‡³åœ¨å·²ç»å­˜åœ¨çš„ä»£ç ä¸­ä¹Ÿä¸é¼“åŠ±ç»§ç»­ä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œç»´æŠ¤ã€‚    **æ³¨æ„ï¼šå¯¹é½å¯ä»¥å¢åŠ å¯è¯»æ€§ï¼Œä½†æ˜¯å¯¹åç»­çš„ç»´æŠ¤å¢åŠ äº†å›°éš¾ã€‚è€ƒè™‘åˆ°åç»­æ”¹å†™ä»£ç å¯èƒ½åªä¼šè¯¥ä»£ç ä¸­çš„ä¸€è¡Œã€‚ä¿®æ”¹å¯èƒ½ä¼šå¯¼è‡´è§„åˆ™å…è®¸ä¸‹æ ¼å¼çš„å´©åã€‚è¿™å¸¸å¸¸ä¼šé”™ä½¿ä»£ç ç¼–å†™è€…ï¼ˆæ¯”å¦‚ä½ ï¼‰è°ƒæ•´é™„è¿‘å‡ è¡Œçš„ç©ºæ ¼ï¼Œä»è€Œå¯¼è‡´ä¸€ç³»åˆ—çš„æ ¼å¼é‡å†™ã€‚è¿™æ ·ï¼Œåªæ˜¯ä¸€è¡Œçš„ä¿®æ”¹å°±ä¼šæœ‰ä¸€ä¸ªâ€œçˆ†ç‚¸åŠå¾„â€ï¼ˆå¯¹é™„è¿‘ä»£ç çš„å½±å“ï¼‰ã€‚è¿™ä¹ˆåšæœ€å¤šä¼šè®©ä½ åšä¸€äº›æ— ç”¨åŠŸï¼Œä½†æ˜¯è‡³å°‘æ˜¯ä¸ªå¤±è´¥çš„å†å²ç‰ˆæœ¬ï¼Œé™ä½äº†é˜…è¯»è€…çš„é€Ÿåº¦ï¼Œä¹Ÿä¼šå¯¼è‡´ä¸€äº›åˆå¹¶å†²çªã€‚**    - å‡½æ•°å‚æ•°    æœ¬è§„åˆ™æ›´å€¾å‘äºæŠŠæ‰€æœ‰å‡½æ•°çš„å‚æ•°æ”¾åœ¨å‡½æ•°åçš„åŒä¸€è¡Œã€‚å¦‚æœè¿™ä¹ˆåšè®©ä»£ç è¶…å‡ºäº†80å­—ç¬¦çš„é™åˆ¶ï¼Œé‚£ä¹ˆå°±å¿…é¡»åšåŸºäºå¯è¯»æ€§çš„è‡ªåŠ¨æ¢è¡Œã€‚ä¸ºäº†èŠ‚çº¦ç©ºé—´ï¼Œæœ€å¥½æ¯è¡Œéƒ½æ¥è¿‘80å­—ç¬¦ï¼Œæˆ–è€…ä¸€ä¸ªå‚æ•°ä¸€è¡Œæ¥å¢åŠ å¯è¯»æ€§ã€‚ç¼©è¿›4ä¸ªç©ºæ ¼ã€‚å…è®¸å’Œåœ†æ‹¬å·å¯¹é½ï¼Œä½†æ˜¯ä¸æ¨èã€‚</code></pre><p>ä¸‹åˆ—å°±æ˜¯æœ€å¸¸è§çš„å‡½æ•°å‚æ•°å¯¹é½æ¨¡å¼ï¼š<br>        <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Arguments start on a new line, indented four spaces. Preferred when the</span></span><br><span class="line"><span class="comment">// arguments don&#x27;t fit on the same line with the function name (or the keyword</span></span><br><span class="line"><span class="comment">// &quot;function&quot;) but fit entirely on the second line. Works with very long</span></span><br><span class="line"><span class="comment">// function names, survives renaming without reindenting, low on space.</span></span><br><span class="line"><span class="function"><span class="title">doSomething</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">descriptiveArgumentOne, descriptiveArgumentTwo, descriptiveArgumentThree</span>)</span> &#123;</span><br><span class="line"><span class="comment">// â€¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If the argument list is longer, wrap at 80. Uses less vertical space,</span></span><br><span class="line"><span class="comment">// but violates the rectangle rule and is thus not recommended.</span></span><br><span class="line"><span class="function"><span class="title">doSomething</span>(<span class="params">veryDescriptiveArgumentNumberOne, veryDescriptiveArgumentTwo,</span></span></span><br><span class="line"><span class="params"><span class="function">tableModelEventHandlerProxy, artichokeDescriptorAdapterIterator</span>)</span> &#123;</span><br><span class="line"><span class="comment">// â€¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Four-space, one argument per line.  Works with long function names,</span></span><br><span class="line"><span class="comment">// survives renaming, and emphasizes each argument.</span></span><br><span class="line"><span class="function"><span class="title">doSomething</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">veryDescriptiveArgumentNumberOne,</span></span></span><br><span class="line"><span class="params"><span class="function">veryDescriptiveArgumentTwo,</span></span></span><br><span class="line"><span class="params"><span class="function">tableModelEventHandlerProxy,</span></span></span><br><span class="line"><span class="params"><span class="function">artichokeDescriptorAdapterIterator</span>)</span> &#123;</span><br><span class="line"><span class="comment">// â€¦</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>    - åˆ†ç»„æ‹¬å·ï¼ˆGrouping parenthesesï¼‰ï¼šæ¨èçš„å†™æ³•<br>    åªæœ‰ä»£ç ä½œè€…å’Œå®¡é˜…è€…éƒ½è§‰å¾—å¦‚æœä¸åˆ†ç»„ä¸ä¼šå¼•èµ·æ­§ä¹‰ï¼Œå¹¶ä¸”åŠ äº†åˆ†ç»„ä¹Ÿä¸ä¼šè®©ä»£ç å˜å¾—æ›´æ˜“è¯»ï¼Œé‚£ä¹ˆåˆ†ç»„å¯ä»¥çœç•¥ã€‚å› ä¸ºï¼Œä¸æ˜¯æ¯ä¸ªäººéƒ½å°†æ“ä½œç¬¦ä¼˜å…ˆçº§ç†Ÿè®°äºå¿ƒã€‚</p><pre><code>å¯¹äºè¿™äº›å…³é”®å­—ï¼Œä¸è¦æ·»åŠ é¢å¤–çš„åˆ†ç»„ `delete`ï¼Œ`typeof`ï¼Œ`void`ï¼Œ`return`ï¼Œ`throw`ï¼Œ`case`ï¼Œ`in`ï¼Œ`of` ä»¥åŠ `yield`ã€‚ç±»å‹è½¬æ¢æ—¶éœ€è¦ä½¿ç”¨æ‹¬å·å¼ºåˆ¶åˆ†ç»„ï¼š`/** @type &#123;!Foo&#125; */ (foo)`ã€‚- æ³¨é‡Šæœ¬è§„åˆ™è®¨è®ºæ³¨é‡Šçš„å†™æ³•ã€‚JSDoc ç›¸å…³çš„æ³¨é‡Šå•ç‹¬åœ¨ä¸Šé¢å·²ç»è®¨è®ºè¿‡äº†ã€‚    - å—æ³¨é‡Šé£æ ¼    å—çŠ¶æ³¨é‡Šä¸è¢«æ³¨é‡Šä»£ç ä¿æŒç›¸åŒç¼©è¿›ã€‚`/* ... */ `å’Œ `//` éƒ½æ˜¯ã€‚å¯¹äºå¤šè¡Œçš„` /* ... */ `æ³¨é‡Šï¼Œåç»­æ³¨é‡Šè¡Œä»¥`*`å¼€å¤´ä¸”ä¸ä¸Šä¸€è¡Œç¼©è¿›ä¿æŒä¸€è‡´ã€‚å‚æ•°çš„æ³¨é‡Šç´§éšå‚æ•°ä¹‹åï¼Œç”¨äºåœ¨å‡½æ•°åæˆ–å‚æ•°åæ— æ³•å®Œå…¨è¡¨è¾¾å…¶æ„æ€çš„æƒ…å†µ,ä¾‹ï¼š    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* This is</span></span><br><span class="line"><span class="comment">* okay.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// And so</span></span><br><span class="line"><span class="comment">// is this.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* This is fine, too. */</span></span><br></pre></td></tr></table></figure>    ä¸è¦å°†JSDocï¼ˆ`/ **â€¦* /`ï¼‰ç”¨äºå®ç°æ³¨é‡Šã€‚    - å‚æ•°åç§°æ³¨é‡Š    æ¯å½“å€¼å’Œæ–¹æ³•åç§°æœªèƒ½å……åˆ†ä¼ è¾¾å«ä¹‰æ—¶ï¼Œéƒ½åº”ä½¿ç”¨â€œå‚æ•°åç§°â€æ³¨é‡Šï¼Œå¹¶ä¸”å°†æ–¹æ³•é‡æ„å¾—æ›´æ¸…æ™°æ˜¯ä¸å¯è¡Œçš„ã€‚ å®ƒä»¬çš„é¦–é€‰æ ¼å¼æ˜¯å€¼ä¹‹å‰ä½¿ç”¨`=`ï¼š    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">someFunction(obviousParam, <span class="comment">/* shouldRender= */</span> <span class="literal">true</span>, <span class="comment">/* name= */</span> <span class="string">&#x27;hello&#x27;</span>);</span><br></pre></td></tr></table></figure>                ä¸ºäº†ä¸å‘¨å›´çš„ä»£ç ä¿æŒä¸€è‡´ï¼Œå¯ä»¥å°†å®ƒä»¬æ”¾åœ¨å€¼åé¢ï¼Œè€Œä¸ä½¿ç”¨`=`ï¼š    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">someFunction(obviousParam, <span class="literal">true</span> <span class="comment">/* shouldRender */</span>, <span class="string">&#x27;hello&#x27;</span> <span class="comment">/* name */</span>);</span><br></pre></td></tr></table></figure></code></pre><h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>ä¿æŒä¸€è‡´æ€§.</p><p>å½“ä½ åœ¨ç¼–è¾‘ä»£ç ä¹‹å‰ï¼Œå…ˆèŠ±ä¸€äº›æ—¶é—´æŸ¥çœ‹ä¸€ä¸‹ç°æœ‰ä»£ç çš„é£æ ¼ã€‚æ¯”å¦‚ï¼Œå¦‚æœç°æœ‰çš„ä»£ç ç»™ç®—æœ¯è¿ç®—ç¬¦æ·»åŠ äº†ç©ºæ ¼ï¼Œä½ ä¹Ÿåº”è¯¥æ·»åŠ ã€‚</p><p>ä»£ç é£æ ¼ä¸­ä¸€ä¸ªå…³é”®ç‚¹æ˜¯æ•´ç†ä¸€ä»½å¸¸ç”¨è¯æ±‡è¡¨, å¼€å‘è€…è®¤åŒå®ƒå¹¶ä¸”éµå¾ª, è¿™æ ·åœ¨ä»£ç ä¸­å°±èƒ½ç»Ÿä¸€è¡¨è¿°ã€‚ è¿™é‡Œæå‡ºäº†ä¸€äº›å…¨å±€ä¸Šçš„é£æ ¼è§„åˆ™, ä½†ä¹Ÿè¦è€ƒè™‘è‡ªèº«æƒ…å†µå½¢æˆè‡ªå·±çš„ä»£ç é£æ ¼ã€‚ ä½†å¦‚æœä½ æ·»åŠ çš„ä»£ç å’Œç°æœ‰çš„ä»£ç æœ‰å¾ˆå¤§çš„åŒºåˆ«, è¿™å°±è®©é˜…è¯»è€…æ„Ÿåˆ°å¾ˆä¸å’Œè°ã€‚ æ‰€ä»¥, é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>äººç”Ÿâ€”â€”è¯»ä¹¦ç¬”è®°</title>
    <link href="http://example.com/2020/02/13/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0--%E4%BA%BA%E7%94%9F/"/>
    <id>http://example.com/2020/02/13/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0--%E4%BA%BA%E7%94%9F/</id>
    <published>2020-02-13T11:54:00.000Z</published>
    <updated>2021-08-07T05:59:13.574Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p>å¦‚æœæ­¤æ—¶æ­¤åˆ»æœ‰äººå’Œæˆ‘è¯´ï¼šäººç”Ÿå¦‚æ¢¦ï¼Œä¸–äº‹éš¾æ–™ã€‚æˆ‘è‚¯å®šè¯·ä»–åä¸‹æ¥å–ä¸¤æ¯ç•…è°ˆä¸€ä¸‹äººç”Ÿ!<br>å¿…é¡»æ‰¿è®¤,ä»¥å¾€å¾ˆå¤šæ—¶å€™ï¼Œå¹´çºªè½»è½»çš„æˆ‘ä¸æ›¾çœŸæ­£å¥½å¥½çæƒœçœ¼å‰çš„ä¸€åˆ‡,å³ä¾¿ä¸€äº›å¤§é“ç†çƒ‚ç†Ÿäºå¿ƒã€‚ä»æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œæˆ‘å’Œé«˜åŠ æ—ä¸€æ ·ï¼šå—è¿‡æ•™è‚²,æƒ³è¦æ›´å¥½çš„ç”Ÿæ´»ã€‚ä½†ç”Ÿæ´»å¸¸å¸¸å’Œæˆ‘æˆ–è€…è¯´æˆ‘ä»¬å¼€ç©ç¬‘ï¼Œä¸€åˆ‡åœ¨æƒŠå–œå’ŒæŒ«è´¥å¾€å¤å¾ªç¯ï¼Œå®ƒæ•™ä¼šæˆ‘ä»¬å¾ˆå¤šä¸œè¥¿,ä½†å¤§å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå…ˆå¤±å»ä¸€äº›ä¸œè¥¿ï¼Œæ¯”å¦‚å‹æƒ…ï¼Œæˆ–è€…ä¸€äº›ç‰©è´¨ä¸Šä¸œè¥¿ï¼Œç„¶åå†æ·±åˆ»åœ°ä½“ä¼šåˆ°æŸäº›é“ç†ï¼Œç„¶è€Œä¸æ˜¯æ·±åˆ‡æ„Ÿå—å®Œå°±å¯ä»¥é¿å…ä»¥åå‘ç”Ÿç±»ä¼¼çš„äº‹æƒ…ç»™æˆ‘ä»¬å¸¦æ¥çš„ä¼¤å®³ã€‚<br>é«˜åŠ æ—ç”Ÿäºå†œæ‘ï¼Œé•¿äºå¿åŸï¼Œä¹¦ä¸­è¯´å¤šå¹´çš„æ•™è‚²æ´—å»ä»–èº«ä¸Šçš„æ³¥åœŸæ°”æ¯ï¼Œæˆ‘æ˜¯è®¤åŒçš„ï¼Œä»–å—æ•™è‚²çš„æ—¶é—´è¿œå¤šäºåœ¨å†œæ‘è€å®¶ç”Ÿæ´»çš„æ—¶é—´ï¼Œä¸”å‡ ä¹æ²¡æœ‰åŠ³ä½œï¼ŒåŒæ—¶ä»–èƒ½ä¸€çœ¼çœ‹å°½å†œæ‘äººçš„ä¸€ç”Ÿï¼Œè¿™æ— ç–‘åšå®šäº†ä»–æƒ³æ‰æ ¹åŸå¸‚çš„å†³å¿ƒã€‚<br>é«˜æ˜æ¥¼çš„å„¿å­å‹‰å‹‰å¼ºå¼ºä¸Šå®Œé«˜ä¸­èµ°åé—¨å¤ºèµ°äº†é«˜åŠ æ—çš„æ•™å¸ˆå·¥ä½œï¼Œæ–­äº†é«˜åŠ æ—çš„å¿µæƒ³ï¼Œé«˜åŠ æ—çš„çˆ¶æ¯è€è€å®å®æœ¬æœ¬åˆ†åˆ†ä¸€è¾ˆå­ï¼Œè¿™æ ·çš„å—æ‰“å‡»çš„äº‹æƒ…è®©ä¸€å®¶äººæ„Ÿåˆ°æ€æ ·çš„æ— åŠ©å’Œç»æœ›ï¼Œæˆ‘æ— æ³•æƒ³è±¡ã€‚è¿™é‡Œæˆ‘æ˜¯æ›¿ä»–ä»¬ä¸€å®¶æ‰“æŠ±ä¸å¹³çš„ï¼›<br>å›å½’å†œæ°‘ï¼Œé«˜ç‰å¾·æŠŠè½»æ¾çš„æ´»äº¤ç»™å„¿å­ï¼Œå„¿å­ç¬¬ä¸€å¤©ä¸Šå¿åŸçš„è¡¨ç°è®©äººå”å˜˜ï¼Œå´ä¹Ÿå› æ­¤å¼€å¯äº†å’Œå·§ççš„çˆ±æƒ…ã€‚ç»å†å¿ƒé‡Œçš„éº»æœ¨å’Œç”Ÿç†ä¸Šçš„ç—›è‹¦ï¼Œè¿˜æœ‰å·§ççƒ­çƒˆä¸”æ¸©æŸ”çš„çˆ±ï¼Œé«˜çš„å¿ƒæ€æ¸æ¸å¹³å’Œï¼Œä½†èº«è¾¹äººå¯¹äºä»–æƒ³å›åˆ°åŸé‡Œçš„æƒ³æ³•æ¸…æ¸…æ¥šæ¥šã€‚ç”Ÿæ´»è¿‡å¾—å»ï¼Œå´å¤±å»äº†å®ç°æ¢¦æƒ³çš„æœºä¼šï¼Œè¿™é‡Œæˆ‘æ˜¯åŒæƒ…ä»–çš„ï¼Œå› ä¸ºè¿™ä¹Ÿæ˜¯çœŸå®ç”Ÿæ´»ä¸­ä¸€äº›äººçœŸå®çš„æ ·å­ï¼›<br>è€Œåé«˜åŠ æ—çš„å”å”åç€â€å¤§é¢†å¯¼â€çš„ä½ç½®å½’æ¥ï¼Œé©¬å èƒœåˆä¸€æ‰‹åŒ…åŠé«˜åŠ æ—çš„å·¥ä½œï¼Œé«˜çš„å‰ç¨‹ä¼¼ä¹åˆå¾—è§å…‰æ˜ã€‚å›åˆ°åŸé‡Œçš„ä»–ï¼Œç”Ÿæ´»å’Œäº‹ä¸šéƒ½æœ‰äº†å¾ˆå¤§çš„èµ·è‰²ï¼Œæˆ‘æ˜¯é«˜å…´çš„ã€‚åæ¥é»„äºšèå¯¹ä»–å±•å¼€çƒ­çƒˆçš„çˆ±æƒ…æ”»åŠ¿ï¼Œä¸€è¾¹æ˜¯å†…å¿ƒçœŸæ­£çˆ±ç€çš„å·§çï¼Œä¸€è¾¹æ˜¯è±¡å¾ç€æ¢¦æƒ³çš„æœªæ¥ï¼Œæœ€ç»ˆé€‰æ‹©ä»–é€‰æ‹©å’Œä¸­å­¦åŒå­¦â€ç§å®šç»ˆèº«â€ï¼ŒæŠ›å¼ƒå·§çã€‚åœ¨æ›´è¿œæ›´å¤§çš„å¤©åœ°å‘ä»–æ‹›æ‰‹æ—¶å€™ï¼Œå†ä¸€æ¬¡å‡ºç°äººç”Ÿæ³¢æŠ˜ï¼Œé«˜è¢«æ£€ä¸¾ï¼Œå†æ¬¡å›åˆ°å†œæ‘å·²ç„¶ç‰©æ˜¯äººéï¼Œå·§çå·²å«ä¸ºä»–äººå¦‡ã€‚æ­¤åˆ»å¥¹ä»ç„¶ç›¼ç€é«˜èƒ½å¤Ÿå¥½å¥½æ´»ä¸‹å»ï¼Œè‡ªå·±å»ä¸ºé«˜è°‹å‡ºè·¯ï¼Œé«˜ä¹Ÿåæ‚”ä¸å·²ã€‚çœ‹åˆ°è¿™é‡Œæˆ‘ä¹Ÿç»å†ä¸€ç³»åˆ—æƒ…ç»ªæ³¢æŠ˜ï¼Œå¼€å§‹éå¸¸ä½©æœä½œè€…ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœæ­¤æ—¶æ­¤åˆ»æœ‰äººå’Œæˆ‘è¯´ï¼šäººç”Ÿå¦‚æ¢¦ï¼Œä¸–äº‹éš¾æ–™ã€‚æˆ‘è‚¯å®šè¯·ä»–åä¸‹æ¥å–ä¸¤æ¯ç•…è°ˆä¸€ä¸‹äººç”Ÿ!&lt;br&gt;</summary>
      
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="http://example.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="http://example.com/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    <category term="æ–‡å­¦" scheme="http://example.com/tags/%E6%96%87%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>è·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ</title>
    <link href="http://example.com/2020/02/12/%E8%B7%A8%E5%9F%9F%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
    <id>http://example.com/2020/02/12/%E8%B7%A8%E5%9F%9F%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</id>
    <published>2020-02-12T09:24:11.000Z</published>
    <updated>2021-08-07T05:59:13.635Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="è·¨åŸŸé—®é¢˜çš„äº§ç”Ÿ"><a href="#è·¨åŸŸé—®é¢˜çš„äº§ç”Ÿ" class="headerlink" title="è·¨åŸŸé—®é¢˜çš„äº§ç”Ÿ"></a>è·¨åŸŸé—®é¢˜çš„äº§ç”Ÿ</h2><p>å‰ç«¯å¼€å‘äººå‘˜éƒ½çŸ¥é“,æµè§ˆå™¨å®‰å…¨çš„åŸºçŸ³æ˜¯â€åŒæºç­–ç•¥â€ï¼ˆsame-origin policyï¼‰.<br>åŒæºç­–ç•¥æ˜¯ 1995 å¹´ç”± Netscape å…¬å¸å¼•å…¥æµè§ˆå™¨.ç›®å‰æ‰€æœ‰æµè§ˆå™¨éƒ½å®è¡Œè¿™ä¸ªç­–ç•¥.å®ƒä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢XSS,CSRFæ”»å‡».</p><h2 id="åŸŸå"><a href="#åŸŸå" class="headerlink" title="åŸŸå"></a>åŸŸå</h2><p>URLçš„æ„æˆâ€”â€”http://ä¸»æœºå . åŸŸåï¼ˆç«¯å£å·ã€å‚æ•°ã€æŸ¥è¯¢ç­‰å¯é€‰ï¼‰</p><p>æ­¤å¤–,æˆ‘ä»¬è¿˜è¦çŸ¥é“åŸŸæ˜¯åˆ†å±‚ç®¡ç†çš„,åƒä¸­å›½çš„è¡Œæ”¿çº§åˆ«:<br>æœ€é«˜å±‚çš„åŸŸæ˜¯æ ¹åŸŸ(root)â€.â€,å°±æ˜¯ä¸€ä¸ªç‚¹,åƒå›½å®¶ä¸»å¸­ä¸€æ ·.å…¨çƒåªæœ‰13ä¸ªæ ¹åŸŸæœåŠ¡å™¨,åŸºæœ¬æ•°éƒ½åœ¨ç¾å›½,ä¸­å›½ä¸€å°æ ¹åŸŸæœåŠ¡å™¨éƒ½æ²¡æœ‰.</p><p>æ ¹åŸŸçš„ä¸‹ä¸€å±‚å°±æ˜¯ç¬¬äºŒå±‚æ¬¡çš„é¡¶çº§åŸŸ(TLD),åƒå„çœçš„çœé•¿.å®ƒä¹Ÿå°±æ˜¯ä¿—ç§°çš„â€åŸŸååç¼€â€,é¡¶çº§åŸŸåˆ’åˆ†æ–¹æ³•:</p><ul><li>æŒ‰å›½å®¶åˆ’åˆ†: .cn(ä¸­å›½)ã€.tw(å°æ¹¾)ã€.hk(é¦™æ¸¯)ç­‰</li><li>æŒ‰ç»„ç»‡æ€§è´¨åˆ’åˆ†: .orgã€.netã€.comã€.govã€.ccç­‰</li><li>åå‘åŸŸ: arpa(è¿™æ˜¯åå‘è§£æçš„ç‰¹æ®Šé¡¶çº§åŸŸ)</li></ul><p>é¡¶çº§åŸŸçš„ä¸‹ä¸€å±‚å°±æ˜¯æ™®é€šçš„åŸŸ,å…¬å¸æˆ–ä¸ªäººåœ¨äº’è”ç½‘ä¸Šæ³¨å†Œçš„åŸŸåä¸€èˆ¬éƒ½æ˜¯è¿™äº›æ™®é€šçš„åŸŸ,å¦‚baidu.com.</p><p><strong>æ³¨æ„ç‚¹:</strong></p><ul><li>é¡¶çº§åŸŸåå°±æ˜¯ä¸€çº§åŸŸå</li><li>Nçº§åŸŸåå°±æ˜¯åœ¨N-1çº§åŸŸåå‰è¿½åŠ ä¸€çº§</li></ul><h2 id="åŒæºç­–ç•¥"><a href="#åŒæºç­–ç•¥" class="headerlink" title="åŒæºç­–ç•¥"></a>åŒæºç­–ç•¥</h2><p>è¿™é‡Œçš„â€åŒæºâ€æŒ‡çš„æ˜¯:</p><ul><li><strong>åè®®ç›¸åŒ</strong></li><li><strong>åŸŸåç›¸åŒ</strong></li><li><strong>ç«¯å£ç›¸åŒ</strong></li></ul><p>å¸¦æ¥çš„é™åˆ¶:</p><ul><li><strong>Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–</strong></li><li><strong>DOMæ— æ³•è·å¾—</strong></li><li><strong>AJAXè¯·æ±‚ä¸èƒ½å‘é€</strong></li></ul><p>ä½†æ˜¯æœ‰ä¸‰ä¸ªæ ‡ç­¾æ˜¯å…è®¸è·¨åŸŸåŠ è½½èµ„æºçš„:</p><ul><li><strong>&lt;img src=â€â€&gt;</strong></li><li><strong>&lt;link href=â€â€&gt;</strong></li><li><strong>&lt;script src=â€â€&gt;</strong></li></ul><h2 id="å¸¸è§çš„è·¨åŸŸåœºæ™¯"><a href="#å¸¸è§çš„è·¨åŸŸåœºæ™¯" class="headerlink" title="å¸¸è§çš„è·¨åŸŸåœºæ™¯"></a>å¸¸è§çš„è·¨åŸŸåœºæ™¯</h2><p>å½“åè®®ã€å­åŸŸåã€ä¸»åŸŸåã€ç«¯å£å·ä»»æ„ä¸€ä¸ªä¸ç›¸åŒæ—¶,éƒ½æ˜¯ä¸åŒçš„åŸŸ.<br>ä¸åŒåŸŸä¹‹é—´ç›¸äº’è¯·æ±‚èµ„æº,å°±ç§°ä¸ºâ€<strong>è·¨åŸŸ</strong>â€œ,å¸¸è§è·¨åŸŸåœºæ™¯å¦‚ä¸‹æ‰€ç¤º:<br><img src="%E8%B7%A8%E5%9F%9F%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/1.png" alt="è·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ.md"></p><p><strong>æ³¨æ„ç‚¹:</strong></p><ul><li>å¦‚æœæ˜¯åè®®å’Œç«¯å£é€ æˆçš„è·¨åŸŸé—®é¢˜,â€å‰å°â€æ˜¯æ— èƒ½ä¸ºåŠ›çš„</li><li>åœ¨è·¨åŸŸé—®é¢˜ä¸Š,ä»…ä»…æ˜¯é€šè¿‡â€URLçš„é¦–éƒ¨â€æ¥è¯†åˆ«è€Œä¸ä¼šæ ¹æ®åŸŸåå¯¹åº”çš„IPåœ°å€æ˜¯å¦ç›¸åŒæ¥åˆ¤æ–­.</li></ul><p>è¿™é‡Œä½ æˆ–è®¸æœ‰ä¸¤ä¸ªç–‘é—®:</p><ul><li>åœ¨è·¨åŸŸçš„æƒ…å†µä¸‹,è¯·æ±‚è¢«æ€ä¹ˆå¤„ç†äº†?<br>  è·¨åŸŸå¹¶ä¸æ˜¯è¯·æ±‚å‘ä¸å‡ºå»,è¯·æ±‚èƒ½å‘å‡ºå»,æœåŠ¡ç«¯èƒ½æ”¶åˆ°è¯·æ±‚å¹¶æ­£å¸¸å“åº”,åªæ˜¯å“åº”ç»“æœè¢«æµè§ˆå™¨æ‹¦æˆªäº†.</li><li>ä¸ºä»€ä¹ˆæäº¤è¡¨å•å¯ä»¥é¿å…è·¨åŸŸé—®é¢˜,Ajaxå°±ä¸è¡Œ?<br>  è·¨åŸŸçš„ç›®çš„æ˜¯ä¸ºäº†ç»„ç»‡ç”¨æˆ·è¯»åˆ°å¦ä¸€ä¸ªåŸŸåä¸‹çš„å†…å®¹,Ajaxå¯ä»¥è·å–å“åº”,è¿™é‡Œå­˜åœ¨æœ‰å®‰å…¨éšæ‚£,æ•…è€Œæµè§ˆå™¨æ‹¦æˆªäº†å“åº”;è¡¨å•åˆ™åªæ˜¯æäº¤æ•°æ®,ä¸ä¼šè·å–æ–°çš„å†…å®¹,æ‰€ä»¥å¯ä»¥å‘å»è·¨åŸŸè¯·æ±‚.</li></ul><h2 id="è·¨åŸŸè§£å†³æ–¹æ¡ˆ"><a href="#è·¨åŸŸè§£å†³æ–¹æ¡ˆ" class="headerlink" title="è·¨åŸŸè§£å†³æ–¹æ¡ˆ"></a>è·¨åŸŸè§£å†³æ–¹æ¡ˆ</h2><h4 id="CORSè·¨åŸŸèµ„æºå…±äº«-Cross-Origin-Resource-Sharing"><a href="#CORSè·¨åŸŸèµ„æºå…±äº«-Cross-Origin-Resource-Sharing" class="headerlink" title="CORSè·¨åŸŸèµ„æºå…±äº«(Cross-Origin Resource Sharing)"></a>CORSè·¨åŸŸèµ„æºå…±äº«(Cross-Origin Resource Sharing)</h4><p>CORS éœ€è¦æµè§ˆå™¨å’Œåç«¯åŒæ—¶æ”¯æŒ,å®ç° CORS é€šä¿¡çš„å…³é”®æ˜¯åç«¯.ç›®å‰å‡ ä¹æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ CORS, IEåˆ™ä¸èƒ½ä½äºIE10.<br>æœåŠ¡ç«¯è®¾ç½® Access-Control-Allow-Origin å°±å¯ä»¥å¼€å¯ CORS. è¯¥å±æ€§å¯ä»¥è¡¨ç¤ºå“ªäº›åŸŸåå¯ä»¥è®¿é—®èµ„æº,å¦‚æœè®¾ç½®é€šé…ç¬¦åˆ™è¡¨ç¤ºæ‰€æœ‰ç½‘ç«™éƒ½å¯ä»¥è®¿é—®èµ„æº.<br>è™½ç„¶è®¾ç½® CORS å’Œå‰ç«¯æ²¡ä»€ä¹ˆå…³ç³»,ä½†æ˜¯é€šè¿‡è¿™ç§æ–¹å¼è§£å†³è·¨åŸŸé—®é¢˜çš„è¯,ä¼šåœ¨å‘é€è¯·æ±‚æ—¶å‡ºç°ä¸¤ç§æƒ…å†µ,åˆ†åˆ«ä¸ºç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚(éœ€é¢„æ£€è¯·æ±‚).</p><p><strong>ç®€å•è¯·æ±‚:</strong></p><p>ä½¿ç”¨ä¸‹é¢ä»»æ„HTTPæ–¹æ³•çš„:</p><ul><li>GET</li><li>HEAD</li><li>POST</li></ul><p>Content-Type çš„å€¼ä»…é™äºä¸‹åˆ—ä¸‰è€…ä¹‹ä¸€:</p><ul><li>text/plain</li><li>multipart/form-data</li><li>application/x-www-form-urlencoded</li></ul><p>å¯¹äºç®€å•è¯·æ±‚,æµè§ˆå™¨ä¼šç›´æ¥å‘é€ CORS è¯·æ±‚,å…·ä½“è¯´æ¥å°±æ˜¯åœ¨ header ä¸­åŠ å…¥ Origin è¯·æ±‚å¤´å­—æ®µ.åŒæ ·,åœ¨å“åº”å¤´ä¸­,è¿”å›æœåŠ¡å™¨è®¾ç½®çš„ç›¸å…³ CORS å¤´éƒ¨å­—æ®µ, Access-Control-Allow-Origin å­—æ®µä¸ºå…è®¸è·¨åŸŸè¯·æ±‚çš„æº.è¯·æ±‚æ—¶æµè§ˆå™¨åœ¨è¯·æ±‚å¤´çš„ Origin ä¸­è¯´æ˜è¯·æ±‚çš„æºï¼ŒæœåŠ¡å™¨æ”¶åˆ°åå‘ç°å…è®¸è¯¥æºè·¨åŸŸè¯·æ±‚ï¼Œåˆ™ä¼šæˆåŠŸè¿”å›,å…·ä½“å¦‚ä¸‹:<br><img src="%E8%B7%A8%E5%9F%9F%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/2.png" alt="è·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ.md"><br><strong>éç®€å•è¯·æ±‚:</strong></p><p>ä½¿ç”¨ä¸‹é¢ä»»æ„HTTPæ–¹æ³•çš„:</p><ul><li>PUT</li><li>DELETE</li><li>CONNECT</li><li>OPTIONS</li><li>TRACE</li><li>PATCH</li></ul><p>Content-Type çš„å€¼ä¸å±äºä¸‹åˆ—ä¸‰è€…ä¹‹ä¸€:</p><ul><li>text/plain</li><li>multipart/form-data</li><li>application/x-www-form-urlencoded</li></ul><p>å½“ç¬¦åˆéç®€å•è¯·æ±‚(é¢„æ£€è¯·æ±‚)çš„æ¡ä»¶æ—¶,æµè§ˆå™¨ä¼šè‡ªåŠ¨å…ˆå‘é€ä¸€ä¸ªoptionsè¯·æ±‚,å¦‚æœæœåŠ¡ç«¯æ”¯æŒè¯¥è¯·æ±‚,åˆ™ä¼šå°†çœŸæ­£çš„è¯·æ±‚å‘é€åˆ°åç«¯;åä¹‹,æ§åˆ¶å°å°†ä¼šæŠ›å‡ºé”™è¯¯.</p><p>å¦‚æœéç®€å•è¯·æ±‚(é¢„æ£€è¯·æ±‚)å‘é€æˆåŠŸï¼Œåˆ™ä¼šåœ¨å¤´éƒ¨å¤šè¿”å›ä»¥ä¸‹å­—æ®µ:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Origin: http://localhost:8000  //è¯¥å­—æ®µè¡¨æ˜å¯ä¾›é‚£ä¸ªæºè·¨åŸŸ</span><br><span class="line">Access-Control-Allow-Methods: GET, POST, PUT        // è¯¥å­—æ®µè¡¨æ˜æœåŠ¡ç«¯æ”¯æŒçš„è¯·æ±‚æ–¹æ³•</span><br><span class="line">Access-Control-Allow-Headers: X-Custom-Header       // å®é™…è¯·æ±‚å°†æºå¸¦çš„è‡ªå®šä¹‰è¯·æ±‚é¦–éƒ¨å­—æ®µ</span><br></pre></td></tr></table></figure><h4 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h4><ul><li>åŸç†:åˆ©ç”¨**&lt;script&gt;**æ ‡ç­¾æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„æ¼æ´,ç½‘é¡µå¯ä»¥å¾—åˆ°ä»å…¶å®ƒæ¥æºåŠ¨æ€äº§ç”Ÿ JSON æ•°æ®.JSONP è¯·æ±‚å¿…é¡»è¦å¯¹æ–¹çš„æœåŠ¡å™¨åšæ”¯æŒæ‰å¯ä»¥.</li><li>JSONPå’ŒAJAXå¯¹æ¯”:äºŒè€…éƒ½æ˜¯å®¢æˆ·ç«¯éµå¾ªå‘æœåŠ¡å™¨å‘é€è¯·æ±‚,ä»æœåŠ¡å™¨è·å–æ•°æ®çš„æ–¹å¼.ä½†AJAXå±äºåŒæºç­–ç•¥,JSONPä¸æ˜¯.</li></ul><p>çœ‹ä¸ªä¾‹å­:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;mera http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;JSONP&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;img src=&quot;http://a2.att.hudong.com/36/48/19300001357258133412489354717.jpg&quot;&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="%E8%B7%A8%E5%9F%9F%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/3.png" alt="è·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ.md"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;è·¨åŸŸé—®é¢˜çš„äº§ç”Ÿ&quot;&gt;&lt;a href=&quot;#è·¨åŸŸé—®é¢˜çš„äº§ç”Ÿ&quot; class=&quot;head</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="æµè§ˆå™¨" scheme="http://example.com/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptä¸­Promise</title>
    <link href="http://example.com/2020/02/11/JavaScript%E4%B8%ADPromise/"/>
    <id>http://example.com/2020/02/11/JavaScript%E4%B8%ADPromise/</id>
    <published>2020-02-11T09:16:41.000Z</published>
    <updated>2021-08-07T05:59:13.859Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="Promise-å‡ºç°çš„åŸå› "><a href="#Promise-å‡ºç°çš„åŸå› " class="headerlink" title="Promise å‡ºç°çš„åŸå› "></a>Promise å‡ºç°çš„åŸå› </h2><p>åœ¨ Promise å‡ºç°ä»¥å‰,å¤„ç†ä¸€ä¸ªAjaxè¯·æ±‚,å¤§æ¦‚æ˜¯è¿™æ ·çš„:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$.get(<span class="string">&#x27;url&#x27;</span>, &#123;<span class="attr">data</span>: data&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;æˆåŠŸ&#x27;</span>, result)<span class="comment">// æˆåŠŸçš„å›è°ƒï¼Œresultä¸ºå¼‚æ­¥æ‹¿åˆ°çš„æ•°æ®</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥è¿˜ä¸é”™,ä½†éœ€æ±‚å˜åŒ–äº†,ç°åœ¨éœ€è¦æ ¹æ®ç¬¬å‰é¢çš„ç»“æœç»§ç»­è¯·æ±‚,ä»£ç å¤§æ¦‚å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$.get(<span class="string">&#x27;url&#x27;</span>, &#123;<span class="attr">data</span>: data&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">result1</span>)</span>&#123;</span><br><span class="line">    $.get(<span class="string">&#x27;url&#x27;</span>, &#123;<span class="attr">data</span>: result1&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">result2</span>)</span>&#123;</span><br><span class="line">        $.get(<span class="string">&#x27;url&#x27;</span>, &#123;<span class="attr">data</span>: result2&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">result3</span>)</span>&#123;</span><br><span class="line">            $.get(<span class="string">&#x27;url&#x27;</span>, &#123;<span class="attr">data</span>: result3&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">result4</span>)</span>&#123;</span><br><span class="line">                ......</span><br><span class="line">                $.get(<span class="string">&#x27;url&#x27;</span>, &#123;<span class="attr">data</span>: resultn&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">resultn+<span class="number">1</span></span>)</span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">&#x27;æˆåŠŸ&#x27;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯<strong>å›è°ƒåœ°ç‹±</strong>,æ›´ç³Ÿç³•çš„æ˜¯,æˆ‘ä»¬å¯èƒ½è¿˜è¦å¯¹æ¯æ¬¡è¯·æ±‚çš„ç»“æœè¿›è¡Œä¸€äº›å¤„ç†,ä»£ç ä¼šæ›´åŠ è‡ƒè‚¿,åæœŸç»´æŠ¤ä¹Ÿéå¸¸ç—›è‹¦!</p><p>é‚£ä¹ˆæ€»ç»“ä¸€ä¸‹å›è°ƒåœ°ç‹±çš„ç‰¹ç‚¹:</p><ul><li>ä»£ç è‡ƒè‚¿</li><li>å¯è¯»æ€§å·®</li><li>è€¦åˆåº¦è¿‡é«˜,å¯ç»´æŠ¤æ€§å·®</li><li>ä»£ç å¤ç”¨æ€§å·®</li><li>å®¹æ˜“å‡ºç°Bug</li><li>åªèƒ½åœ¨å›è°ƒé‡Œå¤„ç†å¼‚å¸¸</li></ul><p>åæ¥å‡ºç°äº†Promise,å®ƒä»¥ä¸€ç§æ›´åŠ å‹å¥½çš„ä»£ç ç»„ç»‡æ–¹å¼,è§£å†³äº†å¼‚æ­¥åµŒå¥—çš„é—®é¢˜:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> è¯·æ±‚ç»“æœ<span class="number">1</span> = è¯·æ±‚<span class="number">1</span>();</span><br><span class="line"><span class="keyword">let</span> è¯·æ±‚ç»“æœ<span class="number">2</span> = è¯·æ±‚<span class="number">2</span>(è¯·æ±‚ç»“æœ<span class="number">1</span>); </span><br><span class="line"><span class="keyword">let</span> è¯·æ±‚ç»“æœ<span class="number">3</span> = è¯·æ±‚<span class="number">3</span>(è¯·æ±‚ç»“æœ<span class="number">2</span>); </span><br><span class="line"><span class="keyword">let</span> è¯·æ±‚ç»“æœ<span class="number">4</span> = è¯·æ±‚<span class="number">2</span>(è¯·æ±‚ç»“æœ<span class="number">3</span>); </span><br><span class="line"><span class="keyword">let</span> è¯·æ±‚ç»“æœ<span class="number">5</span> = è¯·æ±‚<span class="number">3</span>(è¯·æ±‚ç»“æœ<span class="number">4</span>); </span><br></pre></td></tr></table></figure><p>ç±»ä¼¼ä¸ä¸Šé¢åŒæ­¥çš„å†™æ³•.äºæ˜¯Promiseè§„èŒƒè¯ç”Ÿäº†!</p><h2 id="ä»€ä¹ˆæ˜¯Promise"><a href="#ä»€ä¹ˆæ˜¯Promise" class="headerlink" title="ä»€ä¹ˆæ˜¯Promise"></a>ä»€ä¹ˆæ˜¯Promise</h2><p>Promise å¯¹è±¡ç”¨äºè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆ (æˆ–å¤±è´¥), åŠå…¶ç»“æœå€¼.</p><p>ä¼˜ç‚¹:</p><ul><li>å¼‚æ­¥æ“ä½œå°†ä»¥åŒæ­¥çš„æµç¨‹è¡¨è¾¾å‡ºæ¥,é¿å…äº†å±‚å±‚åµŒå¥—çš„å›è°ƒå‡½æ•°.</li><li>Promise å¯¹è±¡æä¾›äº†ç»Ÿä¸€çš„æ¥å£,ä½¿å¾—æ§åˆ¶å¼‚æ­¥æ“ä½œæ›´å®¹æ˜“.</li></ul><p>ç¼ºç‚¹:</p><ul><li>æ— æ³•å–æ¶ˆ,ä¸€æ—¦æ–°å»ºå°±ä¼šç«‹å³æ‰§è¡Œ,æ— æ³•ä¸­é€”å–æ¶ˆ.</li><li>è‹¥ä¸è®¾ç½®å›è°ƒå‡½æ•°,promise å†…éƒ¨ä¼šæŠ›å‡ºé”™è¯¯,ä¸ä¼šåæ˜ åˆ°å¤–éƒ¨</li></ul><h2 id="Promise-A-è§„èŒƒ"><a href="#Promise-A-è§„èŒƒ" class="headerlink" title="Promise/A+ è§„èŒƒ"></a>Promise/A+ è§„èŒƒ</h2><p>** Promise è§„èŒƒ **æœ‰å¾ˆå¤š,å¦‚ Promise/A , Promise/B , Promise/D ä»¥åŠ Promise/A çš„å‡çº§ç‰ˆ Promise/A+ ,æœ€ç»ˆES6é‡‡ç”¨äº† <strong>Promise/A+</strong> è§„èŒƒ.</p><p>Promise è§„èŒƒ:</p><ul><li>è‹±æ–‡ç‰ˆ: <a href="https://promisesaplus.com/">https://promisesaplus.com/</a></li><li>ä¸­æ–‡ç‰ˆ: <a href="http://malcolmyu.github.io/malnote/2015/06/12/Promises-A-Plus/">http://malcolmyu.github.io/malnote/2015/06/12/Promises-A-Plus/</a></li></ul><p>æ€»ç»“å¦‚ä¸‹:</p><ul><li><p>ä¸€ä¸ª Promise å¯¹è±¡æœ‰ç§ä¸ªçŠ¶æ€,å¹¶ä¸”çŠ¶æ€ä¸€æ—¦æ”¹å˜,ä¾¿ä¸èƒ½å†è¢«æ›´æ”¹ä¸ºå…¶ä»–çŠ¶æ€.</p><ul><li><strong>pending</strong>: å¼‚æ­¥ä»»åŠ¡æ­£åœ¨æ‰§è¡Œ.</li><li><strong>fulfilled</strong>: å¼‚æ­¥ä»»åŠ¡æ‰§è¡ŒæˆåŠŸ.</li><li><strong>rejected</strong>: å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå¤±è´¥.</li></ul></li><li><p><strong>then</strong>æ–¹æ³•å¯ä»¥è¢«åŒä¸€ä¸ª Promise è°ƒç”¨å¤šæ¬¡,ä¸”å¿…é¡»è¿”å›ä¸€ä¸ª Promise</p></li></ul><h2 id="Promise-è¯­æ³•"><a href="#Promise-è¯­æ³•" class="headerlink" title="Promise è¯­æ³•"></a>Promise è¯­æ³•</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;<span class="comment">/* executor */</span>&#125;   );</span><br></pre></td></tr></table></figure><ul><li>Promiseæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°,è¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯resolveå’Œreject.å®ƒä»¬æ˜¯ä¸¤ä¸ªå‡½æ•°,ç”± JavaScript å¼•æ“æä¾›,ä¸ç”¨è‡ªå·±éƒ¨ç½².</li><li>resolve å‡½æ•°çš„ä½œç”¨:å°†Promiseå®ä¾‹çš„çŠ¶æ€ä»â€pendingâ€åˆ°â€fulfilledâ€,åœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨,å¹¶å°†å¼‚æ­¥æ“ä½œçš„ç»“æœ,ä½œä¸ºå‚æ•°ä¼ é€’å‡ºå».</li><li>reject å‡½æ•°çš„ä½œç”¨:å°†Promiseå®ä¾‹çš„çŠ¶æ€ä»â€pendingâ€åˆ°â€rejectedâ€,åœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨,å¹¶å°†å¼‚æ­¥æ“ä½œæŠ¥å‡ºçš„é”™è¯¯ï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå».</li></ul><p>ä¾‹å­:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        resolve(<span class="string">&#x27;Cola&#x27;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(promise);<span class="comment">//Promise &#123; &#x27;Cola&#x27; &#125;</span></span><br><span class="line">    &#125;, <span class="number">300</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);<span class="comment">//Cola</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(promise);<span class="comment">//Promise &#123; &lt;pending&gt; &#125;</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºé¡ºåº:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span> &#123; &lt;pending&gt; &#125;</span><br><span class="line"><span class="built_in">Promise</span> &#123; <span class="string">&#x27;Cola&#x27;</span> &#125;</span><br><span class="line">Cola</span><br></pre></td></tr></table></figure><h2 id="Promise-å¸¸ç”¨API"><a href="#Promise-å¸¸ç”¨API" class="headerlink" title="Promise å¸¸ç”¨API"></a>Promise å¸¸ç”¨API</h2><ul><li>Promise.resolve()</li><li>Promise.reject()</li><li>Promise.then(æˆåŠŸå›è°ƒå‡½æ•°ï¼Œå¤±è´¥å›è°ƒå‡½æ•°)</li><li>Promise.then(æˆåŠŸå›è°ƒå‡½æ•°).catch(å¤±è´¥å›è°ƒå‡½æ•°)</li><li>Promise.then(æˆåŠŸå›è°ƒå‡½æ•°).catch(å¤±è´¥å›è°ƒå‡½æ•°).finally(æˆåŠŸå¤±è´¥éƒ½æ‰§è¡Œçš„å‡½æ•°)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        resolve(<span class="string">&#x27;Cola&#x27;</span>);</span><br><span class="line">    &#125;, <span class="number">300</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;I like &#x27;</span> + data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;).finally(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;è¿™æ˜¯finally&#x27;</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li>Promise.all(iterable):æ–¹æ³•è¿”å›ä¸€ä¸ª Promise å®ä¾‹,æ­¤å®ä¾‹åœ¨ iterable å‚æ•°å†…æ‰€æœ‰çš„ promise éƒ½â€å®Œæˆï¼ˆresolvedï¼‰â€æˆ–å‚æ•°ä¸­ä¸åŒ…å« promise æ—¶å›è°ƒå®Œæˆï¼ˆresolveï¼‰;å¦‚æœå‚æ•°ä¸­ promise æœ‰ä¸€ä¸ªå¤±è´¥ï¼ˆrejectedï¼‰,æ­¤å®ä¾‹å›è°ƒå¤±è´¥ï¼ˆrejectï¼‰,å¤±è´¥åŸå› çš„æ˜¯ç¬¬ä¸€ä¸ªå¤±è´¥ promise çš„ç»“æœ.<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="string">&#x27;I&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="string">&#x27;like&#x27;</span></span><br><span class="line"><span class="keyword">let</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        resolve(<span class="string">&#x27;Cola&#x27;</span>);</span><br><span class="line">    &#125;, <span class="number">300</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Promise</span>.all([p1, p2, p3]).then(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);<span class="comment">//[ &#x27;I&#x27;, &#x27;like&#x27;, &#x27;Cola&#x27; ]</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li>Promise.race(iterable):è¿”å›ä¸€ä¸ª promise,ä¸€æ—¦è¿­ä»£å™¨ä¸­çš„æŸä¸ªpromiseè§£å†³æˆ–æ‹’ç»,è¿”å›çš„ promiseå°±ä¼šè§£å†³æˆ–æ‹’ç».<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(resolve, <span class="number">500</span>, <span class="string">&#x27;one&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>, <span class="string">&#x27;two&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.race([promise1, promise2]).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);<span class="comment">//two</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Promise-å‡ºç°çš„åŸå› &quot;&gt;&lt;a href=&quot;#Promise-å‡ºç°çš„åŸå› &quot;</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
    <category term="ES6" scheme="http://example.com/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶</title>
    <link href="http://example.com/2020/02/10/JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/"/>
    <id>http://example.com/2020/02/10/JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/</id>
    <published>2020-02-10T07:23:13.000Z</published>
    <updated>2021-08-07T05:59:13.732Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p>##JavaScriptä¸­çš„å•çº¿ç¨‹<br>æŠ€æœ¯çš„å‡ºç°æ€»æ˜¯å’Œåº”ç”¨åœºæ™¯å¯†åˆ‡ç›¸å…³.<br>JavaScriptè¯ç”Ÿäº1995å¹´,ä¸»è¦ç”¨äºå¤„ç†è¡¨å•éªŒè¯æ“ä½œ,ä¹Ÿå°±æ˜¯å®ç°ç”¨æˆ·å’Œæµè§ˆå™¨çš„äº¤äº’.</p><p>ç”±æ­¤å¸¦æ¥ä¸€ä¸ªæ€è€ƒ:è¿™é—¨è¯­è¨€ä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹?<br>ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€,JavaScript çš„ä¸»è¦ç”¨é€”æ˜¯ä¸ç”¨æˆ·äº’åŠ¨,ä»¥åŠæ“ä½œ DOM.è¿™å†³å®šäº†å®ƒåªèƒ½æ˜¯å•çº¿ç¨‹,å¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤æ‚çš„åŒæ­¥é—®é¢˜.æ¯”å¦‚,å‡å®šJavaScriptåŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹,ä¸€ä¸ªçº¿ç¨‹åœ¨æŸä¸ª DOM èŠ‚ç‚¹ä¸Šæ·»åŠ å†…å®¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹åˆ é™¤äº†è¿™ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶æµè§ˆå™¨åº”è¯¥ä»¥å“ªä¸ªçº¿ç¨‹ä¸ºå‡†ï¼Ÿ<br>æ‰€ä»¥,<strong>ä¸ºäº†é¿å…å¤æ‚æ€§ï¼Œä»ä¸€è¯ç”Ÿ,JavaScript å°±æ˜¯å•çº¿ç¨‹,è¿™å·²ç»æˆäº†è¿™é—¨è¯­è¨€çš„æ ¸å¿ƒç‰¹å¾,å°†æ¥ä¹Ÿä¸ä¼šæ”¹å˜.</strong></p><p>ä¸ºäº†åˆ©ç”¨å¤šæ ¸ CPU çš„è®¡ç®—èƒ½åŠ›,HTML5 æå‡º <strong>Web Worker æ ‡å‡†</strong>,å…è®¸ JavaScript è„šæœ¬åˆ›å»ºå¤šä¸ªçº¿ç¨‹,ä½†æ˜¯å­çº¿ç¨‹å®Œå…¨å—ä¸»çº¿ç¨‹æ§åˆ¶,ä¸”ä¸å¾—æ“ä½œ DOM.æ‰€ä»¥,<strong>è¿™ä¸ªæ–°æ ‡å‡†å¹¶æ²¡æœ‰æ”¹å˜ JavaScript å•çº¿ç¨‹çš„æœ¬è´¨.</strong></p><p>é‚£ä¹ˆå•çº¿ç¨‹çš„ç‰¹ç‚¹å°±å¾ˆæ˜æ˜¾äº†:</p><ul><li>å®ç°èµ·æ¥æ¯”è¾ƒç®€å•,æ‰§è¡Œç¯å¢ƒç›¸å¯¹å•çº¯ï¼›</li><li>åªè¦æœ‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿,åé¢çš„ä»»åŠ¡éƒ½å¿…é¡»æ’é˜Ÿç­‰ç€,ä¼šæ‹–å»¶æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œ.<br>(å¸¸è§çš„æµè§ˆå™¨æ— å“åº”(å‡æ­»),å¾€å¾€å°±æ˜¯å› ä¸ºæŸä¸€æ®µJavascriptä»£ç é•¿æ—¶é—´è¿è¡Œ(æ¯”å¦‚æ­»å¾ª),å¯¼è‡´æ•´ä¸ªé¡µé¢å¡åœ¨è¿™ä¸ªåœ°æ–¹,å…¶ä»–ä»»åŠ¡æ— æ³•æ‰§è¡Œ.)</li></ul><h2 id="åŒæ­¥å’Œå¼‚æ­¥"><a href="#åŒæ­¥å’Œå¼‚æ­¥" class="headerlink" title="åŒæ­¥å’Œå¼‚æ­¥"></a>åŒæ­¥å’Œå¼‚æ­¥</h2><p>åœ¨JSä¸­,åŒæ­¥æ„å‘³ç€åœ¨å¾ˆå¤šæƒ…å†µä¸‹CPUåœ¨ç­‰å¾…:åä¸€ä¸ªä»»åŠ¡ç­‰å¾…å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸ,ç„¶åå†æ‰§è¡Œ,ç¨‹åºçš„æ‰§è¡Œé¡ºåºä¸ä»»åŠ¡çš„æ’åˆ—é¡ºåºæ˜¯ä¸€è‡´çš„ã€åŒæ­¥çš„;ä¹Ÿå°±æ˜¯è¯´å½“ä¸€ä»¶äº‹æƒ…æ²¡æœ‰å¤„ç†å®Œæˆ,JSä¼šä¸€ç›´å¤„ç†å®ƒ,ç›´è‡³å®Œæˆ,æ‰ä¼šå¼€å§‹ä¸‹ä¸€ä»¶äº‹æƒ…,è¿™æ ·å¯èƒ½ä¼šå µå¡ä»£ç æ‰§è¡Œ;</p><p>å¼‚æ­¥åˆ™æ˜¯æŒ‡æ¯ä¸€ä¸ªä»»åŠ¡æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå›è°ƒå‡½æ•°(callback),å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸå,ä¸æ˜¯æ‰§è¡Œåä¸€ä¸ªä»»åŠ¡,è€Œæ˜¯æ‰§è¡Œå›è°ƒå‡½æ•°,åä¸€ä¸ªä»»åŠ¡åˆ™æ˜¯ä¸ç­‰å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸå°±æ‰§è¡Œ,æ‰€ä»¥ç¨‹åºçš„æ‰§è¡Œé¡ºåºä¸ä»»åŠ¡çš„æ’åˆ—é¡ºåºæ˜¯ä¸ä¸€è‡´çš„ã€å¼‚æ­¥çš„.</p><p>ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯:<strong>åŒæ­¥ç­‰ç»“æœ,å¼‚æ­¥ä¸ç­‰ç»“æœ.</strong></p><h2 id="JavaScriptçš„æ‰§è¡Œæœºåˆ¶"><a href="#JavaScriptçš„æ‰§è¡Œæœºåˆ¶" class="headerlink" title="JavaScriptçš„æ‰§è¡Œæœºåˆ¶"></a>JavaScriptçš„æ‰§è¡Œæœºåˆ¶</h2><p>æµç¨‹å›¾å¦‚ä¸‹:<br><img src="JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/1.png" alt="JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶.md"><br>æ³¨æ„ç‚¹:</p><ul><li>JSä»£ç åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡.</li><li>åŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œ,å¼‚æ­¥ä»»åŠ¡è¿›å…¥<strong>Event Table(äº‹ä»¶è¡¨)</strong>,å½“äº‹ä»¶è¡¨ä¸­çš„å¼‚æ­¥ä»»åŠ¡å®Œæˆåä¼šåœ¨**Event Queue(äº‹ä»¶é˜Ÿåˆ—)**ä¸­æ³¨å†Œå›è°ƒå‡½æ•°.</li><li>ä¸»çº¿ç¨‹ä¸­çš„ä»»åŠ¡å…¨éƒ¨å®Œæˆå,æ‰ä¼šæ‰§è¡Œ<strong>Event Queueä¸­</strong>çš„ä»»åŠ¡.</li><li>JSè§£æå™¨ä¼šä¸æ–­é‡å¤æ£€æŸ¥ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆæ˜¯å¦ä¸ºç©º,ç„¶åé‡å¤ç¬¬3æ­¥,è¿™ç§°ä¸º<strong>Event Loop(äº‹ä»¶å¾ªç¯)</strong>.</li></ul><h2 id="å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"><a href="#å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" class="headerlink" title="å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"></a>å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</h2><p>JSä»£ç çš„ç±»å‹å¦‚ä¸‹å›¾æ‰€ç¤º:<br><img src="JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/2.png" alt="JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶.md"></p><p>å®ä»»åŠ¡ä¸»è¦æœ‰:</p><ul><li>scriptä»£ç æ®µ</li><li>setTimeout</li><li>setInterval</li><li>I/O</li></ul><p>å¾®ä»»åŠ¡ä¸»è¦æœ‰:</p><ul><li>process.nextTick</li><li>Promise</li></ul><p>æ³¨æ„ç‚¹:</p><ul><li>ä»»åŠ¡æœ‰**å®ä»»åŠ¡(Macro Task)<strong>å’Œ</strong>å¾®ä»»åŠ¡(Micro Task)**ä¹‹åˆ†,è¿™å¯¹JSä»£ç çš„æ‰§è¡Œæœ‰æ›´ç»†è‡´çš„å½±å“.</li><li>å¼‚æ­¥ä»»åŠ¡ä¸­çš„å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ä¼šè¿›å…¥ä¸åŒçš„<strong>Event Queue(äº‹ä»¶é˜Ÿåˆ—)</strong>,å³<strong>Event Queue</strong>åˆå¯ä»¥åˆ†ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—.</li><li><strong>setInterval</strong>ä¼šæŒ‰ç…§è®¾å®šçš„æ—¶é—´é—´éš”é‡å¤åœ°åœ¨<strong>Event Queue</strong>ä¸­æ³¨å†Œå›è°ƒå‡½æ•°,å¦‚æœæŸä¸€æ®µæ—¶é—´ä¸»çº¿ç¨‹ä»£ç æ‰§è¡Œå¤ªä¹…,é‚£ä¹ˆ<strong>setInterval</strong>çš„å›è°ƒå‡½æ•°å¯èƒ½é˜»å¡åˆ°ä¸€èµ·æ‰§è¡Œ,æ— æ³•ä¿æŒè®¾å®šçš„æ—¶é—´é—´éš”,å¦‚æœæ­¤æ—¶<strong>setInterval</strong>ç”¨äºåŠ¨ç”»,åˆ™ä½“ç°ä¸ºå¡é¡¿.</li></ul><h2 id="è¯¦ç»†è¿‡ç¨‹"><a href="#è¯¦ç»†è¿‡ç¨‹" class="headerlink" title="è¯¦ç»†è¿‡ç¨‹"></a>è¯¦ç»†è¿‡ç¨‹</h2><p><img src="JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/3.png" alt="JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶.md"></p><p>é€šå¸¸æ¥è¯´,é¡µé¢ä¸­JSçš„æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„:</p><ul><li>ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯:<br>  1.ä¸»çº¿ç¨‹æ‰§è¡ŒJSæ•´æ®µ(å®ä»£ç ),å°†ajaxã€setTimeOutã€promiseç­‰å›è°ƒå‡½æ•°æ³¨å†Œåˆ°<strong>Event Queue</strong>ä¸­,å¹¶åŒºåˆ†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡.<br>  2.ä¸»çº¿ç¨‹æå–å¹¶æ‰§è¡Œ<strong>Evene Queue</strong>ä¸­çš„ajaxã€promiseç­‰æ‰€æœ‰å¾®ä»»åŠ¡,å¹¶æ³¨å†Œå¾®ä»»åŠ¡ä¸­çš„å¼‚æ­¥ä»»åŠ¡åˆ°<strong>Event Queue</strong>(å¦‚æœæœ‰).</li><li>ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯:<br>  1.ä¸»çº¿ç¨‹æå–å¹¶æ‰§è¡Œ<strong>Evene Queue</strong>ä¸­çš„ç¬¬ä¸€ä¸ªå®ä»»åŠ¡,æ³¨å†Œè¯¥ä»»åŠ¡ä¸­çš„å¼‚æ­¥ä»»åŠ¡åˆ°<strong>Evene Queue</strong>(å¦‚æœæœ‰).<br>  2.æ‰§è¡Œ<strong>Evene Queue</strong>ä¸­æ‰€æœ‰çš„å¾®ä»»åŠ¡,å¹¶æ³¨å†Œå¾®ä»»åŠ¡ä¸­çš„å¼‚æ­¥ä»»åŠ¡åˆ°<strong>Evene Queue</strong>(å¦‚æœæœ‰).</li><li>ç±»ä¼¼çš„å¾ªç¯:å®ä»»åŠ¡æ²¡æ‰§è¡Œå®Œä¸€ä¸ª,å°±æ¸…ç©ºä¸€æ¬¡æ—¶é—´é˜Ÿåˆ—ä¸­çš„å¾®ä»»åŠ¡.<br>æ³¨æ„ç‚¹:<strong>äº‹ä»¶é˜Ÿåˆ—ä¸­åˆ†â€å®ä»»åŠ¡é˜Ÿåˆ—â€å’Œâ€å¾®ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡éƒ½å¯èƒ½æ³¨å†Œæ–°çš„å®ä»»åŠ¡æˆ–å¾®ä»»åŠ¡åˆ°ç›¸åº”çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­.</strong></li></ul><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®°ä½œ set1</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;2&#x27;</span>);</span><br><span class="line">    <span class="comment">// set4</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;3&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// pro2</span></span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;4&#x27;</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;5&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®°ä½œ pro1</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;6&#x27;</span>);</span><br><span class="line">    resolve();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;7&#x27;</span>);</span><br><span class="line">    <span class="comment">// set3</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;8&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®°ä½œ set2</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;9&#x27;</span>);</span><br><span class="line">    <span class="comment">// è®°ä½œ pro3</span></span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;10&#x27;</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;11&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ€ç»ˆè¾“å‡º : 1 6 7 2 4 5 9 10 11 8 3</span></span><br></pre></td></tr></table></figure><ul><li><p>ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯:<br>  1.å°†æ•´æ®µscriptä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹,é‡åˆ°console.log,è¾“å‡º1.<br>  <img src="JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/4.png" alt="JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶.md"><br>  2.é‡åˆ°set1,å…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡<strong>Event Queue</strong>ä¸­.<br>  <img src="JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/5.png" alt="JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶.md"><br>  3.é‡åˆ°pro1,new Promiseç›´æ¥æ‰§è¡Œ,è¾“å‡º6.thenè¢«åˆ†å‘åˆ°å¾®ä»»åŠ¡<strong>Event Queue</strong>ä¸­.<br>  <img src="JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/6.png" alt="JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶.md"><br>  4.é‡åˆ°set2,å…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡<strong>Event Queue</strong>ä¸­.<br>  <img src="JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/7.png" alt="JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶.md"><br>  5.ä¸»çº¿ç¨‹çš„æ•´æ®µJSä»£ç (å®ä»»åŠ¡)æ‰§è¡Œå®Œæˆ,å¼€å§‹æ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡;ä¸»çº¿ç¨‹æ‰§è¡Œå¾®ä»»åŠ¡pro1,è¾“å‡º7;é‡åˆ°set3ï¼Œæ³¨å†Œå›è°ƒå‡½æ•°ã€‚<br>  <img src="JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/8.png" alt="JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶.md"></p></li><li><p>ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯<br>  1.ä¸»çº¿ç¨‹æ‰§è¡Œé˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªå®ä»»åŠ¡set1,è¾“å‡º2;é‡åˆ°set4,æ³¨å†Œå›è°ƒ;å†é‡åˆ°pro2,new Promiseç›´æ¥æ‰§è¡Œ,è¾“å‡º4,å¹¶æ³¨å†Œå›è°ƒ.<br>  <img src="JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/9.png" alt="JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶.md"><br>  2.set1(å®ä»»åŠ¡)æ‰§è¡Œå®Œ,å¼€å§‹æ¸…ç©ºå¾®ä»»åŠ¡,ä¸»çº¿ç¨‹æ‰§è¡Œå¾®ä»»åŠ¡pro2,è¾“å‡º5;<br>  <img src="JavaScript%E7%9A%84%E5%90%8C%E6%AD%A5%E5%BC%82%E6%AD%A5%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/10.png" alt="JavaScriptçš„åŒæ­¥å¼‚æ­¥å’Œæ‰§è¡Œæœºåˆ¶.md"></p></li><li><p>ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯<br>  1.ä¸»çº¿ç¨‹æ‰§è¡Œé˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªå®ä»»åŠ¡set2ï¼Œè¾“å‡º9ï¼›ä»£ç ä¸­é‡åˆ°äº†pro3ï¼Œnew promise()ç›´æ¥è¾“å‡º10ï¼Œå¹¶æ³¨å†Œå›è°ƒï¼›<br>  2.set2å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå¼€å§‹æƒ…å†µå¾®ä»»åŠ¡ï¼Œä¸»çº¿ç¨‹æ‰§è¡Œå¾®ä»»åŠ¡pro3ï¼Œè¾“å‡º11ã€‚</p></li><li><p>ç±»ä¼¼å¾ªç¯â€¦</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;##JavaScriptä¸­çš„å•çº¿ç¨‹&lt;br&gt;æŠ€æœ¯çš„å‡ºç°æ€»æ˜¯å’Œåº”ç”¨åœºæ™¯å¯†åˆ‡ç›¸å…³.&lt;br&gt;Ja</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>å›´åŸâ€”â€”è¯»ä¹¦ç¬”è®°</title>
    <link href="http://example.com/2020/02/09/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0--%E5%9B%B4%E5%9F%8E/"/>
    <id>http://example.com/2020/02/09/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0--%E5%9B%B4%E5%9F%8E/</id>
    <published>2020-02-09T15:27:15.000Z</published>
    <updated>2021-08-07T05:59:13.594Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p>æƒŠå¹é’±è€çš„ç»å…¸ï¼å€Ÿç€å°è¯´æ­éœ²é‚£ä¸ªæ—¶ä»£çš„ç—…æ€ï¼Œæ–‡ç¬”çŠ€åˆ©ï¼Œè¾›è¾£è®½åˆºã€‚<br>æ–¹é¸¿æ¸è‡ªå·±ç•™æ´‹å½’æ¥ï¼Œåœ¨æœ‰ç€å‰æ¸…ä¸¾äººç§°å·çš„çˆ¶äº²ï¼Œè¿‚è…çš„æ¯äº²ï¼Œæƒºæƒºä½œæ€çš„å¼Ÿå¦¹çš„å¤§å®¶åº­ä¸­ï¼Œä»£è¡¨ç€è¥¿å¼æ–‡åŒ–ï¼Œä¸ä¼ ç»Ÿçš„ä¸­å›½æ–‡åŒ–è¿›è¡Œäº†ä¸€åœºæ¿€çƒˆçš„ç¢°æ’ã€‚è¿˜æœ‰å’Œè‚èƒ†ç›¸ç…§çš„èµµè¾›æ¥£ï¼Œæå…·æ‰æ°”çš„è‹å°å§ï¼Œé“è²Œå²¸ç„¶çš„ææ¢…äº­ç­‰ä¸€ç³»åˆ—ä¸ªæ€§é²œæ˜äººç‰©çš„æ•…äº‹ï¼Œé“å‡ºä¸–äº‹æ— å¸¸ï¼Œäººæ€§è™šä¼ªï¼Œä¹Ÿæš—è®½é™ˆè…çš„æ—§ä¸­å›½åŒ…æ‹¬ä»£è¡¨è¥¿æ–¹æ–‡åŒ–çš„éƒ¨åˆ†çŸ¥è¯†åˆ†å­ã€‚<br>â€œåŸä¸­çš„äººæƒ³å‡ºå»ï¼ŒåŸå¤–çš„äººæƒ³å†²è¿›æ¥â€ï¼Œæˆ‘æƒ³è¿™è¯ä¸ä»…ä»…åªæ˜¯è¯´å©šå§»ï¼Œç”Ÿæ´»ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ–¹é¸¿æ¸çš„ä¸€ç”Ÿéƒ½åœ¨åŸå†…å¤–å…œå…œè½¬è½¬ï¼Œæ‹çˆ±è·Ÿç€å¤±æ‹ï¼Œæ•™ä¹¦è·Ÿç€è¢«è¾é€€ï¼Œç»“å©šè·Ÿç€ä¸å¿«ä¹ã€‚<br>ä¹‹åæ–¹é¸¿æ¸å’Œå­™æŸ”å˜‰çš„ç»“åˆï¼Œåˆ°åº•ä¸æ˜¯æœ‰æƒ…äººç»ˆæˆçœ·å±ï¼Œæ­¥å…¥å©šå§»ï¼Œé€æ¸æš´éœ²å‡ºåŒæ–¹çš„çœŸå®ï¼ŒåŸç”Ÿå®¶åº­å¸¦æ¥çš„çŸ›ç›¾ï¼Œç»æµä¸Šçš„çª˜è¿«ï¼Œè®©ä¸¤ä¸ªäººå¹¶ä¸å¿«ä¹ã€‚å¯ä»¥è¯´è¿™æ ·å©šå§»æ˜¯å›´åŸï¼Œä¸è¿‡ä¹Ÿä¸èƒ½å¿½è§†ç°å®ã€‚<br>åœ¨ç°å®ä¸­æˆ‘ä»¬ä¹Ÿä¼šæ·±é™·â€å›´åŸâ€ï¼Œå¤§å¤šæ—¶å€™éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±é€ æˆçš„å›°æ‰°å’Œå¥‡æ€ªçš„æƒ³æ³•ï¼Œæ¶ˆæçš„æƒ³æ³•æ€»æ˜¯è®©äººæ„Ÿåˆ°æ‚²è§‚ï¼Œè¦ç»å¸¸å®¡è§†è‡ªå·±çš„å†…å¿ƒã€‚æœ‰äº›äººå¿«ä¹çš„æ—¶å€™å¾ˆå°‘ï¼Œå’Œç”Ÿæ´»ä¸€ç›´åœ¨åšæŠ—äº‰ï¼Œæœ‰äº›äººä¸€ç›´ä¿æŒç§¯æä¹è§‚çš„å¿ƒæ€ï¼Œå¸¦ç€æå¤§çš„çƒ­æƒ…ç”Ÿæ´»ï¼Œè¿™äº›äººå¹¶éä¸€ç›´å¦‚æ­¤ï¼ŒçŠ¶æ€ç›¸äº’è½¬åŒ–é—´å¯è§â€å›´åŸâ€å¹¶éç‰¢ä¸å¯ç ´ï¼Œè¯¥ç ´çš„æ˜¯æˆ‘ä»¬è‡ªå·±çš„æƒ³æ³•ã€‚</p><hr><h3 id="å›´åŸâ€”è¯»ä¹¦ç¬”è®°2-3-2-10"><a href="#å›´åŸâ€”è¯»ä¹¦ç¬”è®°2-3-2-10" class="headerlink" title="å›´åŸâ€”è¯»ä¹¦ç¬”è®°2.3-2.10"></a>å›´åŸâ€”è¯»ä¹¦ç¬”è®°2.3-2.10</h3><h4 id="å°èŒƒå®è´"><a href="#å°èŒƒå®è´" class="headerlink" title="å°èŒƒå®è´"></a>å°èŒƒå®è´</h4><p>ã€Šå›´åŸã€‹è¿™æœ¬ä¹¦ï¼Œåˆšçœ‹æ—¶æ²¡æœ‰ä»€ä¹ˆæ·±åˆ»çš„ä½“ä¼šï¼Œä½†å®ƒå¯èƒ½ç»å…¸å°±ç»å…¸åœ¨éšç€æ•…äº‹æƒ…èŠ‚çš„å‘å±•ï¼Œäººæ€§çš„å¼±ç‚¹ä¸äººç”Ÿçš„è’å‡‰æ…¢æ…¢çš„å±•ç°åœ¨äº†ä½ çš„é¢å‰ï¼Œç”šè‡³ä¼šä½¿è¯»è€…åœ¨æ–¹é¸¿æ¸çš„èº«ä¸Šæ‰¾åˆ°ä¸€ä¸æƒ…æ„Ÿçš„å…±é¸£ï¼Œåƒæ˜¯äººæ€§çš„ç¼©å½±ï¼Œåœ¨ä»–çš„èº«ä¸Šä½“ç°çš„æ·‹æ¼“å°½è‡´ã€‚<br>æ•…äº‹ä»¥å¤•é˜³ä¸‹æµ·é¢ä¸Šç¼“ç¼“è¡Œé©¶çš„èˆ¹åªå¼€å¤´ï¼Œåœ¨è¿™è‰˜èˆ¹ä¸Šæ–¹é¸¿æ¸ä¸â€œåŠè£¸çš„â€â€œå±€éƒ¨çœŸç†çš„â€é²å°å§æœ‰äº†ä¸€å¤œçš„æƒ…ç¼˜ã€‚è€ŒåŒæ—¶ï¼ŒåŒæ ·ç•™å­¦å½’æ¥çš„è‹å°å§ä¹Ÿå¯¹ä»–èŠ³å¿ƒæš—è®¸ã€‚è‹æ–‡çº¨å®¶å®¤ä¸é”™åˆæ˜¯ç•™æ ·å½’æ¥ï¼Œé•¿å¾—ä¹Ÿçœ‰æ¸…ç›®ç§€ï¼Œå¯æ˜¯æ–¹é¸¿æ¸åˆ°æœ€åä¹Ÿæ²¡æœ‰å–œæ¬¢ä¸Šè‹å°å§ï¼Œåè€Œæ˜¯å¯¹å¥¹çš„è¡¨å¦¹å”æ™“èŠ™å¯ä»¥è¯´æ˜¯ä¸€è§é’Ÿæƒ…ã€‚é’±é’Ÿä¹¦å…ˆç”Ÿæ˜¯è¿™æ ·æè¿°å”æ™“èŠ™çš„ï¼šå”å°å§å¦©åªšç«¯æ­£çš„åœ†è„¸ï¼Œæœ‰ä¸¤ä¸ªæµ…é…’æ¶¡ã€‚å¤©ç”Ÿç€ä¸€èˆ¬å¥³äººè¦èŠ±é’±è´¹æ—¶ã€è°ƒè„‚å’Œç²‰æ¥ä»¿é€ çš„å¥½è„¸è‰²ï¼Œæ–°é²œå¾—ä½¿äººè§äº†å¿˜æ‰å£æ¸´è€Œåˆè§‰å˜´é¦‹ï¼Œä»¿ä½›æ˜¯å¥½æ°´æœã€‚å¥¹çœ¼ç›å¹¶ä¸é¡¶å¤§ï¼Œå¯æ˜¯çµæ´»æ¸©æŸ”ï¼Œåè¡¬å¾—è®¸å¤šå¥³äººçš„å¤§çœ¼ç›åªåƒæ”¿æ²»å®¶è®²çš„å¤§è¯ï¼Œå¤§è€Œæ— å½“ã€‚å¤å…¸å­¦è€…çœ‹å¥¹è¯´ç¬‘æ—¶éœ²å‡ºçš„å¥½ç‰™é½¿ï¼Œä¼šè¯§å¼‚ä¸ºä»€ä¹ˆå¤ä»Šä¸­å¤–è¯—äººï¼Œéƒ½ç”˜å¿ƒå˜æˆå¥³äººå¤´æ’çš„é’—ï¼Œè…°æŸçš„å¸¦ï¼Œèº«ä½“ç¡çš„å¸­ï¼Œç”šè‡³è„šä¸‹è·µè¸çš„é‹ï¼Œå¯æ˜¯ä»æ²¡æƒ³åˆ°åŒ–ä½œå¥¹çš„ç‰™åˆ·ã€‚å¥¹å¤´å‘æ²¡çƒ«ï¼Œçœ‰æ¯›ä¸é•Šï¼Œå£çº¢ä¹Ÿæ²¡æœ‰æ“¦ï¼Œä¼¼ä¹å®‰å¿ƒéµå®ˆå¤©ç”Ÿçš„é™æ­¢ï¼Œä¸è¦å¼¥è¡¥é€ åŒ–çš„ç¼ºé™·ã€‚æ€»è€Œè¨€ä¹‹ï¼Œå”å°å§æ˜¯æ‘©ç™»æ–‡æ˜ç¤¾ä¼šé‡Œé‚£æ¡©ç½•ç‰©â€”â€”ä¸€ä¸ªçœŸæ­£çš„å¥³å­©å­ã€‚è¿™æ®µè¯ï¼ŒçœŸçš„æ˜¯æˆ‘åœ¨æ•´æœ¬ä¹¦ä¸­ï¼Œè§è¿‡çš„å¯¹å¥³å­©å­æœ€ç¾å¥½çš„æè¿°äº†ï¼Œå”å°å§å°±åƒä¸€æœµçº¢ç«ç‘°ï¼Œæ·±æ·±åœ°æ’è¿›äº†æ–¹é¸¿æ¸çš„å¿ƒä¸­ã€‚è€Œè¿™æ®µæ„Ÿæƒ…æœ€ç»ˆä¹Ÿå› ä¸ºä»–è‡ªå·±çš„æ‡¦å¼±ä¸é€€ç¼©å¤­æŠ˜åœ¨äº†é‚£ä¸ªä¸‹ç€å¤§é›¨çš„åˆåã€‚<br>å¦‚æœè¯´é²å°å§ä»£è¡¨è‚‰æ¬²ï¼Œè‹å°å§ä»£è¡¨æ‰æƒ…å’Œå®¶å®¤ï¼Œå”å°å§ä»£è¡¨åˆæ‹ï¼Œé‚£æ¥ä¸‹æ¥å‡ºç°çš„è¿™ä½å­™æŸ”å˜‰åˆ™ä»£è¡¨äº†å©šå§»ã€‚å­™å°å§å‡ºç°æ—¶ï¼Œä¸€å¼ å¯¡æ·¡çš„è„¸ä¸Šæœ‰ç€äº›å°çš„é›€æ–‘ï¼Œè¿™ä¸å”å°å§çš„å¤–è²Œæè¿°ç®€ç›´å¤©å·®åœ°åˆ«ã€‚è€Œå¥¹ä¸€ä¸ªå¥³å­©ç‹¬è‡ªå’Œ4ä¸ªç”·äººä¸€èµ·å‡ºè¿œé—¨å»å¤§å­¦æ•™ä¹¦ï¼Œè¿™ç§è¡Œä¸ºåˆšå¼€å§‹è®©æˆ‘ä¸å¤ªç†è§£ï¼Œå¯çœ‹åˆ°åé¢å¥¹çˆ¶æ¯çš„é‡ç”·è½»å¥³ï¼Œè¿«ä½¿å¥¹ä¸€ä¸ªå¥³å­©å­è¦ä¸æ–­çš„åŠªåŠ›æ‰èƒ½åˆ›é€ å‡ºå±äºè‡ªå·±çš„å¥½ç”Ÿæ´»ã€‚åŸä»¥ä¸ºå¥¹æ˜¯ä¸€ä¸ªä¹–å·§ç”šè‡³æœ‰äº›å•çº¯çš„å¥³ç”Ÿï¼Œå¯åœ¨å¥¹ä¸€æ­¥ä¸€æ­¥è®¾ä¸‹åœˆå¥—ï¼Œè®©æ–¹é¸¿æ¸æ…¢æ…¢èµ°è¿›è‡ªå·±å©šå§»çš„å›´åŸä¸­æ—¶ï¼Œè®©æˆ‘è§‰å¾—å¥¹å®åœ¨å¿ƒæ€æ·±é‡ï¼Œå´ä¹Ÿè§‰å¾—å¥¹æœ‰äº›å¯æ€œã€‚å®¶åº­å’Œç”Ÿæ´»çš„å‹åŠ›é€¼è¿«å¥¹æˆé•¿ä¸ºäº†ä¸€ä¸ªæ•æ„Ÿã€å¯Œæœ‰å¿ƒè®¡çš„å¥³å­ã€‚å¥¹ä¸æ–¹é¸¿æ¸å©šåä¹Ÿæ¸æ¸æš´éœ²å‡ºè‡ªå·±å–„å¦’ã€ä¸“æ¨ªçš„ä¸€é¢ã€‚å¥¹è¿‡äºèªæ˜ï¼Œæ¯æ¯åµæ¶å˜´ä¸Šè¯´ç€ä¸æƒ³æ–¹é¸¿æ¸çš„æœ‹å‹è§‰å¾—å¥¹é™åˆ¶äº†ä»–çš„ç”Ÿæ´»ï¼Œå¯ä»–ä»¬æœ‰å“ªä¸€æ¬¡åµæ¶ä¸æ˜¯å­™æŸ”å˜‰åœ¨é™åˆ¶ä»–å‘¢ï¼Ÿåœ¨ç”Ÿæ´»ä¸Šã€å·¥ä½œä¸Šï¼Œç”šè‡³æ˜¯æœ‹å‹çš„äº¤å¾€ä¸Šã€‚å¥¹å¾ˆå‹‡æ•¢ï¼Œå¥¹å¤§èƒ†çš„è¿½æ±‚è‡ªå·±çš„å¹¸ç¦ï¼Œé€‰æ‹©äº†æ–¹é¸¿æ¸è¿™åœ¨å¥¹çœ‹æ¥æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œå¥¹æ‹¥æœ‰æŠ—äº‰äººç”Ÿï¼Œè¿æ¥å¹¸ç¦ç”Ÿæ´»çš„å‹‡æ°”ï¼Œå¯å¥¹é€‰æ‹©çš„å´æœªå¿…æ˜¯å¹¸ç¦çš„ç”Ÿæ´»ã€‚ä»–ä»¬çš„å©šåç”Ÿæ´»æ‰“ç ´äº†æ–¹é¸¿æ¸å¯¹å©šå§»çš„å¹»æƒ³ï¼Œè¿™æ˜¯ä¸€æ®µè¢«æŒæ§çš„å©šå§»ï¼Œè€Œæ–¹é¸¿æ¸åœ¨è¢«ç”Ÿæ´»ä¸æ–­æ‰“ç£¨æ£±è§’çš„åŒæ—¶ï¼Œä¹Ÿåœ¨ä¸æ–­çš„å‘ä»–çš„å©šå§»åšå‡ºå¦¥åã€‚å¯æ˜¯è¿™äº›å¦¥åå¹¶ä¸èƒ½æ”¹å˜ä»–ä»¬ä¸æ–­çš„äº‰åµã€ä¸æ–­çš„å‘ç”ŸçŸ›ç›¾çš„ç°çŠ¶ã€‚<br>æ˜¯å•Šï¼Œæ–¹é¸¿æ¸ä»æ¥å°±ä¸æ˜¯ä¸€ä¸ªä¼šä¸»åŠ¨äº‰å–çš„äººï¼Œä»–å¥½åƒç»ä¸å¾—ä¸€ç‚¹æŒ«æŠ˜ä¸éº»çƒ¦ã€‚ä»–æ€»æ˜¯åœ¨æœ‰äº†ä¸€ç‚¹ç‚¹é€€è·¯åæ‹”è…¿å°±è·‘ï¼Œä¸æ„¿æ„é¢å¯¹ä¸€ç‚¹ç‚¹çš„å›°éš¾æˆ–è€…è¯´åŠªåŠ›ä¸€ç‚¹ç‚¹ã€‚è€ƒå–æ–‡å‡­æ—¶æ˜¯è¿™æ ·ï¼Œä¸å²³çˆ¶å²³æ¯é—¹ç¿»æ—¶æ˜¯è¿™æ ·ï¼Œå¤§å­¦æ•™ä¹¦æ—¶æ²¡æœ‰è˜ä¹¦ä¹Ÿæ˜¯è¿™æ ·ã€‚ä»–ä¹Ÿæ›¾åœ¨å¹´è½»çš„æ—¶å€™æ„æ°”é£å‘ï¼Œè¢«å¤§å®¶å¹æ§ã€æœ‰å¥³å­©å–œçˆ±ã€‚é‚£æ—¶ä»–çš„èº«è¾¹å›´ç»•ç€çš„æ˜¯è‹å°å§ã€èµµå…ˆç”Ÿã€å”å°å§ã€æ›¹å…ˆç”Ÿï¼Œè¿™äº›äººæ— ä¸€ä¾‹å¤–éƒ½æ˜¯å®¶ä¸–å¥½ï¼Œæ–‡åŒ–é«˜ï¼Œä»–ä¹Ÿæ›¾æ˜¯è¿™äº›äººä¸­çš„ä¸€å‘˜ã€‚ä½†æ˜¯åœ¨æ—¶é—´çš„ç»†ç»†æ‰“ç£¨ä¸‹ï¼Œä»–æ…¢æ…¢éœ²å‡ºäº†åŸæœ¬çš„æ ·å­ã€‚æ–‡å‡­æ˜¯å‡çš„ï¼Œå®¶å®¤ä¹Ÿä¸€èˆ¬ï¼Œæ€§æ ¼åˆè½¯å¼±ï¼Œåªæœ‰é‚£ä¸€èº«çš„å‚²æ°”è¿˜ç®—çœŸå®ã€‚æœ€ååªèƒ½å¨¶ä¸€ä¸ªåƒå­™æŸ”å˜‰è¿™æ ·å¹³å‡¡çš„å¥³ç”Ÿä½œä¸ºå¦»å­ï¼Œè¿˜è¯´â€œä¹Ÿè®¸è¿™æ­£æ˜¯æˆ‘æ‰€éœ€è¦çš„â€ã€‚ä»–æ€»æ˜¯è¢«è¿«çš„æ¥å—ç€ï¼Œè¿˜åè¿‡æ¥å®‰æ…°è‡ªå·±ä¹Ÿè®¸ä¸€åˆ‡éƒ½æ˜¯æœ€å¥½çš„å®‰æ’ï¼ŒçœŸæ˜¯ä¸€ä¸ªå¯æ‚²åˆå¯æ¨çš„äººç‰©ã€‚<br>æ–¹é¸¿æ¸æœ‰äº›å°èªæ˜ï¼Œä¹Ÿæ¯”ä¸€èˆ¬äººæœ‰å­¦è¯†ï¼Œå¯ä»–çš„ä¸€ç”Ÿï¼Œåœ¨æˆ‘çœ‹æ¥çš„çš„ç¡®ç¡®æ˜¯ä¸€åœºæ‚²å‰§ã€‚ä»–ä¸€ç”Ÿéƒ½æ— æ³•èµ°å‡ºè‡ªå·±çš„å›´åŸé‡Œã€‚è¿™ä¸ªå›´åŸï¼Œä¸æ˜¯åˆ«äººç»™ä»–é€ çš„ï¼Œè€Œæ˜¯ä»–çš„æ‡¦å¼±é€€ç¼©åŠ ä¸Šä»–è«åçš„ä¸è‚¯ä½å¤´çš„å‚²æ°”ï¼Œè‡ªå·±ç»™è‡ªå·±è®¾ä¸‹çš„å›´åŸã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æƒŠå¹é’±è€çš„ç»å…¸ï¼å€Ÿç€å°è¯´æ­éœ²é‚£ä¸ªæ—¶ä»£çš„ç—…æ€ï¼Œæ–‡ç¬”çŠ€åˆ©ï¼Œè¾›è¾£è®½åˆºã€‚&lt;br&gt;æ–¹é¸¿æ¸è‡ªå·±ç•™æ´‹å½’</summary>
      
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="http://example.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="http://example.com/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    <category term="æ–‡å­¦" scheme="http://example.com/tags/%E6%96%87%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptä¸­Setå’ŒMap</title>
    <link href="http://example.com/2020/02/07/JavaScript%E4%B8%ADSet%E5%92%8CMap/"/>
    <id>http://example.com/2020/02/07/JavaScript%E4%B8%ADSet%E5%92%8CMap/</id>
    <published>2020-02-07T07:32:12.000Z</published>
    <updated>2021-08-07T05:59:13.872Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>ES6 æä¾›äº†æ–°çš„æ•°æ®ç»“æ„ Set.å®ƒç±»ä¼¼äºæ•°ç»„,ä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„,æ²¡æœ‰é‡å¤çš„å€¼.</p><p>Set æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°,ç”¨æ¥ç”Ÿæˆ Set æ•°æ®ç»“æ„.<br>åŸºæœ¬ç”¨æ³•:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(set);<span class="comment">//Set &#123; 1, 2, 3, 4 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(set.size);<span class="comment">//4</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¯¦ç»†äº†è§£ä¸€ä¸‹Setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•:</p><ul><li>å±æ€§<ul><li>size:è¿”å›é›†åˆæ‰€åŒ…å«å…ƒç´ çš„æ•°é‡</li></ul></li><li>æ–¹æ³•<ul><li>æ“ä½œæ–¹æ³•(è§ä¾‹å­1)<ul><li>add(value):å‘é›†åˆä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„é¡¹</li><li>delete(value):ä»é›†åˆä¸­ç§»é™¤ä¸€ä¸ªå€¼</li><li>has(value): åˆ¤æ–­ä¸€ä¸ªå€¼åœ¨é›†åˆä¸­æ˜¯å¦å­˜åœ¨,å­˜åœ¨è¿”å›true,å¦åˆ™false</li><li>clear(): ç§»é™¤é›†åˆé‡Œæ‰€æœ‰çš„é¡¹</li></ul></li><li>éå†æ–¹æ³•(è§ä¾‹å­2)<ul><li>keys():è¿”å›é”®åçš„éå†å™¨</li><li>values():è¿”å›é”®å€¼çš„éå†å™¨</li><li>entries():è¿”å›é”®å€¼å¯¹çš„éå†å™¨</li><li>forEach():ä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</li></ul></li></ul></li></ul><p>ä¾‹å­1:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"></span><br><span class="line">set.add(<span class="string">&#x27;Cola&#x27;</span>);</span><br><span class="line">set.add(<span class="number">3.5</span>);</span><br><span class="line">set.add(<span class="string">&#x27;red&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(set);<span class="comment">//Set &#123; &#x27;Cola&#x27;, 3.5, &#x27;red&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line">set.delete(<span class="number">3.5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(set);<span class="comment">//Set &#123; &#x27;Cola&#x27;, &#x27;red&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(set.has(<span class="string">&#x27;red&#x27;</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(set.has(<span class="string">&#x27;blue&#x27;</span>));<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">set.clear();</span><br><span class="line"><span class="built_in">console</span>.log(set);<span class="comment">//Set &#123;&#125;</span></span><br></pre></td></tr></table></figure><p>ä¾‹å­2:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;Cola&#x27;</span>, <span class="number">3.5</span>, <span class="string">&#x27;red&#x27;</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(set.keys());<span class="comment">//SetIterator &#123; &#x27;Cola&#x27;, 3.5, &#x27;red&#x27; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(set.values());<span class="comment">//SetIterator &#123; &#x27;Cola&#x27;, 3.5, &#x27;red&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(set.entries());<span class="comment">//SetIterator &#123; [ &#x27;Cola&#x27;, &#x27;Cola&#x27; ], [ 3.5, 3.5 ], [ &#x27;red&#x27;, &#x27;red&#x27; ] &#125;</span></span><br><span class="line">set.forEach(<span class="function">(<span class="params">value, key, array</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key + <span class="string">&#x27; : &#x27;</span> + value + <span class="string">&#x27; : &#x27;</span> + array);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//Cola : Cola : [object Set]</span></span><br><span class="line"><span class="comment">//3.5 : 3.5 : [object Set]</span></span><br><span class="line"><span class="comment">//red : red : [object Set]</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„:Setçš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåº,ç”±äº Set ç»“æ„æ²¡æœ‰é”®å,åªæœ‰é”®å€¼(æˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼),æ‰€ä»¥keysæ–¹æ³•å’Œvaluesæ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´</strong></p><p>for oféå†æ–¹å¼:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;Cola&#x27;</span>, <span class="number">3.5</span>, <span class="string">&#x27;red&#x27;</span>]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> value <span class="keyword">of</span> set)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Cola</span></span><br><span class="line"><span class="comment">//3.5</span></span><br><span class="line"><span class="comment">//red</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [value,key] <span class="keyword">of</span> set.entries())&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value+<span class="string">&#x27;:&#x27;</span>+key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Cola:Cola</span></span><br><span class="line"><span class="comment">//3.5:3.5</span></span><br><span class="line"><span class="comment">//red:red</span></span><br></pre></td></tr></table></figure><h4 id="Setå’ŒArrayè½¬æ¢"><a href="#Setå’ŒArrayè½¬æ¢" class="headerlink" title="Setå’ŒArrayè½¬æ¢"></a>Setå’ŒArrayè½¬æ¢</h4><ul><li><p>æ•°ç»„ =&gt; Set:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;Cola&#x27;</span>, <span class="number">3.5</span>, <span class="string">&#x27;red&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>(arr);</span><br><span class="line"><span class="built_in">console</span>.log(set);<span class="comment">//Set &#123; &#x27;Cola&#x27;, 3.5, &#x27;red&#x27; &#125;</span></span><br></pre></td></tr></table></figure></li><li><p>Set =&gt; æ•°ç»„:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;Cola&#x27;</span>, <span class="number">3.5</span>, <span class="string">&#x27;red&#x27;</span>]);</span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>.from(set)</span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//[ &#x27;Cola&#x27;, 3.5, &#x27;red&#x27; ]</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h2><p>æˆ‘ä»¬å†çœ‹çœ‹Set,å½“æœ‰å¯¹è±¡å­˜å‚¨åœ¨Setå®ä¾‹ä¸­æ—¶,è¿™ç›¸å½“äºæŠŠå¯¹è±¡å­˜å‚¨åœ¨å˜é‡ä¸­,åªè¦Setå®ä¾‹çš„å¼•ç”¨ä»ç„¶å­˜åœ¨,æ‰€å­˜å‚¨çš„å¯¹è±¡å°±æ— æ³•è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶,ä»è€Œæ— æ³•é‡Šæ”¾å†…å­˜:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">name</span>:<span class="string">&#x27;Cola&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">set.add(obj);</span><br><span class="line">set.add(color);</span><br><span class="line"><span class="built_in">console</span>.log(set.size); <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">obj = <span class="literal">null</span>;</span><br><span class="line">color = <span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(set.size); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(set); <span class="comment">// Set &#123; &#123; name: &#x27;Cola&#x27; &#125;, &#x27;red&#x27; &#125;</span></span><br></pre></td></tr></table></figure><p>WeakSet ç»“æ„ä¸ Set ç±»ä¼¼,ä¹Ÿæ˜¯ä¸é‡å¤çš„å€¼çš„é›†åˆ.ä½†å®ƒä¸ Set æœ‰ä¸¤ä¸ªåŒºåˆ«:</p><ul><li><p>WeakSet çš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>();</span><br><span class="line">ws.add(<span class="string">&#x27;Cala&#x27;</span>);<span class="comment">//TypeError: Invalid value used in weak set</span></span><br></pre></td></tr></table></figure></li><li><p>WeakSet ä¸­çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨,å³åƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘ WeakSet å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨,ä¹Ÿå°±æ˜¯è¯´,å¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡,é‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜,ä¸è€ƒè™‘è¯¥å¯¹è±¡è¿˜å­˜åœ¨äº WeakSet ä¹‹ä¸­.å› ä¸ºè¿™ä¸ªç‰¹ç‚¹,WeakSet ä¸å¯éå†.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>();</span><br><span class="line"><span class="keyword">let</span> obj =&#123;<span class="attr">name</span>:<span class="string">&#x27;Cola&#x27;</span>&#125;</span><br><span class="line">ws.add(obj);</span><br><span class="line">ws.add(&#123;&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(ws.has(obj))<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">ws.delete(obj)</span><br><span class="line"><span class="built_in">console</span>.log(ws.has(obj))<span class="comment">//false</span></span><br></pre></td></tr></table></figure></li><li><p>Weak Set ä¸æä¾›ä»»ä½•è¿­ä»£å™¨(ä¾‹å¦‚ keys() ä¸ values() æ–¹æ³•),æ²¡æœ‰sizeå±æ€§.</p></li></ul><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>Mapç±»å‹æ˜¯ä¸€ç»„é”®å€¼å¯¹çš„ç»“æ„,å…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦.å®ƒæ˜¯é”®å€¼å¯¹çš„æœ‰åºåˆ—è¡¨ï¼Œè€Œé”®å’Œå€¼éƒ½å¯ä»¥æ˜¯ä»»æ„ç±»å‹.<br>åŸºæœ¬ç”¨æ³•:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&#x27;type&#x27;</span>,<span class="string">&#x27;food&#x27;</span>],[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;Cola&#x27;</span>]]);</span><br><span class="line">map.set(<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>).set(<span class="string">&#x27;price&#x27;</span>, <span class="number">3.5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map.size)<span class="comment">//4</span></span><br><span class="line"><span class="built_in">console</span>.log(map.get(<span class="string">&#x27;name&#x27;</span>))<span class="comment">//Cola</span></span><br><span class="line"><span class="built_in">console</span>.log(map.get(<span class="string">&#x27;size&#x27;</span>))<span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(map);<span class="comment">//Map &#123; &#x27;type&#x27; =&gt; &#x27;food&#x27;, &#x27;name&#x27; =&gt; &#x27;Cola&#x27;, &#x27;color&#x27; =&gt; &#x27;red&#x27;, &#x27;price&#x27; =&gt; 3.5 &#125;</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¯¦ç»†äº†è§£ä¸€ä¸‹Setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•:</p><ul><li>å±æ€§<ul><li>size:è¿”å›é›†åˆæ‰€åŒ…å«å…ƒç´ çš„æ•°é‡</li></ul></li><li>æ–¹æ³•<ul><li>æ“ä½œæ–¹æ³•(è§ä¾‹å­3)<ul><li>set(key, value):è®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼ä¸ºvalue,ç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„.å¦‚æœkeyå·²ç»æœ‰å€¼,åˆ™é”®å€¼ä¼šè¢«æ›´æ–°,å¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®.setæ–¹æ³•è¿”å›çš„æ˜¯å½“å‰çš„Mapå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•</li><li>get(key):è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefined</li><li>has(key):åˆ¤æ–­æŒ‡å®šé”®åœ¨Mapä¸­æ˜¯å¦å­˜åœ¨,å­˜åœ¨è¿”å›true,å¦åˆ™false</li><li>delete(ley):ç§»é™¤Mapä¸­çš„å»ºä»¥åŠå¯¹åº”çš„å€¼</li><li>clear():ç§»é™¤Mapä¸­æ‰€æœ‰çš„é”®ä¸å€¼</li></ul></li><li>éå†æ–¹æ³•(è§ä¾‹å­4)<ul><li>keys():è¿”å›é”®åçš„éå†å™¨</li><li>values():è¿”å›é”®å€¼çš„éå†å™¨</li><li>entries():è¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨</li><li>forEach():éå† Map çš„æ‰€æœ‰æˆå‘˜</li></ul></li></ul></li></ul><p>ä¾‹å­3:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">map.set(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;Cola&#x27;</span>);</span><br><span class="line">map.set(<span class="string">&#x27;price&#x27;</span>, <span class="number">3.5</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(map.has(<span class="string">&#x27;name&#x27;</span>))<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(map.has(<span class="string">&#x27;color&#x27;</span>))<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">map.delete(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map.has(<span class="string">&#x27;name&#x27;</span>))<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">map.clear();</span><br><span class="line"><span class="built_in">console</span>.log(map.size)<span class="comment">//0</span></span><br></pre></td></tr></table></figure><p>ä¾‹å­4:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;food&#x27;</span>], [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;Cola&#x27;</span>], [<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>], [<span class="string">&#x27;price&#x27;</span>, <span class="number">3.5</span>]]);</span><br><span class="line"><span class="built_in">console</span>.log(map.keys());<span class="comment">//MapIterator &#123; &#x27;type&#x27;, &#x27;name&#x27;, &#x27;color&#x27;, &#x27;price&#x27; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(map.values());<span class="comment">//MapIterator &#123; &#x27;food&#x27;, &#x27;Cola&#x27;, &#x27;red&#x27;, 3.5 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(map.entries());</span><br><span class="line"><span class="comment">//MapIterator &#123;</span></span><br><span class="line"><span class="comment">//  [ &#x27;type&#x27;, &#x27;food&#x27; ],</span></span><br><span class="line"><span class="comment">//  [ &#x27;name&#x27;, &#x27;Cola&#x27; ],</span></span><br><span class="line"><span class="comment">//  [ &#x27;color&#x27;, &#x27;red&#x27; ],</span></span><br><span class="line"><span class="comment">//  [ &#x27;price&#x27;, 3.5 ] &#125;</span></span><br><span class="line"></span><br><span class="line">map.forEach(<span class="function">(<span class="params">value, key, map</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key + <span class="string">&#x27;:&#x27;</span> + value)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//type:food</span></span><br><span class="line"><span class="comment">//name:Cola</span></span><br><span class="line"><span class="comment">//color:red</span></span><br><span class="line"><span class="comment">//price:3.5</span></span><br></pre></td></tr></table></figure><p>for oféå†æ–¹å¼:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;food&#x27;</span>], [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;Cola&#x27;</span>], [<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>], [<span class="string">&#x27;price&#x27;</span>, <span class="number">3.5</span>]]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> map.entries()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item[<span class="number">0</span>] + <span class="string">&#x27;:&#x27;</span> + item[<span class="number">1</span>])</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//type:food</span></span><br><span class="line"><span class="comment">//name:Cola</span></span><br><span class="line"><span class="comment">//color:red</span></span><br><span class="line"><span class="comment">//price:3.5</span></span><br></pre></td></tr></table></figure><h4 id="Mapä¸å…¶ä»–æ•°æ®ç»“æ„çš„ç›¸äº’è½¬æ¢"><a href="#Mapä¸å…¶ä»–æ•°æ®ç»“æ„çš„ç›¸äº’è½¬æ¢" class="headerlink" title="Mapä¸å…¶ä»–æ•°æ®ç»“æ„çš„ç›¸äº’è½¬æ¢"></a>Mapä¸å…¶ä»–æ•°æ®ç»“æ„çš„ç›¸äº’è½¬æ¢</h4><ul><li>Map =&gt; æ•°ç»„<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;food&#x27;</span>], [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;Cola&#x27;</span>], [<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>], [<span class="string">&#x27;price&#x27;</span>, <span class="number">3.5</span>]]);</span><br><span class="line"><span class="keyword">let</span> arr = [...map];<span class="comment">//æˆ–è€… let arr = Array.from(map);</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//[ [ &#x27;type&#x27;, &#x27;food&#x27; ],[ &#x27;name&#x27;, &#x27;Cola&#x27; ],[ &#x27;color&#x27;, &#x27;red&#x27; ],[ &#x27;price&#x27;, 3.5 ] ]</span></span><br></pre></td></tr></table></figure></li><li>æ•°ç»„ =&gt; Map<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;food&#x27;</span>], [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;Cola&#x27;</span>], [<span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;red&#x27;</span>], [<span class="string">&#x27;price&#x27;</span>, <span class="number">3.5</span>]]);</span><br></pre></td></tr></table></figure></li><li>Map =&gt; å¯¹è±¡<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;food&#x27;</span>], [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;Cola&#x27;</span>], [<span class="number">2</span>, <span class="string">&#x27;red&#x27;</span>]]);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapToObj</span>(<span class="params">strMap</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [k, v] <span class="keyword">of</span> strMap) &#123;</span><br><span class="line">obj[k] = v;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> strMap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(mapToObj(map))<span class="comment">//Map &#123; &#x27;type&#x27; =&gt; &#x27;food&#x27;, &#x27;name&#x27; =&gt; &#x27;Cola&#x27;, 2 =&gt; &#x27;red&#x27; &#125;</span></span><br></pre></td></tr></table></figure></li><li>å¯¹è±¡ =&gt; Map<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span>, <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">objToMap</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj)) &#123;</span><br><span class="line">map.set(item, obj[item]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(objToMap(obj));<span class="comment">//Map &#123; &#x27;name&#x27; =&gt; &#x27;Cola&#x27;, &#x27;color&#x27; =&gt; &#x27;red&#x27; &#125;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="WeakSet-1"><a href="#WeakSet-1" class="headerlink" title="WeakSet"></a>WeakSet</h2><p>å¦‚æœå¸Œæœ›ä¸å†å¼•ç”¨Mapçš„æ—¶å€™è‡ªåŠ¨è§¦å‘åƒåœ¾å›æ”¶æœºåˆ¶.é‚£ä¹ˆä¹Ÿéœ€è¦WeakMapã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"><span class="keyword">const</span> key = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">map.set(key, <span class="string">&#x27;è¿™æ˜¯ä¸€ä¸ªdiv&#x27;</span>);</span><br><span class="line"></span><br><span class="line">map.get(key) <span class="comment">// &quot;è¿™æ˜¯ä¸€ä¸ªdiv&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç§»é™¤è¯¥å…ƒç´ </span></span><br><span class="line">key.parentNode.removeChild(key);</span><br><span class="line">key = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Set&quot;&gt;&lt;a href=&quot;#Set&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptä¸­IIFE</title>
    <link href="http://example.com/2020/02/06/JavaScript%E4%B8%ADIIFE/"/>
    <id>http://example.com/2020/02/06/JavaScript%E4%B8%ADIIFE/</id>
    <published>2020-02-06T10:10:25.000Z</published>
    <updated>2021-08-07T05:59:13.820Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>IIFE(Immediately-Invoked Function Expression) ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼,ä¹Ÿå°±æ˜¯è¯´åœ¨å£°æ˜å‡½æ•°çš„åŒæ—¶ç«‹å³è°ƒç”¨è¯¥å‡½æ•°.<br>å…ˆçœ‹çœ‹IIFEçš„è¯­æ³•:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(color);</span><br><span class="line">&#125;)()<span class="comment">//red</span></span><br></pre></td></tr></table></figure><p>å¸¸è§„å‡½æ•°çš„å®šä¹‰å’Œè°ƒç”¨:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cola</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cola();<span class="comment">//red</span></span><br></pre></td></tr></table></figure><h2 id="ä¸ºä»€ä¹ˆæœ‰IIFE"><a href="#ä¸ºä»€ä¹ˆæœ‰IIFE" class="headerlink" title="ä¸ºä»€ä¹ˆæœ‰IIFE"></a>ä¸ºä»€ä¹ˆæœ‰IIFE</h2><p>å¦‚æœåªæ˜¯ä¸ºäº†æ‰§è¡Œä¸€ä¸ªå‡½æ•°,ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºå¥½å¤„æœ‰é™.å®é™…ä¸ŠIIFEçš„å‡ºç°æ˜¯ä¸ºäº†å¼¥è¡¥JSåœ¨åœ¨scopeæ–¹é¢çš„ç¼ºé™·ï¼šJSåªæœ‰å…¨å±€ä½œç”¨åŸŸ(global scope)ã€å‡½æ•°ä½œç”¨åŸŸ(function scope),ä»ES6å¼€å§‹æ‰æœ‰å—çº§ä½œç”¨åŸŸ(block scope).<br>åœ¨JSä¸­ï¼Œåªæœ‰functionæ‰èƒ½å®ç°ä½œç”¨åŸŸéš”ç¦»ï¼Œå› æ­¤å¦‚æœè¦å°†ä¸€æ®µä»£ç ä¸­çš„å˜é‡ã€å‡½æ•°ç­‰çš„å®šä¹‰éš”ç¦»å‡ºæ¥ï¼Œåªèƒ½å°†è¿™æ®µä»£ç å°è£…åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> color = <span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cola</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> color;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(cola());<span class="comment">//red</span></span><br><span class="line"><span class="built_in">console</span>.log(color);</span><br></pre></td></tr></table></figure><p>åœ¨æˆ‘ä»¬é€šå¸¸çš„ç†è§£ä¸­ï¼Œå°†ä»£ç å°è£…åˆ°å‡½æ•°ä¸­çš„ç›®çš„æ˜¯ä¸ºäº†å¤ç”¨ã€‚åœ¨JSä¸­ï¼Œå£°æ˜å‡½æ•°çš„ç›®çš„åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¹Ÿæ˜¯ä¸ºäº†å¤ç”¨ï¼Œä½†æ˜¯JSè¿«äºä½œç”¨åŸŸæ§åˆ¶æ‰‹æ®µçš„è´«ä¹ï¼Œæˆ‘ä»¬ä¹Ÿç»å¸¸çœ‹åˆ°åªä½¿ç”¨ä¸€æ¬¡çš„å‡½æ•°ï¼šç›®çš„å°±æ˜¯ä¸ºäº†éš”ç¦»ä½œç”¨åŸŸ.<br>æ—¢ç„¶åªä½¿ç”¨ä¸€æ¬¡ï¼Œé‚£ä¹ˆç«‹å³æ‰§è¡Œå¥½äº†ï¼æ—¢ç„¶åªä½¿ç”¨ä¸€æ¬¡ï¼Œå‡½æ•°çš„åå­—ä¹Ÿçœæ‰äº†ï¼è¿™å°±æ˜¯IIFEçš„ç”±æ¥ã€‚</p><h2 id="IIFEä¸€äº›è¦æ³¨æ„çš„åœ°æ–¹"><a href="#IIFEä¸€äº›è¦æ³¨æ„çš„åœ°æ–¹" class="headerlink" title="IIFEä¸€äº›è¦æ³¨æ„çš„åœ°æ–¹"></a>IIFEä¸€äº›è¦æ³¨æ„çš„åœ°æ–¹</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//statements</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><ul><li>è¡¨è¾¾å¼ä¸­çš„å˜é‡ä¸èƒ½ä»å¤–éƒ¨è®¿é—®<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line"><span class="keyword">return</span> color;</span><br><span class="line">&#125;)()<span class="comment">//red</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(color);<span class="comment">//æŠ›å‡ºé”™è¯¯ : ReferenceError: color is not defined</span></span><br></pre></td></tr></table></figure></li></ul><ul><li><p>å°†IIFEåˆ†é…ç»™ä¸€ä¸ªå˜é‡ï¼Œä¸æ˜¯å­˜å‚¨ IIFE æœ¬èº«ï¼Œè€Œæ˜¯å­˜å‚¨ IIFE æ‰§è¡Œåè¿”å›çš„ç»“æœ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line"><span class="keyword">return</span> color;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(res);<span class="comment">//red</span></span><br></pre></td></tr></table></figure></li><li><p>IIFEçš„å¤šå‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"><span class="built_in">window</span>, <span class="built_in">document</span></span>) </span>&#123;  </span><br><span class="line"><span class="comment">// è¿™é‡Œå¯ä»¥è°ƒç”¨åˆ°windowå’Œdocument    </span></span><br><span class="line">&#125;)(<span class="built_in">window</span>, <span class="built_in">document</span>); </span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>IIFEçš„ç›®çš„æ˜¯ä¸ºäº†éš”ç¦»ä½œç”¨åŸŸ,é˜²æ­¢æ±¡æŸ“å…¨å±€å‘½åç©ºé—´.</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#æ¦‚å¿µ&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptä¸­æ·±æ‹·è´å’Œæµ…æ‹·è´</title>
    <link href="http://example.com/2020/02/05/JavaScript%E4%B8%AD%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D/"/>
    <id>http://example.com/2020/02/05/JavaScript%E4%B8%AD%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D/</id>
    <published>2020-02-05T11:07:22.000Z</published>
    <updated>2021-08-07T05:59:13.806Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬åšå®¢ <a href="https://hjy-xh.github.io/">hjy-xh</a>ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„</p></blockquote><p>åœ¨JavaScriptä¸­,å¯¹äºå¼•ç”¨ç±»å‹æ•°æ®çš„å€¼,å½“ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶å¼•ç”¨ç±»å‹å€¼æ—¶ï¼Œè¿™ä¸ªå€¼çš„å‰¯æœ¬å…¶å®æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªå †å¯¹è±¡ï¼Œæ”¹å˜å…¶ä¸­ä¸€ä¸ªå˜é‡ï¼Œå¦ä¸€ä¸ªä¹Ÿä¼šå—åˆ°å½±å“.<br>è¿™ç§æ‹·è´åˆ†ä¸ºä¸¤ç§æƒ…å†µ:æ‹·è´å¼•ç”¨å’Œæ‹·è´å®ä¾‹,ä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„æµ…æ‹·è´å’Œæ·±æ‹·è´.</p><h2 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h2><ul><li><p>æµ…æ‹·è´æ˜¯æ‹·è´ä¸€å±‚ï¼Œæ·±å±‚æ¬¡çš„å¯¹è±¡çº§åˆ«çš„å°±æ‹·è´å¼•ç”¨:<br>ç¬¬ä¸€ä¸ªä¾‹å­æ˜¯ç›´æ¥æ‹·è´åŸå¯¹è±¡çš„å¼•ç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">&quot;Cola&quot;</span>, <span class="attr">detail</span>: &#123; <span class="attr">price</span>: <span class="number">3.5</span> &#125;, <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>] &#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = obj;</span><br><span class="line">obj2.name = <span class="string">&quot;Coca Cola&quot;</span>;</span><br><span class="line">obj2.detail.price = <span class="number">5</span>;</span><br><span class="line">obj2.color[<span class="number">0</span>] = <span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj)<span class="comment">//&#123; name: &#x27;Coca Cola&#x27;, detail: &#123; price: 5 &#125;, color: [ &#x27;blue&#x27; ] &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2)<span class="comment">//&#123; name: &#x27;Coca Cola&#x27;, detail: &#123; price: 5 &#125;, color: [ &#x27;blue&#x27; ] &#125;</span></span><br></pre></td></tr></table></figure><p>å†çœ‹ç¬¬äºŒä¸ªä¾‹å­,ç†è§£æ‹·è´ä¸€å±‚çš„å«ä¹‰(Object.assign()æ–¹æ³•ç”¨äºå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚å®ƒå°†è¿”å›ç›®æ ‡å¯¹è±¡ã€‚æ³¨æ„ï¼šObject.assign()æ‹·è´çš„æ˜¯å±æ€§å€¼ï¼Œå‡å¦‚æºå¯¹è±¡çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒä¹Ÿåªæ‹·è´é‚£ä¸ªå¼•ç”¨å€¼)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span>, <span class="attr">detail</span>: &#123; <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = <span class="built_in">Object</span>.assign(&#123;&#125;, obj);</span><br><span class="line">obj2.name=<span class="string">&#x27;Coca Cola&#x27;</span>;</span><br><span class="line">obj2.detail.color=<span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//&#123; name: &#x27;Cola&#x27;, detail: &#123; color: &#x27;blue&#x27; &#125; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2);<span class="comment">//&#123; name: &#x27;Coca Cola&#x27;, detail: &#123; color: &#x27;blue&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure></li><li><p>å…¶ä»–å®ç°æ–¹æ³•</p><ul><li><p>æ‰©å±•è¿ç®—ç¬¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span>, <span class="attr">detail</span>: &#123; <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;...obj&#125;;</span><br><span class="line">obj2.name=<span class="string">&#x27;Coca Cola&#x27;</span>;</span><br><span class="line">obj2.detail.color=<span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//&#123; name: &#x27;Cola&#x27;, detail: &#123; color: &#x27;blue&#x27; &#125; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2);<span class="comment">//&#123; name: &#x27;Coca Cola&#x27;, detail: &#123; color: &#x27;blue&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure></li><li><p>Array.prototype.slice(),è¯¥æ–¹æ³•æå–å¹¶è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„,å¦‚æœæºæ•°ç»„ä¸­çš„å…ƒç´ æ˜¯ä¸ªå¯¹è±¡çš„å¼•ç”¨,sliceä¼šæ‹·è´è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨åˆ°æ–°çš„æ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;Cola&#x27;</span>, &#123; <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> &#125;];</span><br><span class="line"><span class="keyword">let</span> arr2 = arr.slice();</span><br><span class="line">arr2[<span class="number">0</span>] = <span class="string">&#x27;Coca Cola&#x27;</span>;</span><br><span class="line">arr2[<span class="number">1</span>].color = <span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//[ &#x27;Cola&#x27;, &#123; color: &#x27;blue&#x27; &#125; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2);<span class="comment">//[ &#x27;Coca Cola&#x27;, &#123; color: &#x27;blue&#x27; &#125; ]</span></span><br></pre></td></tr></table></figure></li><li><p>Array.prototype.concat(),è¯¥æ–¹æ³•ç”¨äºåˆå¹¶å¤šä¸ªæ•°ç»„,å¹¶è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„,å’Œsliceæ–¹æ³•ç±»ä¼¼,å½“æºæ•°ç»„ä¸­çš„å…ƒç´ æ˜¯ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œconcatåœ¨åˆå¹¶æ—¶æ‹·è´çš„å°±æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;Cola&#x27;</span>, &#123; <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> &#125;];</span><br><span class="line"><span class="keyword">let</span> arr2 = [&#123; <span class="attr">price</span>: <span class="number">3.5</span> &#125;];</span><br><span class="line"><span class="keyword">let</span> arr3 = arr.concat(arr2);</span><br><span class="line">arr3[<span class="number">0</span>] = <span class="string">&#x27;Coca Cola&#x27;</span>;</span><br><span class="line">arr3[<span class="number">2</span>].price = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//[ &#x27;Cola&#x27;, &#123; color: &#x27;red&#x27; &#125; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2);<span class="comment">//[ &#123; price: 5 &#125; ]</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>æ‰‹åŠ¨å®ç°æµ…æ‹·è´:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shallowClone</span>(<span class="params">source</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!source || <span class="keyword">typeof</span> source !== <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;error arguments&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> target = source.constructor === <span class="built_in">Array</span> ? [] : &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> source) &#123;</span><br><span class="line"><span class="keyword">if</span> (source.hasOwnProperty(key)) &#123;</span><br><span class="line">target[key] = source[key];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = [<span class="string">&#x27;Cola&#x27;</span>, &#123; <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> &#125;];</span><br><span class="line"><span class="keyword">let</span> obj2 = shallowClone(obj);</span><br><span class="line"></span><br><span class="line">obj[<span class="number">0</span>] = <span class="string">&#x27;Coca Cola&#x27;</span></span><br><span class="line">obj[<span class="number">1</span>].color = <span class="string">&#x27;blue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj)<span class="comment">//[ &#x27;Coca Cola&#x27;, &#123; color: &#x27;blue&#x27; &#125; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2)<span class="comment">//[ &#x27;Cola&#x27;, &#123; color: &#x27;blue&#x27; &#125; ]</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h2><ul><li><p>æ·±æ‹·è´æ˜¯æ‹·è´å¤šå±‚ï¼Œæ¯ä¸€çº§åˆ«çš„æ•°æ®éƒ½ä¼šæ‹·è´å‡ºæ¥:ä¹Ÿå°±æ˜¯è¯´æ·±æ‹·è´ä¼šå¦å¤–æ‹·è´ä¸€ä»½ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡,ä»å †å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªæ–°çš„åŒºåŸŸå­˜æ”¾æ–°å¯¹è±¡,æ–°å¯¹è±¡è·ŸåŸå¯¹è±¡ä¸å…±äº«å†…å­˜ï¼Œä¿®æ”¹æ–°å¯¹è±¡ä¸ä¼šæ”¹åˆ°åŸå¯¹è±¡.</p></li><li><p>å¸¸ç”¨æ–¹æ³•:JSON.parse(JSON.stringify())</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span>, <span class="attr">detail</span>: &#123; <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj));</span><br><span class="line">obj2.name = <span class="string">&#x27;Coca Cola&#x27;</span>;</span><br><span class="line">obj2.detail.color = <span class="string">&#x27;blue&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//&#123; name: &#x27;Cola&#x27;, detail: &#123; color: &#x27;red&#x27; &#125; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2);<span class="comment">//&#123; name: &#x27;Coca Cola&#x27;, detail: &#123; color: &#x27;blue&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å‰ç«¯å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ·±æ‹·è´æ–¹å¼ã€‚åŸç†æ˜¯æŠŠä¸€ä¸ªå¯¹è±¡åºåˆ—åŒ–æˆä¸ºä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼Œå°†å¯¹è±¡çš„å†…å®¹è½¬æ¢æˆå­—ç¬¦ä¸²çš„å½¢å¼å†ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œå†ç”¨JSON.parse()ååºåˆ—åŒ–å°†JSONå­—ç¬¦ä¸²å˜æˆä¸€ä¸ªæ–°çš„å¯¹è±¡.<br>å®ƒæœ‰ä¸€äº›å€¼å¾—æ³¨æ„çš„åœ°æ–¹</p><ul><li>æ‹·è´çš„å¯¹è±¡çš„å€¼ä¸­å¦‚æœæœ‰å‡½æ•°,undefined,symbolåˆ™ç»è¿‡JSON.stringify()åºåˆ—åŒ–åçš„JSONå­—ç¬¦ä¸²ä¸­è¿™ä¸ªé”®å€¼å¯¹ä¼šæ¶ˆå¤±</li><li>å¯¹è±¡ä¸­å«æœ‰NaNã€Infinityå’Œ-Infinityï¼Œåˆ™åºåˆ—åŒ–çš„ç»“æœä¼šå˜æˆnull</li></ul></li><li><p>è¿˜å¯ä»¥å€ŸåŠ©jQueryï¼Œlodashç­‰ç¬¬ä¸‰æ–¹åº“å®Œæˆä¸€ä¸ªæ·±æ‹·è´å®ä¾‹.</p></li><li><p>æ‰‹åŠ¨å®ç°æ·±æ‹·è´</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">source</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!source || <span class="keyword">typeof</span> source !== <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;error arguments&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> target = source.constructor === <span class="built_in">Array</span> ? [] : &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> source) &#123;</span><br><span class="line"><span class="keyword">if</span> (source.hasOwnProperty(key)) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> source[key] === <span class="string">&#x27;object&#x27;</span> &amp;&amp; source[key]) &#123;</span><br><span class="line">target[key] = deepClone(source[key]);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">target[key] = source[key];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;Cola&#x27;</span>, <span class="attr">detail</span>: &#123; <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = deepClone(obj);</span><br><span class="line">obj2.name=<span class="string">&#x27;Coca Cola&#x27;</span>;</span><br><span class="line">obj2.detail.color = <span class="string">&#x27;blue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj) <span class="comment">// &#123; name: &#x27;Cola&#x27;, detail: &#123; color: &#x27;red&#x27; &#125; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2) <span class="comment">// &#123; name: &#x27;Coca Cola&#x27;, detail: &#123; color: &#x27;blue&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æœ¬åšå®¢ &lt;a href=&quot;https://hjy-xh.github.io/&quot;&gt;hjy-xh&lt;/a&gt;ï¼Œè½¬è½½è¯·ç”³æ˜å‡ºå¤„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨JavaScriptä¸­,å¯¹äºå¼•ç”¨ç±»å‹æ•°æ®çš„å€¼,å½“ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶å¼•ç”¨ç±»å‹å€¼æ—¶</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="http://example.com/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="JavaScript" scheme="http://example.com/tags/JavaScript/"/>
    
  </entry>
  
</feed>
